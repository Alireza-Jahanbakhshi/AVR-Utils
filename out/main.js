var m=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var _t=m((JE,Sf)=>{var{platform:qm,homedir:km}=require("os"),Je=require("vscode"),rn=require("fs"),Xt=require("path");Sf.exports={devices:Gm(),currentPlatform:qm(),downloadsUrl:"https://ww1.microchip.com/downloads/aemDocuments/documents/DEV/ProductDocuments/SoftwareTools/",ends:Ym(),dataObject:mo,thisWorkspace:nn,changeWorkspace:Um,initWorkspace:zm,includeDir:jm,anInnerDir:Wm,toolchainDir:bf,previousDefinitions:new Map,sendCursorTo:Hm,workspaceConfig:Je.workspace.getConfiguration,currentExtension:()=>Xt.extname(Je.window.activeTextEditor.document.fileName)};var xo=null;function zm(){xo=Je.workspace.workspaceFolders[0]}function nn(){return xo}async function Um(){xo=await Je.window.showWorkspaceFolderPick({placeHolder:"Select preferred workspace"})}function mo(t=null){if(t){rn.writeFileSync(Xt.join(__dirname,"storage","data.json"),JSON.stringify(t),"utf-8");return}return rn.readFile(Xt.join(__dirname,"storage","data.json"),"utf8",e=>{if(e){mo({toolchain_directory:`${Xt.join(km(),"Documents")}`});return}}),JSON.parse(rn.readFileSync(Xt.join(__dirname,"storage","data.json"),"utf8"))}function bf(){return mo().toolchain_directory}function jm(){return Xt.join(bf(),"avr","include")}function Wm(){let t="";return rn.existsSync(Xt.join(nn().uri.fsPath,nn().name))&&(t=nn().name),t}function Hm(t){var e=new Je.Position(0,0);Je.window.activeTextEditor.selection=new Je.Selection(e,e),Je.commands.executeCommand("cursorMove",{to:"down",by:"line",value:t.line-1}),Je.commands.executeCommand("cursorMove",{to:t.character<=1?"left":"right",by:"character",value:t.character})}function Ym(){return[{platforms:["win32"],endpoint:"avr8-gnu-toolchain-3.7.0.1796-win32.any.x86_64.zip",streamName:"toolchain.zip"},{platforms:["linux","freebsd","openbsd","netbsd","cygwin"],endpoint:"avr8-gnu-toolchain-3.7.0.1796-linux.any.x86_64.tar.gz",streamName:"toolchain.tar.gz"},{platforms:["darwin"],endpoint:"avr8-gnu-toolchain-3.7.0.1796-darwin.any.x86_64.tar.gz",streamName:"toolchain.tar.gz"}]}function Gm(){return["at43usb320","at43usb355","at76c711","at86rf401","at90c8534","at90can128","at90can32","at90can64","at90pwm1","at90pwm161","at90pwm2","at90pwm216","at90pwm2b","at90pwm3","at90pwm316","at90pwm3b","at90s1200-asm","at90s2313","at90s2323","at90s2333","at90s2343","at90s4414","at90s4433","at90s4434","at90s8515","at90s8535","at90scr100","at94K","ata5272","ata5505","ata5702m322","ata5782","ata5790","ata5790n","ata5831","ata6285","ata6286","ata6289","ata6612c","ata6613c","ata6614q","ata6616c","ata6617c","ata664251","ata664251","atmega103","atmega128","atmega1280","atmega1281","atmega1284","atmega1284","atmega1284p","atmega128rfa1","atmega128rfr2","atmega128rfr2","atmega16","atmega161","atmega162","atmega163","atmega164a","atmega164p","atmega164pa","atmega165","atmega165a","atmega165p","atmega165pa","atmega168","atmega168a","atmega168p","atmega168pa","atmega16a","atmega16a","atmega2560","atmega2561","atmega2564rfr2","atmega256rfr2","atmega32","atmega32a","atmega323","atmega324a","atmega324p","atmega324pa","atmega325","atmega3250","atmega3250a","atmega3250p","atmega3250pa","atmega325a","atmega325p","atmega328","atmega328p","atmega406","atmega48","atmega48a","atmega48p","atmega48pa","atmega48pb","atmega640","atmega644","atmega644a","atmega644p","atmega644pa","atmega644rfr2","atmega64","atmega64a","atmega64a","atmega64c1","atmega64hve","atmega64hve2","atmega64m1","atmega8","atmega8a","atmega8hva","atmega88","atmega88a","atmega88p","atmega88pa","atmega88pb","atmega8515","atmega8535","atxmega128a1","atxmega128a1u","atxmega128a3","atxmega128a3u","atxmega128a4u","atxmega128b1","atxmega128b3","atxmega128c3","atxmega128d3","atxmega128d4","atxmega192a3","atxmega192a3u","atxmega192c3","atxmega192d3","atxmega256a3","atxmega256a3b","atxmega256a3bu","atxmega256a3u","atxmega256c3","atxmega256d3","atxmega32a4","atxmega32a4u","atxmega32c3","atxmega32c4","atxmega32d3","atxmega32d4","atxmega32e5","atxmega384c3","atxmega384d3","atxmega64a1","atxmega64a1u","atxmega64a3","atxmega64a3u","atxmega64a4u","atxmega64b1","atxmega64b3","atxmega64c3","atxmega64d3","atxmega64d4","atxmega8e5","attiny10","attiny11-asm","attiny12-asm","attiny13","attiny13","attiny13a","attiny15-asm","attiny1634","attiny167","attiny20","attiny22","attiny2313","attiny2313a","attiny25","attiny26","attiny261","attiny261a","attiny28-asm","attiny40","attiny4313","attiny43u","attiny44","attiny44a","attiny441","attiny45","attiny461","attiny461a","attiny48","attiny828","attiny84","attiny84a","attiny841","attiny85","attiny861","attiny861a","attiny87","attiny88","m3000"]}});var on=m((QE,Rf)=>{var sn=require("vscode"),$m=require("path"),{includeDir:_f}=_t();function yo(t,e){return sn.languages.registerDocumentLinkProvider("avr-c",{provideDocumentLinks:i=>{let r=[];for(let n=0;n<i.lineCount;n++){let o=i.lineAt(n).text.match(t);o&&r.push(new sn.DocumentLink(new sn.Range(n,o.index+10+o[1].length,n,o.index+10+o[1].length+o[2].length),sn.Uri.file($m.join(e,o[2]))))}return r}})}var po=yo(/#(\s*?)include <(.*)>/,_f());function Zm(){po.dispose(),po=yo(/#(\s*?)include <(.*)>/,_f())}Rf.exports={includeDirProvider:po,createLinkProvider:yo,resetIncludeDir:Zm}});var wo=m((eb,Df)=>{var go=require("vscode"),Of=require("fs"),an=require("path"),{includeDir:Km}=_t();function Vm(t,e,i){let r=[],n=[];function s(){Of.readdirSync(an.join(t,...n)).forEach(a=>{if(Of.statSync(an.join(t,...n,a)).isDirectory())n.push(a),s();else if(a.endsWith(e)){let l=new go.CompletionItem(an.join(...n,a),go.CompletionItemKind.File);l.insertText=`${an.join(...n,a)}${i}`,r.push(l)}}),n.length>0&&n.pop()}return s(),r}function Tf({directory:t,triggers:e=[],regex:i=/#include\s+<([^>]*)$/,end:r=">"}){return go.languages.registerCompletionItemProvider("avr-c",{provideCompletionItems:(n,s)=>{if(n.lineAt(s).text.substring(0,s.character).match(i))return{isIncomplete:!1,items:Vm(t,".h",r)}}},...e)}Df.exports={defaultCompletions:Tf({directory:Km(),triggers:["<"]}),registerCompletions:Tf}});var cn=m((tb,Cf)=>{var De=require("vscode"),wi=require("fs"),lr=require("path"),{devices:Xm,initWorkspace:Jm,thisWorkspace:ln,previousDefinitions:Qm}=_t(),{createLinkProvider:ep}=on(),{registerCompletions:tp}=wo(),Te=null,fn=!1,Rt=De.window.createStatusBarItem(De.StatusBarAlignment.Right,2),Qe=De.window.createStatusBarItem(De.StatusBarAlignment.Right,1);async function ip(t){De.commands.registerCommand("avr-utils.selectDevice",sp),Eo(t),De.workspace.onDidChangeWorkspaceFolders(e=>{e.removed.length>0&&(bo=!0,t.subscriptions.pop(),t.subscriptions.pop(),De.workspace.workspaceFolders&&Eo(t)),e.added.length>0&&Eo(t)}),rp(),np()}function rp(){Rt.text="$(debug-start) Build",Rt.tooltip="Compile the code for the selected device",Rt.command="avr-utils.compileProject",Te?(Qe.text=Te,Qe.tooltip=`Compiling for ${Te}`,Af()):Qe.text="Select AVR Device",Qe.command="avr-utils.selectDevice"}async function np(){for(;;){await new Promise(t=>{setTimeout(t,500)});try{De.window.activeTextEditor?De.window.activeTextEditor.document.languageId!=="avr-c"&&De.window.activeTextEditor.document.languageId!=="asm"?vo(!0):vo():vo(!0)}finally{}}}function vo(t=!1){t?(fn&&Rt.hide(),Qe.hide()):(fn&&Rt.show(),Qe.show())}async function sp(){let t=await De.window.showQuickPick(Xm,{placeHolder:"Select AVR Device",canPickMany:!1,title:"List of Available AVR Devices"});t!==void 0&&(Qm.clear(),Te=t,Qe.text=Te,t.endsWith("-asm")&&(Te=t.substring(0,t.length-4),Qe.text=`${Te} (Assembly Only)`),Qe.tooltip=`Compiling for ${Te}`,fn||Af(),wi.writeFileSync(lr.join(ln().uri.fsPath,".vscode","avr_project.json"),JSON.stringify({avrDevice:Te}),"utf8"))}function Af(){fn=!0,Rt.show()}function op(t=!0){t?Rt.text="$(sync~spin) Building...":Rt.text="$(debug-start) Build"}function ap(){return Te}var bo=!0;async function Eo(t){if(bo&&De.workspace.workspaceFolders){Jm();let e=lr.join(ln().uri.fsPath,".vscode");if(wi.existsSync(e)||wi.mkdirSync(e),t.subscriptions.push(ep(/#(\s*?)include "(.*)"/,ln().uri.fsPath)),t.subscriptions.push(tp({directory:ln().uri.fsPath,triggers:['"'],regex:/#include\s+"([^"]*)$/,end:""})),wi.existsSync(lr.join(e,"avr_project.json"))){let i=JSON.parse(wi.readFileSync(lr.join(e,"avr_project.json"),"utf8"));i.avrDevice&&(Te=i.avrDevice)}else wi.writeFileSync(lr.join(e,"avr_project.json"),JSON.stringify({avrDevice:Te}),"utf8");bo=!1}}Cf.exports={init:ip,spinCompileButton:op,selectedDevice:ap}});var Pf=m((ib,Mf)=>{var de=require("vscode"),Ff=require("fs"),lp=require("os"),qe=require("path"),fp=require("child_process"),{currentPlatform:cp,downloadsUrl:hp,ends:up,thisWorkspace:ke,changeWorkspace:dp,anInnerDir:vi,toolchainDir:fr,dataObject:Bf,currentExtension:hn,sendCursorTo:xp}=_t(),{resetIncludeDir:mp}=on(),{selectedDevice:Lf,spinCompileButton:If}=cn();async function Nf(){if(hn()==".h")return;if(de.workspace.saveAll(),de.window.activeTextEditor.document.uri.fsPath.includes(ke().uri.fsPath)||await dp(),!Ff.existsSync(fr())||!Ff.existsSync(qe.join(fr(),"bin"))){let n=await de.window.showErrorMessage(`No toolchain found at "${fr()}".
Download a new toolchain?`,{modal:!0},"Yes","Locate Toolchain Directory");if(n==="Yes"){de.commands.executeCommand("avr-utils.getToolchain",cp,hp,up);return}if(n==="Locate Toolchain Directory"){let s=await de.window.showOpenDialog({canSelectFiles:!1,canSelectMany:!1,canSelectFolders:!0,title:'Locate the avr8-gnu-toolchain folder that contains a "bin" folder that has the avr-gcc executable.',defaultUri:de.Uri.file(qe.join(lp.homedir(),"Documents"))});if(s){let o=Bf();o.toolchain_directory=s[0].fsPath,Bf(o),Nf()}}mp();return}if(!Lf()&&hn()===".c"){de.window.showErrorMessage("Please select a device first");return}try{await de.workspace.fs.stat(de.Uri.file(qe.join(ke().uri.fsPath,vi(),"Debug")))}catch{await de.workspace.fs.createDirectory(de.Uri.file(qe.join(ke().uri.fsPath,vi(),"Debug")))}let t=`"${qe.join(fr(),"bin",hn()===".c"?"avr-gcc":"avr-as")}" ${hn()===".c"?`-x c -mmcu=${Lf()} `:""} "${de.window.activeTextEditor.document.uri.fsPath}"`,e=`${t} -o "${qe.join(ke().uri.fsPath,vi(),"Debug","main.o")}"`,i=`${t} -o "${qe.join(ke().uri.fsPath,vi(),"Debug",`${ke().name}.elf`)}"`,r=`"${qe.join(fr(),"bin","avr-objcopy")}" -O ihex -R .eeprom -R .fuse -R .lock -R .signature -R .user_signatures "${qe.join(ke().uri.fsPath,vi(),"Debug",`${ke().name}.elf`)}" "${qe.join(ke().uri.fsPath,vi(),"Debug",`${ke().name}.hex`)}"`;If(),fp.exec(`${e} && ${i} && ${r}`,{windowsHide:!0},n=>{if(n){var s=n.message.split(`
`,2)[1];de.window.showErrorMessage(`Build Failed:
`+s);var o=s.split(":"),a=Number(o[2]),l=Number(o[3])-1,h=new de.Position(a,l);xp(h)}else de.window.showInformationMessage("Build Completed");If(!1)})}Mf.exports=Nf});var Ei=m((rb,kf)=>{"use strict";var qf=new Map([["C","cwd"],["f","file"],["z","gzip"],["P","preservePaths"],["U","unlink"],["strip-components","strip"],["stripComponents","strip"],["keep-newer","newer"],["keepNewer","newer"],["keep-newer-files","newer"],["keepNewerFiles","newer"],["k","keep"],["keep-existing","keep"],["keepExisting","keep"],["m","noMtime"],["no-mtime","noMtime"],["p","preserveOwner"],["L","follow"],["h","follow"]]);kf.exports=t=>t?Object.keys(t).map(e=>[qf.has(e)?qf.get(e):e,t[e]]).reduce((e,i)=>(e[i[0]]=i[1],e),Object.create(null)):{}});var gn=m(Kf=>{"use strict";var zf=typeof process=="object"&&process?process:{stdout:null,stderr:null},pp=require("events"),Uf=require("stream"),yp=require("string_decoder"),jf=yp.StringDecoder,et=Symbol("EOF"),tt=Symbol("maybeEmitEnd"),Ot=Symbol("emittedEnd"),un=Symbol("emittingEnd"),cr=Symbol("emittedError"),dn=Symbol("closed"),Wf=Symbol("read"),xn=Symbol("flush"),Hf=Symbol("flushChunk"),ye=Symbol("encoding"),it=Symbol("decoder"),mn=Symbol("flowing"),hr=Symbol("paused"),bi=Symbol("resume"),$=Symbol("buffer"),ze=Symbol("pipes"),X=Symbol("bufferLength"),So=Symbol("bufferPush"),_o=Symbol("bufferShift"),te=Symbol("objectMode"),Z=Symbol("destroyed"),Ro=Symbol("error"),Oo=Symbol("emitData"),Yf=Symbol("emitEnd"),To=Symbol("emitEnd2"),rt=Symbol("async"),Do=Symbol("abort"),pn=Symbol("aborted"),Jt=Symbol("signal"),ur=t=>Promise.resolve().then(t),Zf=global._MP_NO_ITERATOR_SYMBOLS_!=="1",Gf=Zf&&Symbol.asyncIterator||Symbol("asyncIterator not implemented"),$f=Zf&&Symbol.iterator||Symbol("iterator not implemented"),gp=t=>t==="end"||t==="finish"||t==="prefinish",wp=t=>t instanceof ArrayBuffer||typeof t=="object"&&t.constructor&&t.constructor.name==="ArrayBuffer"&&t.byteLength>=0,vp=t=>!Buffer.isBuffer(t)&&ArrayBuffer.isView(t),yn=class{constructor(e,i,r){this.src=e,this.dest=i,this.opts=r,this.ondrain=()=>e[bi](),i.on("drain",this.ondrain)}unpipe(){this.dest.removeListener("drain",this.ondrain)}proxyErrors(){}end(){this.unpipe(),this.opts.end&&this.dest.end()}},Ao=class extends yn{unpipe(){this.src.removeListener("error",this.proxyErrors),super.unpipe()}constructor(e,i,r){super(e,i,r),this.proxyErrors=n=>i.emit("error",n),e.on("error",this.proxyErrors)}},Co=class t extends Uf{constructor(e){super(),this[mn]=!1,this[hr]=!1,this[ze]=[],this[$]=[],this[te]=e&&e.objectMode||!1,this[te]?this[ye]=null:this[ye]=e&&e.encoding||null,this[ye]==="buffer"&&(this[ye]=null),this[rt]=e&&!!e.async||!1,this[it]=this[ye]?new jf(this[ye]):null,this[et]=!1,this[Ot]=!1,this[un]=!1,this[dn]=!1,this[cr]=null,this.writable=!0,this.readable=!0,this[X]=0,this[Z]=!1,e&&e.debugExposeBuffer===!0&&Object.defineProperty(this,"buffer",{get:()=>this[$]}),e&&e.debugExposePipes===!0&&Object.defineProperty(this,"pipes",{get:()=>this[ze]}),this[Jt]=e&&e.signal,this[pn]=!1,this[Jt]&&(this[Jt].addEventListener("abort",()=>this[Do]()),this[Jt].aborted&&this[Do]())}get bufferLength(){return this[X]}get encoding(){return this[ye]}set encoding(e){if(this[te])throw new Error("cannot set encoding in objectMode");if(this[ye]&&e!==this[ye]&&(this[it]&&this[it].lastNeed||this[X]))throw new Error("cannot change encoding");this[ye]!==e&&(this[it]=e?new jf(e):null,this[$].length&&(this[$]=this[$].map(i=>this[it].write(i)))),this[ye]=e}setEncoding(e){this.encoding=e}get objectMode(){return this[te]}set objectMode(e){this[te]=this[te]||!!e}get async(){return this[rt]}set async(e){this[rt]=this[rt]||!!e}[Do](){this[pn]=!0,this.emit("abort",this[Jt].reason),this.destroy(this[Jt].reason)}get aborted(){return this[pn]}set aborted(e){}write(e,i,r){if(this[pn])return!1;if(this[et])throw new Error("write after end");if(this[Z])return this.emit("error",Object.assign(new Error("Cannot call write after a stream was destroyed"),{code:"ERR_STREAM_DESTROYED"})),!0;typeof i=="function"&&(r=i,i="utf8"),i||(i="utf8");let n=this[rt]?ur:s=>s();return!this[te]&&!Buffer.isBuffer(e)&&(vp(e)?e=Buffer.from(e.buffer,e.byteOffset,e.byteLength):wp(e)?e=Buffer.from(e):typeof e!="string"&&(this.objectMode=!0)),this[te]?(this.flowing&&this[X]!==0&&this[xn](!0),this.flowing?this.emit("data",e):this[So](e),this[X]!==0&&this.emit("readable"),r&&n(r),this.flowing):e.length?(typeof e=="string"&&!(i===this[ye]&&!this[it].lastNeed)&&(e=Buffer.from(e,i)),Buffer.isBuffer(e)&&this[ye]&&(e=this[it].write(e)),this.flowing&&this[X]!==0&&this[xn](!0),this.flowing?this.emit("data",e):this[So](e),this[X]!==0&&this.emit("readable"),r&&n(r),this.flowing):(this[X]!==0&&this.emit("readable"),r&&n(r),this.flowing)}read(e){if(this[Z])return null;if(this[X]===0||e===0||e>this[X])return this[tt](),null;this[te]&&(e=null),this[$].length>1&&!this[te]&&(this.encoding?this[$]=[this[$].join("")]:this[$]=[Buffer.concat(this[$],this[X])]);let i=this[Wf](e||null,this[$][0]);return this[tt](),i}[Wf](e,i){return e===i.length||e===null?this[_o]():(this[$][0]=i.slice(e),i=i.slice(0,e),this[X]-=e),this.emit("data",i),!this[$].length&&!this[et]&&this.emit("drain"),i}end(e,i,r){return typeof e=="function"&&(r=e,e=null),typeof i=="function"&&(r=i,i="utf8"),e&&this.write(e,i),r&&this.once("end",r),this[et]=!0,this.writable=!1,(this.flowing||!this[hr])&&this[tt](),this}[bi](){this[Z]||(this[hr]=!1,this[mn]=!0,this.emit("resume"),this[$].length?this[xn]():this[et]?this[tt]():this.emit("drain"))}resume(){return this[bi]()}pause(){this[mn]=!1,this[hr]=!0}get destroyed(){return this[Z]}get flowing(){return this[mn]}get paused(){return this[hr]}[So](e){this[te]?this[X]+=1:this[X]+=e.length,this[$].push(e)}[_o](){return this[te]?this[X]-=1:this[X]-=this[$][0].length,this[$].shift()}[xn](e){do;while(this[Hf](this[_o]())&&this[$].length);!e&&!this[$].length&&!this[et]&&this.emit("drain")}[Hf](e){return this.emit("data",e),this.flowing}pipe(e,i){if(this[Z])return;let r=this[Ot];return i=i||{},e===zf.stdout||e===zf.stderr?i.end=!1:i.end=i.end!==!1,i.proxyErrors=!!i.proxyErrors,r?i.end&&e.end():(this[ze].push(i.proxyErrors?new Ao(this,e,i):new yn(this,e,i)),this[rt]?ur(()=>this[bi]()):this[bi]()),e}unpipe(e){let i=this[ze].find(r=>r.dest===e);i&&(this[ze].splice(this[ze].indexOf(i),1),i.unpipe())}addListener(e,i){return this.on(e,i)}on(e,i){let r=super.on(e,i);return e==="data"&&!this[ze].length&&!this.flowing?this[bi]():e==="readable"&&this[X]!==0?super.emit("readable"):gp(e)&&this[Ot]?(super.emit(e),this.removeAllListeners(e)):e==="error"&&this[cr]&&(this[rt]?ur(()=>i.call(this,this[cr])):i.call(this,this[cr])),r}get emittedEnd(){return this[Ot]}[tt](){!this[un]&&!this[Ot]&&!this[Z]&&this[$].length===0&&this[et]&&(this[un]=!0,this.emit("end"),this.emit("prefinish"),this.emit("finish"),this[dn]&&this.emit("close"),this[un]=!1)}emit(e,i,...r){if(e!=="error"&&e!=="close"&&e!==Z&&this[Z])return;if(e==="data")return!this[te]&&!i?!1:this[rt]?ur(()=>this[Oo](i)):this[Oo](i);if(e==="end")return this[Yf]();if(e==="close"){if(this[dn]=!0,!this[Ot]&&!this[Z])return;let s=super.emit("close");return this.removeAllListeners("close"),s}else if(e==="error"){this[cr]=i,super.emit(Ro,i);let s=!this[Jt]||this.listeners("error").length?super.emit("error",i):!1;return this[tt](),s}else if(e==="resume"){let s=super.emit("resume");return this[tt](),s}else if(e==="finish"||e==="prefinish"){let s=super.emit(e);return this.removeAllListeners(e),s}let n=super.emit(e,i,...r);return this[tt](),n}[Oo](e){for(let r of this[ze])r.dest.write(e)===!1&&this.pause();let i=super.emit("data",e);return this[tt](),i}[Yf](){this[Ot]||(this[Ot]=!0,this.readable=!1,this[rt]?ur(()=>this[To]()):this[To]())}[To](){if(this[it]){let i=this[it].end();if(i){for(let r of this[ze])r.dest.write(i);super.emit("data",i)}}for(let i of this[ze])i.end();let e=super.emit("end");return this.removeAllListeners("end"),e}collect(){let e=[];this[te]||(e.dataLength=0);let i=this.promise();return this.on("data",r=>{e.push(r),this[te]||(e.dataLength+=r.length)}),i.then(()=>e)}concat(){return this[te]?Promise.reject(new Error("cannot concat in objectMode")):this.collect().then(e=>this[te]?Promise.reject(new Error("cannot concat in objectMode")):this[ye]?e.join(""):Buffer.concat(e,e.dataLength))}promise(){return new Promise((e,i)=>{this.on(Z,()=>i(new Error("stream destroyed"))),this.on("error",r=>i(r)),this.on("end",()=>e())})}[Gf](){let e=!1,i=()=>(this.pause(),e=!0,Promise.resolve({done:!0}));return{next:()=>{if(e)return i();let n=this.read();if(n!==null)return Promise.resolve({done:!1,value:n});if(this[et])return i();let s=null,o=null,a=u=>{this.removeListener("data",l),this.removeListener("end",h),this.removeListener(Z,f),i(),o(u)},l=u=>{this.removeListener("error",a),this.removeListener("end",h),this.removeListener(Z,f),this.pause(),s({value:u,done:!!this[et]})},h=()=>{this.removeListener("error",a),this.removeListener("data",l),this.removeListener(Z,f),i(),s({done:!0})},f=()=>a(new Error("stream destroyed"));return new Promise((u,c)=>{o=c,s=u,this.once(Z,f),this.once("error",a),this.once("end",h),this.once("data",l)})},throw:i,return:i,[Gf](){return this}}}[$f](){let e=!1,i=()=>(this.pause(),this.removeListener(Ro,i),this.removeListener(Z,i),this.removeListener("end",i),e=!0,{done:!0}),r=()=>{if(e)return i();let n=this.read();return n===null?i():{value:n}};return this.once("end",i),this.once(Ro,i),this.once(Z,i),{next:r,throw:i,return:i,[$f](){return this}}}destroy(e){return this[Z]?(e?this.emit("error",e):this.emit(Z),this):(this[Z]=!0,this[$].length=0,this[X]=0,typeof this.close=="function"&&!this[dn]&&this.close(),e?this.emit("error",e):this.emit(Z),this)}static isStream(e){return!!e&&(e instanceof t||e instanceof Uf||e instanceof pp&&(typeof e.pipe=="function"||typeof e.write=="function"&&typeof e.end=="function"))}};Kf.Minipass=Co});var Xf=m((sb,Vf)=>{var Ep=require("zlib").constants||{ZLIB_VERNUM:4736};Vf.exports=Object.freeze(Object.assign(Object.create(null),{Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_VERSION_ERROR:-6,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,DEFLATE:1,INFLATE:2,GZIP:3,GUNZIP:4,DEFLATERAW:5,INFLATERAW:6,UNZIP:7,BROTLI_DECODE:8,BROTLI_ENCODE:9,Z_MIN_WINDOWBITS:8,Z_MAX_WINDOWBITS:15,Z_DEFAULT_WINDOWBITS:15,Z_MIN_CHUNK:64,Z_MAX_CHUNK:1/0,Z_DEFAULT_CHUNK:16384,Z_MIN_MEMLEVEL:1,Z_MAX_MEMLEVEL:9,Z_DEFAULT_MEMLEVEL:8,Z_MIN_LEVEL:-1,Z_MAX_LEVEL:9,Z_DEFAULT_LEVEL:-1,BROTLI_OPERATION_PROCESS:0,BROTLI_OPERATION_FLUSH:1,BROTLI_OPERATION_FINISH:2,BROTLI_OPERATION_EMIT_METADATA:3,BROTLI_MODE_GENERIC:0,BROTLI_MODE_TEXT:1,BROTLI_MODE_FONT:2,BROTLI_DEFAULT_MODE:0,BROTLI_MIN_QUALITY:0,BROTLI_MAX_QUALITY:11,BROTLI_DEFAULT_QUALITY:11,BROTLI_MIN_WINDOW_BITS:10,BROTLI_MAX_WINDOW_BITS:24,BROTLI_LARGE_MAX_WINDOW_BITS:30,BROTLI_DEFAULT_WINDOW:22,BROTLI_MIN_INPUT_BLOCK_BITS:16,BROTLI_MAX_INPUT_BLOCK_BITS:24,BROTLI_PARAM_MODE:0,BROTLI_PARAM_QUALITY:1,BROTLI_PARAM_LGWIN:2,BROTLI_PARAM_LGBLOCK:3,BROTLI_PARAM_DISABLE_LITERAL_CONTEXT_MODELING:4,BROTLI_PARAM_SIZE_HINT:5,BROTLI_PARAM_LARGE_WINDOW:6,BROTLI_PARAM_NPOSTFIX:7,BROTLI_PARAM_NDIRECT:8,BROTLI_DECODER_RESULT_ERROR:0,BROTLI_DECODER_RESULT_SUCCESS:1,BROTLI_DECODER_RESULT_NEEDS_MORE_INPUT:2,BROTLI_DECODER_RESULT_NEEDS_MORE_OUTPUT:3,BROTLI_DECODER_PARAM_DISABLE_RING_BUFFER_REALLOCATION:0,BROTLI_DECODER_PARAM_LARGE_WINDOW:1,BROTLI_DECODER_NO_ERROR:0,BROTLI_DECODER_SUCCESS:1,BROTLI_DECODER_NEEDS_MORE_INPUT:2,BROTLI_DECODER_NEEDS_MORE_OUTPUT:3,BROTLI_DECODER_ERROR_FORMAT_EXUBERANT_NIBBLE:-1,BROTLI_DECODER_ERROR_FORMAT_RESERVED:-2,BROTLI_DECODER_ERROR_FORMAT_EXUBERANT_META_NIBBLE:-3,BROTLI_DECODER_ERROR_FORMAT_SIMPLE_HUFFMAN_ALPHABET:-4,BROTLI_DECODER_ERROR_FORMAT_SIMPLE_HUFFMAN_SAME:-5,BROTLI_DECODER_ERROR_FORMAT_CL_SPACE:-6,BROTLI_DECODER_ERROR_FORMAT_HUFFMAN_SPACE:-7,BROTLI_DECODER_ERROR_FORMAT_CONTEXT_MAP_REPEAT:-8,BROTLI_DECODER_ERROR_FORMAT_BLOCK_LENGTH_1:-9,BROTLI_DECODER_ERROR_FORMAT_BLOCK_LENGTH_2:-10,BROTLI_DECODER_ERROR_FORMAT_TRANSFORM:-11,BROTLI_DECODER_ERROR_FORMAT_DICTIONARY:-12,BROTLI_DECODER_ERROR_FORMAT_WINDOW_BITS:-13,BROTLI_DECODER_ERROR_FORMAT_PADDING_1:-14,BROTLI_DECODER_ERROR_FORMAT_PADDING_2:-15,BROTLI_DECODER_ERROR_FORMAT_DISTANCE:-16,BROTLI_DECODER_ERROR_DICTIONARY_NOT_SET:-19,BROTLI_DECODER_ERROR_INVALID_ARGUMENTS:-20,BROTLI_DECODER_ERROR_ALLOC_CONTEXT_MODES:-21,BROTLI_DECODER_ERROR_ALLOC_TREE_GROUPS:-22,BROTLI_DECODER_ERROR_ALLOC_CONTEXT_MAP:-25,BROTLI_DECODER_ERROR_ALLOC_RING_BUFFER_1:-26,BROTLI_DECODER_ERROR_ALLOC_RING_BUFFER_2:-27,BROTLI_DECODER_ERROR_ALLOC_BLOCK_TYPE_TREES:-30,BROTLI_DECODER_ERROR_UNREACHABLE:-31},Ep))});var ac=m((ob,oc)=>{"use strict";var Jf=typeof process=="object"&&process?process:{stdout:null,stderr:null},bp=require("events"),Qf=require("stream"),ec=require("string_decoder").StringDecoder,nt=Symbol("EOF"),st=Symbol("maybeEmitEnd"),Tt=Symbol("emittedEnd"),wn=Symbol("emittingEnd"),dr=Symbol("emittedError"),vn=Symbol("closed"),tc=Symbol("read"),En=Symbol("flush"),ic=Symbol("flushChunk"),ge=Symbol("encoding"),ot=Symbol("decoder"),bn=Symbol("flowing"),xr=Symbol("paused"),Si=Symbol("resume"),J=Symbol("bufferLength"),Fo=Symbol("bufferPush"),Bo=Symbol("bufferShift"),ae=Symbol("objectMode"),le=Symbol("destroyed"),Lo=Symbol("emitData"),rc=Symbol("emitEnd"),Io=Symbol("emitEnd2"),at=Symbol("async"),mr=t=>Promise.resolve().then(t),nc=global._MP_NO_ITERATOR_SYMBOLS_!=="1",Sp=nc&&Symbol.asyncIterator||Symbol("asyncIterator not implemented"),_p=nc&&Symbol.iterator||Symbol("iterator not implemented"),Rp=t=>t==="end"||t==="finish"||t==="prefinish",Op=t=>t instanceof ArrayBuffer||typeof t=="object"&&t.constructor&&t.constructor.name==="ArrayBuffer"&&t.byteLength>=0,Tp=t=>!Buffer.isBuffer(t)&&ArrayBuffer.isView(t),Sn=class{constructor(e,i,r){this.src=e,this.dest=i,this.opts=r,this.ondrain=()=>e[Si](),i.on("drain",this.ondrain)}unpipe(){this.dest.removeListener("drain",this.ondrain)}proxyErrors(){}end(){this.unpipe(),this.opts.end&&this.dest.end()}},No=class extends Sn{unpipe(){this.src.removeListener("error",this.proxyErrors),super.unpipe()}constructor(e,i,r){super(e,i,r),this.proxyErrors=n=>i.emit("error",n),e.on("error",this.proxyErrors)}};oc.exports=class sc extends Qf{constructor(e){super(),this[bn]=!1,this[xr]=!1,this.pipes=[],this.buffer=[],this[ae]=e&&e.objectMode||!1,this[ae]?this[ge]=null:this[ge]=e&&e.encoding||null,this[ge]==="buffer"&&(this[ge]=null),this[at]=e&&!!e.async||!1,this[ot]=this[ge]?new ec(this[ge]):null,this[nt]=!1,this[Tt]=!1,this[wn]=!1,this[vn]=!1,this[dr]=null,this.writable=!0,this.readable=!0,this[J]=0,this[le]=!1}get bufferLength(){return this[J]}get encoding(){return this[ge]}set encoding(e){if(this[ae])throw new Error("cannot set encoding in objectMode");if(this[ge]&&e!==this[ge]&&(this[ot]&&this[ot].lastNeed||this[J]))throw new Error("cannot change encoding");this[ge]!==e&&(this[ot]=e?new ec(e):null,this.buffer.length&&(this.buffer=this.buffer.map(i=>this[ot].write(i)))),this[ge]=e}setEncoding(e){this.encoding=e}get objectMode(){return this[ae]}set objectMode(e){this[ae]=this[ae]||!!e}get async(){return this[at]}set async(e){this[at]=this[at]||!!e}write(e,i,r){if(this[nt])throw new Error("write after end");if(this[le])return this.emit("error",Object.assign(new Error("Cannot call write after a stream was destroyed"),{code:"ERR_STREAM_DESTROYED"})),!0;typeof i=="function"&&(r=i,i="utf8"),i||(i="utf8");let n=this[at]?mr:s=>s();return!this[ae]&&!Buffer.isBuffer(e)&&(Tp(e)?e=Buffer.from(e.buffer,e.byteOffset,e.byteLength):Op(e)?e=Buffer.from(e):typeof e!="string"&&(this.objectMode=!0)),this[ae]?(this.flowing&&this[J]!==0&&this[En](!0),this.flowing?this.emit("data",e):this[Fo](e),this[J]!==0&&this.emit("readable"),r&&n(r),this.flowing):e.length?(typeof e=="string"&&!(i===this[ge]&&!this[ot].lastNeed)&&(e=Buffer.from(e,i)),Buffer.isBuffer(e)&&this[ge]&&(e=this[ot].write(e)),this.flowing&&this[J]!==0&&this[En](!0),this.flowing?this.emit("data",e):this[Fo](e),this[J]!==0&&this.emit("readable"),r&&n(r),this.flowing):(this[J]!==0&&this.emit("readable"),r&&n(r),this.flowing)}read(e){if(this[le])return null;if(this[J]===0||e===0||e>this[J])return this[st](),null;this[ae]&&(e=null),this.buffer.length>1&&!this[ae]&&(this.encoding?this.buffer=[this.buffer.join("")]:this.buffer=[Buffer.concat(this.buffer,this[J])]);let i=this[tc](e||null,this.buffer[0]);return this[st](),i}[tc](e,i){return e===i.length||e===null?this[Bo]():(this.buffer[0]=i.slice(e),i=i.slice(0,e),this[J]-=e),this.emit("data",i),!this.buffer.length&&!this[nt]&&this.emit("drain"),i}end(e,i,r){return typeof e=="function"&&(r=e,e=null),typeof i=="function"&&(r=i,i="utf8"),e&&this.write(e,i),r&&this.once("end",r),this[nt]=!0,this.writable=!1,(this.flowing||!this[xr])&&this[st](),this}[Si](){this[le]||(this[xr]=!1,this[bn]=!0,this.emit("resume"),this.buffer.length?this[En]():this[nt]?this[st]():this.emit("drain"))}resume(){return this[Si]()}pause(){this[bn]=!1,this[xr]=!0}get destroyed(){return this[le]}get flowing(){return this[bn]}get paused(){return this[xr]}[Fo](e){this[ae]?this[J]+=1:this[J]+=e.length,this.buffer.push(e)}[Bo](){return this.buffer.length&&(this[ae]?this[J]-=1:this[J]-=this.buffer[0].length),this.buffer.shift()}[En](e){do;while(this[ic](this[Bo]()));!e&&!this.buffer.length&&!this[nt]&&this.emit("drain")}[ic](e){return e?(this.emit("data",e),this.flowing):!1}pipe(e,i){if(this[le])return;let r=this[Tt];return i=i||{},e===Jf.stdout||e===Jf.stderr?i.end=!1:i.end=i.end!==!1,i.proxyErrors=!!i.proxyErrors,r?i.end&&e.end():(this.pipes.push(i.proxyErrors?new No(this,e,i):new Sn(this,e,i)),this[at]?mr(()=>this[Si]()):this[Si]()),e}unpipe(e){let i=this.pipes.find(r=>r.dest===e);i&&(this.pipes.splice(this.pipes.indexOf(i),1),i.unpipe())}addListener(e,i){return this.on(e,i)}on(e,i){let r=super.on(e,i);return e==="data"&&!this.pipes.length&&!this.flowing?this[Si]():e==="readable"&&this[J]!==0?super.emit("readable"):Rp(e)&&this[Tt]?(super.emit(e),this.removeAllListeners(e)):e==="error"&&this[dr]&&(this[at]?mr(()=>i.call(this,this[dr])):i.call(this,this[dr])),r}get emittedEnd(){return this[Tt]}[st](){!this[wn]&&!this[Tt]&&!this[le]&&this.buffer.length===0&&this[nt]&&(this[wn]=!0,this.emit("end"),this.emit("prefinish"),this.emit("finish"),this[vn]&&this.emit("close"),this[wn]=!1)}emit(e,i,...r){if(e!=="error"&&e!=="close"&&e!==le&&this[le])return;if(e==="data")return i?this[at]?mr(()=>this[Lo](i)):this[Lo](i):!1;if(e==="end")return this[rc]();if(e==="close"){if(this[vn]=!0,!this[Tt]&&!this[le])return;let s=super.emit("close");return this.removeAllListeners("close"),s}else if(e==="error"){this[dr]=i;let s=super.emit("error",i);return this[st](),s}else if(e==="resume"){let s=super.emit("resume");return this[st](),s}else if(e==="finish"||e==="prefinish"){let s=super.emit(e);return this.removeAllListeners(e),s}let n=super.emit(e,i,...r);return this[st](),n}[Lo](e){for(let r of this.pipes)r.dest.write(e)===!1&&this.pause();let i=super.emit("data",e);return this[st](),i}[rc](){this[Tt]||(this[Tt]=!0,this.readable=!1,this[at]?mr(()=>this[Io]()):this[Io]())}[Io](){if(this[ot]){let i=this[ot].end();if(i){for(let r of this.pipes)r.dest.write(i);super.emit("data",i)}}for(let i of this.pipes)i.end();let e=super.emit("end");return this.removeAllListeners("end"),e}collect(){let e=[];this[ae]||(e.dataLength=0);let i=this.promise();return this.on("data",r=>{e.push(r),this[ae]||(e.dataLength+=r.length)}),i.then(()=>e)}concat(){return this[ae]?Promise.reject(new Error("cannot concat in objectMode")):this.collect().then(e=>this[ae]?Promise.reject(new Error("cannot concat in objectMode")):this[ge]?e.join(""):Buffer.concat(e,e.dataLength))}promise(){return new Promise((e,i)=>{this.on(le,()=>i(new Error("stream destroyed"))),this.on("error",r=>i(r)),this.on("end",()=>e())})}[Sp](){return{next:()=>{let i=this.read();if(i!==null)return Promise.resolve({done:!1,value:i});if(this[nt])return Promise.resolve({done:!0});let r=null,n=null,s=h=>{this.removeListener("data",o),this.removeListener("end",a),n(h)},o=h=>{this.removeListener("error",s),this.removeListener("end",a),this.pause(),r({value:h,done:!!this[nt]})},a=()=>{this.removeListener("error",s),this.removeListener("data",o),r({done:!0})},l=()=>s(new Error("stream destroyed"));return new Promise((h,f)=>{n=f,r=h,this.once(le,l),this.once("error",s),this.once("end",a),this.once("data",o)})}}}[_p](){return{next:()=>{let i=this.read();return{value:i,done:i===null}}}}destroy(e){return this[le]?(e?this.emit("error",e):this.emit(le),this):(this[le]=!0,this.buffer.length=0,this[J]=0,typeof this.close=="function"&&!this[vn]&&this.close(),e?this.emit("error",e):this.emit(le),this)}static isStream(e){return!!e&&(e instanceof sc||e instanceof Qf||e instanceof bp&&(typeof e.pipe=="function"||typeof e.write=="function"&&typeof e.end=="function"))}}});var Xo=m(Ee=>{"use strict";var zo=require("assert"),Dt=require("buffer").Buffer,cc=require("zlib"),Qt=Ee.constants=Xf(),Dp=ac(),lc=Dt.concat,ei=Symbol("_superWrite"),Ri=class extends Error{constructor(e){super("zlib: "+e.message),this.code=e.code,this.errno=e.errno,this.code||(this.code="ZLIB_ERROR"),this.message="zlib: "+e.message,Error.captureStackTrace(this,this.constructor)}get name(){return"ZlibError"}},Ap=Symbol("opts"),pr=Symbol("flushFlag"),fc=Symbol("finishFlushFlag"),Vo=Symbol("fullFlushFlag"),P=Symbol("handle"),_n=Symbol("onError"),_i=Symbol("sawError"),Mo=Symbol("level"),Po=Symbol("strategy"),qo=Symbol("ended"),ab=Symbol("_defaultFullFlush"),Rn=class extends Dp{constructor(e,i){if(!e||typeof e!="object")throw new TypeError("invalid options for ZlibBase constructor");super(e),this[_i]=!1,this[qo]=!1,this[Ap]=e,this[pr]=e.flush,this[fc]=e.finishFlush;try{this[P]=new cc[i](e)}catch(r){throw new Ri(r)}this[_n]=r=>{this[_i]||(this[_i]=!0,this.close(),this.emit("error",r))},this[P].on("error",r=>this[_n](new Ri(r))),this.once("end",()=>this.close)}close(){this[P]&&(this[P].close(),this[P]=null,this.emit("close"))}reset(){if(!this[_i])return zo(this[P],"zlib binding closed"),this[P].reset()}flush(e){this.ended||(typeof e!="number"&&(e=this[Vo]),this.write(Object.assign(Dt.alloc(0),{[pr]:e})))}end(e,i,r){return e&&this.write(e,i),this.flush(this[fc]),this[qo]=!0,super.end(null,null,r)}get ended(){return this[qo]}write(e,i,r){if(typeof i=="function"&&(r=i,i="utf8"),typeof e=="string"&&(e=Dt.from(e,i)),this[_i])return;zo(this[P],"zlib binding closed");let n=this[P]._handle,s=n.close;n.close=()=>{};let o=this[P].close;this[P].close=()=>{},Dt.concat=h=>h;let a;try{let h=typeof e[pr]=="number"?e[pr]:this[pr];a=this[P]._processChunk(e,h),Dt.concat=lc}catch(h){Dt.concat=lc,this[_n](new Ri(h))}finally{this[P]&&(this[P]._handle=n,n.close=s,this[P].close=o,this[P].removeAllListeners("error"))}this[P]&&this[P].on("error",h=>this[_n](new Ri(h)));let l;if(a)if(Array.isArray(a)&&a.length>0){l=this[ei](Dt.from(a[0]));for(let h=1;h<a.length;h++)l=this[ei](a[h])}else l=this[ei](Dt.from(a));return r&&r(),l}[ei](e){return super.write(e)}},lt=class extends Rn{constructor(e,i){e=e||{},e.flush=e.flush||Qt.Z_NO_FLUSH,e.finishFlush=e.finishFlush||Qt.Z_FINISH,super(e,i),this[Vo]=Qt.Z_FULL_FLUSH,this[Mo]=e.level,this[Po]=e.strategy}params(e,i){if(!this[_i]){if(!this[P])throw new Error("cannot switch params when binding is closed");if(!this[P].params)throw new Error("not supported in this implementation");if(this[Mo]!==e||this[Po]!==i){this.flush(Qt.Z_SYNC_FLUSH),zo(this[P],"zlib binding closed");let r=this[P].flush;this[P].flush=(n,s)=>{this.flush(n),s()};try{this[P].params(e,i)}finally{this[P].flush=r}this[P]&&(this[Mo]=e,this[Po]=i)}}}},Uo=class extends lt{constructor(e){super(e,"Deflate")}},jo=class extends lt{constructor(e){super(e,"Inflate")}},ko=Symbol("_portable"),Wo=class extends lt{constructor(e){super(e,"Gzip"),this[ko]=e&&!!e.portable}[ei](e){return this[ko]?(this[ko]=!1,e[9]=255,super[ei](e)):super[ei](e)}},Ho=class extends lt{constructor(e){super(e,"Gunzip")}},Yo=class extends lt{constructor(e){super(e,"DeflateRaw")}},Go=class extends lt{constructor(e){super(e,"InflateRaw")}},$o=class extends lt{constructor(e){super(e,"Unzip")}},On=class extends Rn{constructor(e,i){e=e||{},e.flush=e.flush||Qt.BROTLI_OPERATION_PROCESS,e.finishFlush=e.finishFlush||Qt.BROTLI_OPERATION_FINISH,super(e,i),this[Vo]=Qt.BROTLI_OPERATION_FLUSH}},Zo=class extends On{constructor(e){super(e,"BrotliCompress")}},Ko=class extends On{constructor(e){super(e,"BrotliDecompress")}};Ee.Deflate=Uo;Ee.Inflate=jo;Ee.Gzip=Wo;Ee.Gunzip=Ho;Ee.DeflateRaw=Yo;Ee.InflateRaw=Go;Ee.Unzip=$o;typeof cc.BrotliCompress=="function"?(Ee.BrotliCompress=Zo,Ee.BrotliDecompress=Ko):Ee.BrotliCompress=Ee.BrotliDecompress=class{constructor(){throw new Error("Brotli is not supported in this version of Node.js")}}});var Oi=m((cb,hc)=>{var Cp=process.env.TESTING_TAR_FAKE_PLATFORM||process.platform;hc.exports=Cp!=="win32"?t=>t:t=>t&&t.replace(/\\/g,"/")});var Tn=m((ub,uc)=>{"use strict";var{Minipass:Fp}=gn(),Jo=Oi(),Qo=Symbol("slurp");uc.exports=class extends Fp{constructor(e,i,r){switch(super(),this.pause(),this.extended=i,this.globalExtended=r,this.header=e,this.startBlockSize=512*Math.ceil(e.size/512),this.blockRemain=this.startBlockSize,this.remain=e.size,this.type=e.type,this.meta=!1,this.ignore=!1,this.type){case"File":case"OldFile":case"Link":case"SymbolicLink":case"CharacterDevice":case"BlockDevice":case"Directory":case"FIFO":case"ContiguousFile":case"GNUDumpDir":break;case"NextFileHasLongLinkpath":case"NextFileHasLongPath":case"OldGnuLongPath":case"GlobalExtendedHeader":case"ExtendedHeader":case"OldExtendedHeader":this.meta=!0;break;default:this.ignore=!0}this.path=Jo(e.path),this.mode=e.mode,this.mode&&(this.mode=this.mode&4095),this.uid=e.uid,this.gid=e.gid,this.uname=e.uname,this.gname=e.gname,this.size=e.size,this.mtime=e.mtime,this.atime=e.atime,this.ctime=e.ctime,this.linkpath=Jo(e.linkpath),this.uname=e.uname,this.gname=e.gname,i&&this[Qo](i),r&&this[Qo](r,!0)}write(e){let i=e.length;if(i>this.blockRemain)throw new Error("writing more to entry than is appropriate");let r=this.remain,n=this.blockRemain;return this.remain=Math.max(0,r-i),this.blockRemain=Math.max(0,n-i),this.ignore?!0:r>=i?super.write(e):super.write(e.slice(0,r))}[Qo](e,i){for(let r in e)e[r]!==null&&e[r]!==void 0&&!(i&&r==="path")&&(this[r]=r==="path"||r==="linkpath"?Jo(e[r]):e[r])}}});var ea=m(Dn=>{"use strict";Dn.name=new Map([["0","File"],["","OldFile"],["1","Link"],["2","SymbolicLink"],["3","CharacterDevice"],["4","BlockDevice"],["5","Directory"],["6","FIFO"],["7","ContiguousFile"],["g","GlobalExtendedHeader"],["x","ExtendedHeader"],["A","SolarisACL"],["D","GNUDumpDir"],["I","Inode"],["K","NextFileHasLongLinkpath"],["L","NextFileHasLongPath"],["M","ContinuationFile"],["N","OldGnuLongPath"],["S","SparseFile"],["V","TapeVolumeHeader"],["X","OldExtendedHeader"]]);Dn.code=new Map(Array.from(Dn.name).map(t=>[t[1],t[0]]))});var pc=m((xb,mc)=>{"use strict";var Bp=(t,e)=>{if(Number.isSafeInteger(t))t<0?Ip(t,e):Lp(t,e);else throw Error("cannot encode number outside of javascript safe integer range");return e},Lp=(t,e)=>{e[0]=128;for(var i=e.length;i>1;i--)e[i-1]=t&255,t=Math.floor(t/256)},Ip=(t,e)=>{e[0]=255;var i=!1;t=t*-1;for(var r=e.length;r>1;r--){var n=t&255;t=Math.floor(t/256),i?e[r-1]=dc(n):n===0?e[r-1]=0:(i=!0,e[r-1]=xc(n))}},Np=t=>{let e=t[0],i=e===128?Pp(t.slice(1,t.length)):e===255?Mp(t):null;if(i===null)throw Error("invalid base256 encoding");if(!Number.isSafeInteger(i))throw Error("parsed number outside of javascript safe integer range");return i},Mp=t=>{for(var e=t.length,i=0,r=!1,n=e-1;n>-1;n--){var s=t[n],o;r?o=dc(s):s===0?o=s:(r=!0,o=xc(s)),o!==0&&(i-=o*Math.pow(256,e-n-1))}return i},Pp=t=>{for(var e=t.length,i=0,r=e-1;r>-1;r--){var n=t[r];n!==0&&(i+=n*Math.pow(256,e-r-1))}return i},dc=t=>(255^t)&255,xc=t=>(255^t)+1&255;mc.exports={encode:Bp,parse:Np}});var Di=m((mb,gc)=>{"use strict";var ta=ea(),Ti=require("path").posix,yc=pc(),ia=Symbol("slurp"),be=Symbol("type"),sa=class{constructor(e,i,r,n){this.cksumValid=!1,this.needPax=!1,this.nullBlock=!1,this.block=null,this.path=null,this.mode=null,this.uid=null,this.gid=null,this.size=null,this.mtime=null,this.cksum=null,this[be]="0",this.linkpath=null,this.uname=null,this.gname=null,this.devmaj=0,this.devmin=0,this.atime=null,this.ctime=null,Buffer.isBuffer(e)?this.decode(e,i||0,r,n):e&&this.set(e)}decode(e,i,r,n){if(i||(i=0),!e||!(e.length>=i+512))throw new Error("need 512 bytes for header");if(this.path=ti(e,i,100),this.mode=At(e,i+100,8),this.uid=At(e,i+108,8),this.gid=At(e,i+116,8),this.size=At(e,i+124,12),this.mtime=ra(e,i+136,12),this.cksum=At(e,i+148,12),this[ia](r),this[ia](n,!0),this[be]=ti(e,i+156,1),this[be]===""&&(this[be]="0"),this[be]==="0"&&this.path.slice(-1)==="/"&&(this[be]="5"),this[be]==="5"&&(this.size=0),this.linkpath=ti(e,i+157,100),e.slice(i+257,i+265).toString()==="ustar\x0000")if(this.uname=ti(e,i+265,32),this.gname=ti(e,i+297,32),this.devmaj=At(e,i+329,8),this.devmin=At(e,i+337,8),e[i+475]!==0){let o=ti(e,i+345,155);this.path=o+"/"+this.path}else{let o=ti(e,i+345,130);o&&(this.path=o+"/"+this.path),this.atime=ra(e,i+476,12),this.ctime=ra(e,i+488,12)}let s=8*32;for(let o=i;o<i+148;o++)s+=e[o];for(let o=i+156;o<i+512;o++)s+=e[o];this.cksumValid=s===this.cksum,this.cksum===null&&s===8*32&&(this.nullBlock=!0)}[ia](e,i){for(let r in e)e[r]!==null&&e[r]!==void 0&&!(i&&r==="path")&&(this[r]=e[r])}encode(e,i){if(e||(e=this.block=Buffer.alloc(512),i=0),i||(i=0),!(e.length>=i+512))throw new Error("need 512 bytes for header");let r=this.ctime||this.atime?130:155,n=qp(this.path||"",r),s=n[0],o=n[1];this.needPax=n[2],this.needPax=ii(e,i,100,s)||this.needPax,this.needPax=Ct(e,i+100,8,this.mode)||this.needPax,this.needPax=Ct(e,i+108,8,this.uid)||this.needPax,this.needPax=Ct(e,i+116,8,this.gid)||this.needPax,this.needPax=Ct(e,i+124,12,this.size)||this.needPax,this.needPax=na(e,i+136,12,this.mtime)||this.needPax,e[i+156]=this[be].charCodeAt(0),this.needPax=ii(e,i+157,100,this.linkpath)||this.needPax,e.write("ustar\x0000",i+257,8),this.needPax=ii(e,i+265,32,this.uname)||this.needPax,this.needPax=ii(e,i+297,32,this.gname)||this.needPax,this.needPax=Ct(e,i+329,8,this.devmaj)||this.needPax,this.needPax=Ct(e,i+337,8,this.devmin)||this.needPax,this.needPax=ii(e,i+345,r,o)||this.needPax,e[i+475]!==0?this.needPax=ii(e,i+345,155,o)||this.needPax:(this.needPax=ii(e,i+345,130,o)||this.needPax,this.needPax=na(e,i+476,12,this.atime)||this.needPax,this.needPax=na(e,i+488,12,this.ctime)||this.needPax);let a=8*32;for(let l=i;l<i+148;l++)a+=e[l];for(let l=i+156;l<i+512;l++)a+=e[l];return this.cksum=a,Ct(e,i+148,8,this.cksum),this.cksumValid=!0,this.needPax}set(e){for(let i in e)e[i]!==null&&e[i]!==void 0&&(this[i]=e[i])}get type(){return ta.name.get(this[be])||this[be]}get typeKey(){return this[be]}set type(e){ta.code.has(e)?this[be]=ta.code.get(e):this[be]=e}},qp=(t,e)=>{let r=t,n="",s,o=Ti.parse(t).root||".";if(Buffer.byteLength(r)<100)s=[r,n,!1];else{n=Ti.dirname(r),r=Ti.basename(r);do Buffer.byteLength(r)<=100&&Buffer.byteLength(n)<=e?s=[r,n,!1]:Buffer.byteLength(r)>100&&Buffer.byteLength(n)<=e?s=[r.slice(0,99),n,!0]:(r=Ti.join(Ti.basename(n),r),n=Ti.dirname(n));while(n!==o&&!s);s||(s=[t.slice(0,99),"",!0])}return s},ti=(t,e,i)=>t.slice(e,e+i).toString("utf8").replace(/\0.*/,""),ra=(t,e,i)=>kp(At(t,e,i)),kp=t=>t===null?null:new Date(t*1e3),At=(t,e,i)=>t[e]&128?yc.parse(t.slice(e,e+i)):Up(t,e,i),zp=t=>isNaN(t)?null:t,Up=(t,e,i)=>zp(parseInt(t.slice(e,e+i).toString("utf8").replace(/\0.*$/,"").trim(),8)),jp={12:8589934591,8:2097151},Ct=(t,e,i,r)=>r===null?!1:r>jp[i]||r<0?(yc.encode(r,t.slice(e,e+i)),!0):(Wp(t,e,i,r),!1),Wp=(t,e,i,r)=>t.write(Hp(r,i),e,i,"ascii"),Hp=(t,e)=>Yp(Math.floor(t).toString(8),e),Yp=(t,e)=>(t.length===e-1?t:new Array(e-t.length-1).join("0")+t+" ")+"\0",na=(t,e,i,r)=>r===null?!1:Ct(t,e,i,r.getTime()/1e3),Gp=new Array(156).join("\0"),ii=(t,e,i,r)=>r===null?!1:(t.write(r+Gp,e,i,"utf8"),r.length!==Buffer.byteLength(r)||r.length>i);gc.exports=sa});var An=m((pb,wc)=>{"use strict";var $p=Di(),Zp=require("path"),yr=class{constructor(e,i){this.atime=e.atime||null,this.charset=e.charset||null,this.comment=e.comment||null,this.ctime=e.ctime||null,this.gid=e.gid||null,this.gname=e.gname||null,this.linkpath=e.linkpath||null,this.mtime=e.mtime||null,this.path=e.path||null,this.size=e.size||null,this.uid=e.uid||null,this.uname=e.uname||null,this.dev=e.dev||null,this.ino=e.ino||null,this.nlink=e.nlink||null,this.global=i||!1}encode(){let e=this.encodeBody();if(e==="")return null;let i=Buffer.byteLength(e),r=512*Math.ceil(1+i/512),n=Buffer.allocUnsafe(r);for(let s=0;s<512;s++)n[s]=0;new $p({path:("PaxHeader/"+Zp.basename(this.path)).slice(0,99),mode:this.mode||420,uid:this.uid||null,gid:this.gid||null,size:i,mtime:this.mtime||null,type:this.global?"GlobalExtendedHeader":"ExtendedHeader",linkpath:"",uname:this.uname||"",gname:this.gname||"",devmaj:0,devmin:0,atime:this.atime||null,ctime:this.ctime||null}).encode(n),n.write(e,512,i,"utf8");for(let s=i+512;s<n.length;s++)n[s]=0;return n}encodeBody(){return this.encodeField("path")+this.encodeField("ctime")+this.encodeField("atime")+this.encodeField("dev")+this.encodeField("ino")+this.encodeField("nlink")+this.encodeField("charset")+this.encodeField("comment")+this.encodeField("gid")+this.encodeField("gname")+this.encodeField("linkpath")+this.encodeField("mtime")+this.encodeField("size")+this.encodeField("uid")+this.encodeField("uname")}encodeField(e){if(this[e]===null||this[e]===void 0)return"";let i=this[e]instanceof Date?this[e].getTime()/1e3:this[e],r=" "+(e==="dev"||e==="ino"||e==="nlink"?"SCHILY.":"")+e+"="+i+`
`,n=Buffer.byteLength(r),s=Math.floor(Math.log(n)/Math.log(10))+1;return n+s>=Math.pow(10,s)&&(s+=1),s+n+r}};yr.parse=(t,e,i)=>new yr(Kp(Vp(t),e),i);var Kp=(t,e)=>e?Object.keys(t).reduce((i,r)=>(i[r]=t[r],i),e):t,Vp=t=>t.replace(/\n$/,"").split(`
`).reduce(Xp,Object.create(null)),Xp=(t,e)=>{let i=parseInt(e,10);if(i!==Buffer.byteLength(e)+1)return t;e=e.slice((i+" ").length);let r=e.split("="),n=r.shift().replace(/^SCHILY\.(dev|ino|nlink)/,"$1");if(!n)return t;let s=r.join("=");return t[n]=/^([A-Z]+\.)?([mac]|birth|creation)time$/.test(n)?new Date(s*1e3):/^[0-9]+$/.test(s)?+s:s,t};wc.exports=yr});var Ai=m((yb,vc)=>{vc.exports=t=>{let e=t.length-1,i=-1;for(;e>-1&&t.charAt(e)==="/";)i=e,e--;return i===-1?t:t.slice(0,i)}});var Cn=m((gb,Ec)=>{"use strict";Ec.exports=t=>class extends t{warn(e,i,r={}){this.file&&(r.file=this.file),this.cwd&&(r.cwd=this.cwd),r.code=i instanceof Error&&i.code||e,r.tarCode=e,!this.strict&&r.recoverable!==!1?(i instanceof Error&&(r=Object.assign(i,r),i=i.message),this.emit("warn",r.tarCode,i,r)):i instanceof Error?this.emit("error",Object.assign(i,r)):this.emit("error",Object.assign(new Error(`${e}: ${i}`),r))}}});var aa=m((vb,bc)=>{"use strict";var Fn=["|","<",">","?",":"],oa=Fn.map(t=>String.fromCharCode(61440+t.charCodeAt(0))),Jp=new Map(Fn.map((t,e)=>[t,oa[e]])),Qp=new Map(oa.map((t,e)=>[t,Fn[e]]));bc.exports={encode:t=>Fn.reduce((e,i)=>e.split(i).join(Jp.get(i)),t),decode:t=>oa.reduce((e,i)=>e.split(i).join(Qp.get(i)),t)}});var la=m((Eb,_c)=>{var{isAbsolute:ey,parse:Sc}=require("path").win32;_c.exports=t=>{let e="",i=Sc(t);for(;ey(t)||i.root;){let r=t.charAt(0)==="/"&&t.slice(0,4)!=="//?/"?"/":i.root;t=t.slice(r.length),e+=r,i=Sc(t)}return[e,t]}});var Oc=m((bb,Rc)=>{"use strict";Rc.exports=(t,e,i)=>(t&=4095,i&&(t=(t|384)&-19),e&&(t&256&&(t|=64),t&32&&(t|=8),t&4&&(t|=1)),t)});var ga=m((Rb,zc)=>{"use strict";var{Minipass:Lc}=gn(),Ic=An(),Nc=Di(),je=require("fs"),Tc=require("path"),Ue=Oi(),ty=Ai(),Mc=(t,e)=>e?(t=Ue(t).replace(/^\.(\/|$)/,""),ty(e)+"/"+t):Ue(t),iy=16*1024*1024,Dc=Symbol("process"),Ac=Symbol("file"),Cc=Symbol("directory"),ca=Symbol("symlink"),Fc=Symbol("hardlink"),gr=Symbol("header"),Bn=Symbol("read"),ha=Symbol("lstat"),Ln=Symbol("onlstat"),ua=Symbol("onread"),da=Symbol("onreadlink"),xa=Symbol("openfile"),ma=Symbol("onopenfile"),Ft=Symbol("close"),In=Symbol("mode"),pa=Symbol("awaitDrain"),fa=Symbol("ondrain"),We=Symbol("prefix"),Bc=Symbol("hadError"),Pc=Cn(),ry=aa(),qc=la(),kc=Oc(),Nn=Pc(class extends Lc{constructor(e,i){if(i=i||{},super(i),typeof e!="string")throw new TypeError("path is required");this.path=Ue(e),this.portable=!!i.portable,this.myuid=process.getuid&&process.getuid()||0,this.myuser=process.env.USER||"",this.maxReadSize=i.maxReadSize||iy,this.linkCache=i.linkCache||new Map,this.statCache=i.statCache||new Map,this.preservePaths=!!i.preservePaths,this.cwd=Ue(i.cwd||process.cwd()),this.strict=!!i.strict,this.noPax=!!i.noPax,this.noMtime=!!i.noMtime,this.mtime=i.mtime||null,this.prefix=i.prefix?Ue(i.prefix):null,this.fd=null,this.blockLen=null,this.blockRemain=null,this.buf=null,this.offset=null,this.length=null,this.pos=null,this.remain=null,typeof i.onwarn=="function"&&this.on("warn",i.onwarn);let r=!1;if(!this.preservePaths){let[n,s]=qc(this.path);n&&(this.path=s,r=n)}this.win32=!!i.win32||process.platform==="win32",this.win32&&(this.path=ry.decode(this.path.replace(/\\/g,"/")),e=e.replace(/\\/g,"/")),this.absolute=Ue(i.absolute||Tc.resolve(this.cwd,e)),this.path===""&&(this.path="./"),r&&this.warn("TAR_ENTRY_INFO",`stripping ${r} from absolute path`,{entry:this,path:r+this.path}),this.statCache.has(this.absolute)?this[Ln](this.statCache.get(this.absolute)):this[ha]()}emit(e,...i){return e==="error"&&(this[Bc]=!0),super.emit(e,...i)}[ha](){je.lstat(this.absolute,(e,i)=>{if(e)return this.emit("error",e);this[Ln](i)})}[Ln](e){this.statCache.set(this.absolute,e),this.stat=e,e.isFile()||(e.size=0),this.type=sy(e),this.emit("stat",e),this[Dc]()}[Dc](){switch(this.type){case"File":return this[Ac]();case"Directory":return this[Cc]();case"SymbolicLink":return this[ca]();default:return this.end()}}[In](e){return kc(e,this.type==="Directory",this.portable)}[We](e){return Mc(e,this.prefix)}[gr](){this.type==="Directory"&&this.portable&&(this.noMtime=!0),this.header=new Nc({path:this[We](this.path),linkpath:this.type==="Link"?this[We](this.linkpath):this.linkpath,mode:this[In](this.stat.mode),uid:this.portable?null:this.stat.uid,gid:this.portable?null:this.stat.gid,size:this.stat.size,mtime:this.noMtime?null:this.mtime||this.stat.mtime,type:this.type,uname:this.portable?null:this.stat.uid===this.myuid?this.myuser:"",atime:this.portable?null:this.stat.atime,ctime:this.portable?null:this.stat.ctime}),this.header.encode()&&!this.noPax&&super.write(new Ic({atime:this.portable?null:this.header.atime,ctime:this.portable?null:this.header.ctime,gid:this.portable?null:this.header.gid,mtime:this.noMtime?null:this.mtime||this.header.mtime,path:this[We](this.path),linkpath:this.type==="Link"?this[We](this.linkpath):this.linkpath,size:this.header.size,uid:this.portable?null:this.header.uid,uname:this.portable?null:this.header.uname,dev:this.portable?null:this.stat.dev,ino:this.portable?null:this.stat.ino,nlink:this.portable?null:this.stat.nlink}).encode()),super.write(this.header.block)}[Cc](){this.path.slice(-1)!=="/"&&(this.path+="/"),this.stat.size=0,this[gr](),this.end()}[ca](){je.readlink(this.absolute,(e,i)=>{if(e)return this.emit("error",e);this[da](i)})}[da](e){this.linkpath=Ue(e),this[gr](),this.end()}[Fc](e){this.type="Link",this.linkpath=Ue(Tc.relative(this.cwd,e)),this.stat.size=0,this[gr](),this.end()}[Ac](){if(this.stat.nlink>1){let e=this.stat.dev+":"+this.stat.ino;if(this.linkCache.has(e)){let i=this.linkCache.get(e);if(i.indexOf(this.cwd)===0)return this[Fc](i)}this.linkCache.set(e,this.absolute)}if(this[gr](),this.stat.size===0)return this.end();this[xa]()}[xa](){je.open(this.absolute,"r",(e,i)=>{if(e)return this.emit("error",e);this[ma](i)})}[ma](e){if(this.fd=e,this[Bc])return this[Ft]();this.blockLen=512*Math.ceil(this.stat.size/512),this.blockRemain=this.blockLen;let i=Math.min(this.blockLen,this.maxReadSize);this.buf=Buffer.allocUnsafe(i),this.offset=0,this.pos=0,this.remain=this.stat.size,this.length=this.buf.length,this[Bn]()}[Bn](){let{fd:e,buf:i,offset:r,length:n,pos:s}=this;je.read(e,i,r,n,s,(o,a)=>{if(o)return this[Ft](()=>this.emit("error",o));this[ua](a)})}[Ft](e){je.close(this.fd,e)}[ua](e){if(e<=0&&this.remain>0){let n=new Error("encountered unexpected EOF");return n.path=this.absolute,n.syscall="read",n.code="EOF",this[Ft](()=>this.emit("error",n))}if(e>this.remain){let n=new Error("did not encounter expected EOF");return n.path=this.absolute,n.syscall="read",n.code="EOF",this[Ft](()=>this.emit("error",n))}if(e===this.remain)for(let n=e;n<this.length&&e<this.blockRemain;n++)this.buf[n+this.offset]=0,e++,this.remain++;let i=this.offset===0&&e===this.buf.length?this.buf:this.buf.slice(this.offset,this.offset+e);this.write(i)?this[fa]():this[pa](()=>this[fa]())}[pa](e){this.once("drain",e)}write(e){if(this.blockRemain<e.length){let i=new Error("writing more data than expected");return i.path=this.absolute,this.emit("error",i)}return this.remain-=e.length,this.blockRemain-=e.length,this.pos+=e.length,this.offset+=e.length,super.write(e)}[fa](){if(!this.remain)return this.blockRemain&&super.write(Buffer.alloc(this.blockRemain)),this[Ft](e=>e?this.emit("error",e):this.end());this.offset>=this.length&&(this.buf=Buffer.allocUnsafe(Math.min(this.blockRemain,this.buf.length)),this.offset=0),this.length=this.buf.length-this.offset,this[Bn]()}}),ya=class extends Nn{[ha](){this[Ln](je.lstatSync(this.absolute))}[ca](){this[da](je.readlinkSync(this.absolute))}[xa](){this[ma](je.openSync(this.absolute,"r"))}[Bn](){let e=!0;try{let{fd:i,buf:r,offset:n,length:s,pos:o}=this,a=je.readSync(i,r,n,s,o);this[ua](a),e=!1}finally{if(e)try{this[Ft](()=>{})}catch{}}}[pa](e){e()}[Ft](e){je.closeSync(this.fd),e()}},ny=Pc(class extends Lc{constructor(e,i){i=i||{},super(i),this.preservePaths=!!i.preservePaths,this.portable=!!i.portable,this.strict=!!i.strict,this.noPax=!!i.noPax,this.noMtime=!!i.noMtime,this.readEntry=e,this.type=e.type,this.type==="Directory"&&this.portable&&(this.noMtime=!0),this.prefix=i.prefix||null,this.path=Ue(e.path),this.mode=this[In](e.mode),this.uid=this.portable?null:e.uid,this.gid=this.portable?null:e.gid,this.uname=this.portable?null:e.uname,this.gname=this.portable?null:e.gname,this.size=e.size,this.mtime=this.noMtime?null:i.mtime||e.mtime,this.atime=this.portable?null:e.atime,this.ctime=this.portable?null:e.ctime,this.linkpath=Ue(e.linkpath),typeof i.onwarn=="function"&&this.on("warn",i.onwarn);let r=!1;if(!this.preservePaths){let[n,s]=qc(this.path);n&&(this.path=s,r=n)}this.remain=e.size,this.blockRemain=e.startBlockSize,this.header=new Nc({path:this[We](this.path),linkpath:this.type==="Link"?this[We](this.linkpath):this.linkpath,mode:this.mode,uid:this.portable?null:this.uid,gid:this.portable?null:this.gid,size:this.size,mtime:this.noMtime?null:this.mtime,type:this.type,uname:this.portable?null:this.uname,atime:this.portable?null:this.atime,ctime:this.portable?null:this.ctime}),r&&this.warn("TAR_ENTRY_INFO",`stripping ${r} from absolute path`,{entry:this,path:r+this.path}),this.header.encode()&&!this.noPax&&super.write(new Ic({atime:this.portable?null:this.atime,ctime:this.portable?null:this.ctime,gid:this.portable?null:this.gid,mtime:this.noMtime?null:this.mtime,path:this[We](this.path),linkpath:this.type==="Link"?this[We](this.linkpath):this.linkpath,size:this.size,uid:this.portable?null:this.uid,uname:this.portable?null:this.uname,dev:this.portable?null:this.readEntry.dev,ino:this.portable?null:this.readEntry.ino,nlink:this.portable?null:this.readEntry.nlink}).encode()),super.write(this.header.block),e.pipe(this)}[We](e){return Mc(e,this.prefix)}[In](e){return kc(e,this.type==="Directory",this.portable)}write(e){let i=e.length;if(i>this.blockRemain)throw new Error("writing more to entry than is appropriate");return this.blockRemain-=i,super.write(e)}end(){return this.blockRemain&&super.write(Buffer.alloc(this.blockRemain)),super.end()}});Nn.Sync=ya;Nn.Tar=ny;var sy=t=>t.isFile()?"File":t.isDirectory()?"Directory":t.isSymbolicLink()?"SymbolicLink":"Unsupported";zc.exports=Nn});var jc=m((Ob,Uc)=>{"use strict";Uc.exports=function(t){t.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}});var wa=m((Tb,Wc)=>{"use strict";Wc.exports=T;T.Node=ri;T.create=T;function T(t){var e=this;if(e instanceof T||(e=new T),e.tail=null,e.head=null,e.length=0,t&&typeof t.forEach=="function")t.forEach(function(n){e.push(n)});else if(arguments.length>0)for(var i=0,r=arguments.length;i<r;i++)e.push(arguments[i]);return e}T.prototype.removeNode=function(t){if(t.list!==this)throw new Error("removing node which does not belong to this list");var e=t.next,i=t.prev;return e&&(e.prev=i),i&&(i.next=e),t===this.head&&(this.head=e),t===this.tail&&(this.tail=i),t.list.length--,t.next=null,t.prev=null,t.list=null,e};T.prototype.unshiftNode=function(t){if(t!==this.head){t.list&&t.list.removeNode(t);var e=this.head;t.list=this,t.next=e,e&&(e.prev=t),this.head=t,this.tail||(this.tail=t),this.length++}};T.prototype.pushNode=function(t){if(t!==this.tail){t.list&&t.list.removeNode(t);var e=this.tail;t.list=this,t.prev=e,e&&(e.next=t),this.tail=t,this.head||(this.head=t),this.length++}};T.prototype.push=function(){for(var t=0,e=arguments.length;t<e;t++)ay(this,arguments[t]);return this.length};T.prototype.unshift=function(){for(var t=0,e=arguments.length;t<e;t++)ly(this,arguments[t]);return this.length};T.prototype.pop=function(){if(this.tail){var t=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,t}};T.prototype.shift=function(){if(this.head){var t=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,t}};T.prototype.forEach=function(t,e){e=e||this;for(var i=this.head,r=0;i!==null;r++)t.call(e,i.value,r,this),i=i.next};T.prototype.forEachReverse=function(t,e){e=e||this;for(var i=this.tail,r=this.length-1;i!==null;r--)t.call(e,i.value,r,this),i=i.prev};T.prototype.get=function(t){for(var e=0,i=this.head;i!==null&&e<t;e++)i=i.next;if(e===t&&i!==null)return i.value};T.prototype.getReverse=function(t){for(var e=0,i=this.tail;i!==null&&e<t;e++)i=i.prev;if(e===t&&i!==null)return i.value};T.prototype.map=function(t,e){e=e||this;for(var i=new T,r=this.head;r!==null;)i.push(t.call(e,r.value,this)),r=r.next;return i};T.prototype.mapReverse=function(t,e){e=e||this;for(var i=new T,r=this.tail;r!==null;)i.push(t.call(e,r.value,this)),r=r.prev;return i};T.prototype.reduce=function(t,e){var i,r=this.head;if(arguments.length>1)i=e;else if(this.head)r=this.head.next,i=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var n=0;r!==null;n++)i=t(i,r.value,n),r=r.next;return i};T.prototype.reduceReverse=function(t,e){var i,r=this.tail;if(arguments.length>1)i=e;else if(this.tail)r=this.tail.prev,i=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var n=this.length-1;r!==null;n--)i=t(i,r.value,n),r=r.prev;return i};T.prototype.toArray=function(){for(var t=new Array(this.length),e=0,i=this.head;i!==null;e++)t[e]=i.value,i=i.next;return t};T.prototype.toArrayReverse=function(){for(var t=new Array(this.length),e=0,i=this.tail;i!==null;e++)t[e]=i.value,i=i.prev;return t};T.prototype.slice=function(t,e){e=e||this.length,e<0&&(e+=this.length),t=t||0,t<0&&(t+=this.length);var i=new T;if(e<t||e<0)return i;t<0&&(t=0),e>this.length&&(e=this.length);for(var r=0,n=this.head;n!==null&&r<t;r++)n=n.next;for(;n!==null&&r<e;r++,n=n.next)i.push(n.value);return i};T.prototype.sliceReverse=function(t,e){e=e||this.length,e<0&&(e+=this.length),t=t||0,t<0&&(t+=this.length);var i=new T;if(e<t||e<0)return i;t<0&&(t=0),e>this.length&&(e=this.length);for(var r=this.length,n=this.tail;n!==null&&r>e;r--)n=n.prev;for(;n!==null&&r>t;r--,n=n.prev)i.push(n.value);return i};T.prototype.splice=function(t,e,...i){t>this.length&&(t=this.length-1),t<0&&(t=this.length+t);for(var r=0,n=this.head;n!==null&&r<t;r++)n=n.next;for(var s=[],r=0;n&&r<e;r++)s.push(n.value),n=this.removeNode(n);n===null&&(n=this.tail),n!==this.head&&n!==this.tail&&(n=n.prev);for(var r=0;r<i.length;r++)n=oy(this,n,i[r]);return s};T.prototype.reverse=function(){for(var t=this.head,e=this.tail,i=t;i!==null;i=i.prev){var r=i.prev;i.prev=i.next,i.next=r}return this.head=e,this.tail=t,this};function oy(t,e,i){var r=e===t.head?new ri(i,null,e,t):new ri(i,e,e.next,t);return r.next===null&&(t.tail=r),r.prev===null&&(t.head=r),t.length++,r}function ay(t,e){t.tail=new ri(e,t.tail,null,t),t.head||(t.head=t.tail),t.length++}function ly(t,e){t.head=new ri(e,null,t.head,t),t.tail||(t.tail=t.head),t.length++}function ri(t,e,i,r){if(!(this instanceof ri))return new ri(t,e,i,r);this.list=r,this.value=t,e?(e.next=this,this.prev=e):this.prev=null,i?(i.prev=this,this.next=i):this.next=null}try{jc()(T)}catch{}});var Hn=m((Ab,Xc)=>{"use strict";var jn=class{constructor(e,i){this.path=e||"./",this.absolute=i,this.entry=null,this.stat=null,this.readdir=null,this.pending=!1,this.ignore=!1,this.piped=!1}},{Minipass:fy}=gn(),Hc=Xo(),cy=Tn(),Da=ga(),hy=Da.Sync,uy=Da.Tar,dy=wa(),Yc=Buffer.alloc(1024),qn=Symbol("onStat"),Mn=Symbol("ended"),He=Symbol("queue"),Ci=Symbol("current"),ni=Symbol("process"),Pn=Symbol("processing"),Gc=Symbol("processJob"),Ye=Symbol("jobs"),va=Symbol("jobDone"),kn=Symbol("addFSEntry"),$c=Symbol("addTarEntry"),_a=Symbol("stat"),Ra=Symbol("readdir"),zn=Symbol("onreaddir"),Un=Symbol("pipe"),Zc=Symbol("entry"),Ea=Symbol("entryOpt"),Oa=Symbol("writeEntryClass"),Vc=Symbol("write"),ba=Symbol("ondrain"),Wn=require("fs"),Kc=require("path"),xy=Cn(),Sa=Oi(),Aa=xy(class extends fy{constructor(e){if(super(e),e=e||Object.create(null),this.opt=e,this.file=e.file||"",this.cwd=e.cwd||process.cwd(),this.maxReadSize=e.maxReadSize,this.preservePaths=!!e.preservePaths,this.strict=!!e.strict,this.noPax=!!e.noPax,this.prefix=Sa(e.prefix||""),this.linkCache=e.linkCache||new Map,this.statCache=e.statCache||new Map,this.readdirCache=e.readdirCache||new Map,this[Oa]=Da,typeof e.onwarn=="function"&&this.on("warn",e.onwarn),this.portable=!!e.portable,this.zip=null,e.gzip||e.brotli){if(e.gzip&&e.brotli)throw new TypeError("gzip and brotli are mutually exclusive");e.gzip&&(typeof e.gzip!="object"&&(e.gzip={}),this.portable&&(e.gzip.portable=!0),this.zip=new Hc.Gzip(e.gzip)),e.brotli&&(typeof e.brotli!="object"&&(e.brotli={}),this.zip=new Hc.BrotliCompress(e.brotli)),this.zip.on("data",i=>super.write(i)),this.zip.on("end",i=>super.end()),this.zip.on("drain",i=>this[ba]()),this.on("resume",i=>this.zip.resume())}else this.on("drain",this[ba]);this.noDirRecurse=!!e.noDirRecurse,this.follow=!!e.follow,this.noMtime=!!e.noMtime,this.mtime=e.mtime||null,this.filter=typeof e.filter=="function"?e.filter:i=>!0,this[He]=new dy,this[Ye]=0,this.jobs=+e.jobs||4,this[Pn]=!1,this[Mn]=!1}[Vc](e){return super.write(e)}add(e){return this.write(e),this}end(e){return e&&this.write(e),this[Mn]=!0,this[ni](),this}write(e){if(this[Mn])throw new Error("write after end");return e instanceof cy?this[$c](e):this[kn](e),this.flowing}[$c](e){let i=Sa(Kc.resolve(this.cwd,e.path));if(!this.filter(e.path,e))e.resume();else{let r=new jn(e.path,i,!1);r.entry=new uy(e,this[Ea](r)),r.entry.on("end",n=>this[va](r)),this[Ye]+=1,this[He].push(r)}this[ni]()}[kn](e){let i=Sa(Kc.resolve(this.cwd,e));this[He].push(new jn(e,i)),this[ni]()}[_a](e){e.pending=!0,this[Ye]+=1;let i=this.follow?"stat":"lstat";Wn[i](e.absolute,(r,n)=>{e.pending=!1,this[Ye]-=1,r?this.emit("error",r):this[qn](e,n)})}[qn](e,i){this.statCache.set(e.absolute,i),e.stat=i,this.filter(e.path,i)||(e.ignore=!0),this[ni]()}[Ra](e){e.pending=!0,this[Ye]+=1,Wn.readdir(e.absolute,(i,r)=>{if(e.pending=!1,this[Ye]-=1,i)return this.emit("error",i);this[zn](e,r)})}[zn](e,i){this.readdirCache.set(e.absolute,i),e.readdir=i,this[ni]()}[ni](){if(!this[Pn]){this[Pn]=!0;for(let e=this[He].head;e!==null&&this[Ye]<this.jobs;e=e.next)if(this[Gc](e.value),e.value.ignore){let i=e.next;this[He].removeNode(e),e.next=i}this[Pn]=!1,this[Mn]&&!this[He].length&&this[Ye]===0&&(this.zip?this.zip.end(Yc):(super.write(Yc),super.end()))}}get[Ci](){return this[He]&&this[He].head&&this[He].head.value}[va](e){this[He].shift(),this[Ye]-=1,this[ni]()}[Gc](e){if(!e.pending){if(e.entry){e===this[Ci]&&!e.piped&&this[Un](e);return}if(e.stat||(this.statCache.has(e.absolute)?this[qn](e,this.statCache.get(e.absolute)):this[_a](e)),!!e.stat&&!e.ignore&&!(!this.noDirRecurse&&e.stat.isDirectory()&&!e.readdir&&(this.readdirCache.has(e.absolute)?this[zn](e,this.readdirCache.get(e.absolute)):this[Ra](e),!e.readdir))){if(e.entry=this[Zc](e),!e.entry){e.ignore=!0;return}e===this[Ci]&&!e.piped&&this[Un](e)}}}[Ea](e){return{onwarn:(i,r,n)=>this.warn(i,r,n),noPax:this.noPax,cwd:this.cwd,absolute:e.absolute,preservePaths:this.preservePaths,maxReadSize:this.maxReadSize,strict:this.strict,portable:this.portable,linkCache:this.linkCache,statCache:this.statCache,noMtime:this.noMtime,mtime:this.mtime,prefix:this.prefix}}[Zc](e){this[Ye]+=1;try{return new this[Oa](e.path,this[Ea](e)).on("end",()=>this[va](e)).on("error",i=>this.emit("error",i))}catch(i){this.emit("error",i)}}[ba](){this[Ci]&&this[Ci].entry&&this[Ci].entry.resume()}[Un](e){e.piped=!0,e.readdir&&e.readdir.forEach(n=>{let s=e.path,o=s==="./"?"":s.replace(/\/*$/,"/");this[kn](o+n)});let i=e.entry,r=this.zip;r?i.on("data",n=>{r.write(n)||i.pause()}):i.on("data",n=>{super.write(n)||i.pause()})}pause(){return this.zip&&this.zip.pause(),super.pause()}}),Ta=class extends Aa{constructor(e){super(e),this[Oa]=hy}pause(){}resume(){}[_a](e){let i=this.follow?"statSync":"lstatSync";this[qn](e,Wn[i](e.absolute))}[Ra](e,i){this[zn](e,Wn.readdirSync(e.absolute))}[Un](e){let i=e.entry,r=this.zip;e.readdir&&e.readdir.forEach(n=>{let s=e.path,o=s==="./"?"":s.replace(/\/*$/,"/");this[kn](o+n)}),r?i.on("data",n=>{r.write(n)}):i.on("data",n=>{super[Vc](n)})}};Aa.Sync=Ta;Xc.exports=Aa});var ah=m((Cb,oh)=>{"use strict";var Jc=typeof process=="object"&&process?process:{stdout:null,stderr:null},my=require("events"),Qc=require("stream"),eh=require("string_decoder").StringDecoder,ft=Symbol("EOF"),ct=Symbol("maybeEmitEnd"),Bt=Symbol("emittedEnd"),Yn=Symbol("emittingEnd"),wr=Symbol("emittedError"),Gn=Symbol("closed"),th=Symbol("read"),$n=Symbol("flush"),ih=Symbol("flushChunk"),we=Symbol("encoding"),ht=Symbol("decoder"),Zn=Symbol("flowing"),vr=Symbol("paused"),Fi=Symbol("resume"),Q=Symbol("bufferLength"),Ca=Symbol("bufferPush"),Fa=Symbol("bufferShift"),fe=Symbol("objectMode"),ce=Symbol("destroyed"),Ba=Symbol("emitData"),rh=Symbol("emitEnd"),La=Symbol("emitEnd2"),ut=Symbol("async"),Er=t=>Promise.resolve().then(t),nh=global._MP_NO_ITERATOR_SYMBOLS_!=="1",py=nh&&Symbol.asyncIterator||Symbol("asyncIterator not implemented"),yy=nh&&Symbol.iterator||Symbol("iterator not implemented"),gy=t=>t==="end"||t==="finish"||t==="prefinish",wy=t=>t instanceof ArrayBuffer||typeof t=="object"&&t.constructor&&t.constructor.name==="ArrayBuffer"&&t.byteLength>=0,vy=t=>!Buffer.isBuffer(t)&&ArrayBuffer.isView(t),Kn=class{constructor(e,i,r){this.src=e,this.dest=i,this.opts=r,this.ondrain=()=>e[Fi](),i.on("drain",this.ondrain)}unpipe(){this.dest.removeListener("drain",this.ondrain)}proxyErrors(){}end(){this.unpipe(),this.opts.end&&this.dest.end()}},Ia=class extends Kn{unpipe(){this.src.removeListener("error",this.proxyErrors),super.unpipe()}constructor(e,i,r){super(e,i,r),this.proxyErrors=n=>i.emit("error",n),e.on("error",this.proxyErrors)}};oh.exports=class sh extends Qc{constructor(e){super(),this[Zn]=!1,this[vr]=!1,this.pipes=[],this.buffer=[],this[fe]=e&&e.objectMode||!1,this[fe]?this[we]=null:this[we]=e&&e.encoding||null,this[we]==="buffer"&&(this[we]=null),this[ut]=e&&!!e.async||!1,this[ht]=this[we]?new eh(this[we]):null,this[ft]=!1,this[Bt]=!1,this[Yn]=!1,this[Gn]=!1,this[wr]=null,this.writable=!0,this.readable=!0,this[Q]=0,this[ce]=!1}get bufferLength(){return this[Q]}get encoding(){return this[we]}set encoding(e){if(this[fe])throw new Error("cannot set encoding in objectMode");if(this[we]&&e!==this[we]&&(this[ht]&&this[ht].lastNeed||this[Q]))throw new Error("cannot change encoding");this[we]!==e&&(this[ht]=e?new eh(e):null,this.buffer.length&&(this.buffer=this.buffer.map(i=>this[ht].write(i)))),this[we]=e}setEncoding(e){this.encoding=e}get objectMode(){return this[fe]}set objectMode(e){this[fe]=this[fe]||!!e}get async(){return this[ut]}set async(e){this[ut]=this[ut]||!!e}write(e,i,r){if(this[ft])throw new Error("write after end");if(this[ce])return this.emit("error",Object.assign(new Error("Cannot call write after a stream was destroyed"),{code:"ERR_STREAM_DESTROYED"})),!0;typeof i=="function"&&(r=i,i="utf8"),i||(i="utf8");let n=this[ut]?Er:s=>s();return!this[fe]&&!Buffer.isBuffer(e)&&(vy(e)?e=Buffer.from(e.buffer,e.byteOffset,e.byteLength):wy(e)?e=Buffer.from(e):typeof e!="string"&&(this.objectMode=!0)),this[fe]?(this.flowing&&this[Q]!==0&&this[$n](!0),this.flowing?this.emit("data",e):this[Ca](e),this[Q]!==0&&this.emit("readable"),r&&n(r),this.flowing):e.length?(typeof e=="string"&&!(i===this[we]&&!this[ht].lastNeed)&&(e=Buffer.from(e,i)),Buffer.isBuffer(e)&&this[we]&&(e=this[ht].write(e)),this.flowing&&this[Q]!==0&&this[$n](!0),this.flowing?this.emit("data",e):this[Ca](e),this[Q]!==0&&this.emit("readable"),r&&n(r),this.flowing):(this[Q]!==0&&this.emit("readable"),r&&n(r),this.flowing)}read(e){if(this[ce])return null;if(this[Q]===0||e===0||e>this[Q])return this[ct](),null;this[fe]&&(e=null),this.buffer.length>1&&!this[fe]&&(this.encoding?this.buffer=[this.buffer.join("")]:this.buffer=[Buffer.concat(this.buffer,this[Q])]);let i=this[th](e||null,this.buffer[0]);return this[ct](),i}[th](e,i){return e===i.length||e===null?this[Fa]():(this.buffer[0]=i.slice(e),i=i.slice(0,e),this[Q]-=e),this.emit("data",i),!this.buffer.length&&!this[ft]&&this.emit("drain"),i}end(e,i,r){return typeof e=="function"&&(r=e,e=null),typeof i=="function"&&(r=i,i="utf8"),e&&this.write(e,i),r&&this.once("end",r),this[ft]=!0,this.writable=!1,(this.flowing||!this[vr])&&this[ct](),this}[Fi](){this[ce]||(this[vr]=!1,this[Zn]=!0,this.emit("resume"),this.buffer.length?this[$n]():this[ft]?this[ct]():this.emit("drain"))}resume(){return this[Fi]()}pause(){this[Zn]=!1,this[vr]=!0}get destroyed(){return this[ce]}get flowing(){return this[Zn]}get paused(){return this[vr]}[Ca](e){this[fe]?this[Q]+=1:this[Q]+=e.length,this.buffer.push(e)}[Fa](){return this.buffer.length&&(this[fe]?this[Q]-=1:this[Q]-=this.buffer[0].length),this.buffer.shift()}[$n](e){do;while(this[ih](this[Fa]()));!e&&!this.buffer.length&&!this[ft]&&this.emit("drain")}[ih](e){return e?(this.emit("data",e),this.flowing):!1}pipe(e,i){if(this[ce])return;let r=this[Bt];return i=i||{},e===Jc.stdout||e===Jc.stderr?i.end=!1:i.end=i.end!==!1,i.proxyErrors=!!i.proxyErrors,r?i.end&&e.end():(this.pipes.push(i.proxyErrors?new Ia(this,e,i):new Kn(this,e,i)),this[ut]?Er(()=>this[Fi]()):this[Fi]()),e}unpipe(e){let i=this.pipes.find(r=>r.dest===e);i&&(this.pipes.splice(this.pipes.indexOf(i),1),i.unpipe())}addListener(e,i){return this.on(e,i)}on(e,i){let r=super.on(e,i);return e==="data"&&!this.pipes.length&&!this.flowing?this[Fi]():e==="readable"&&this[Q]!==0?super.emit("readable"):gy(e)&&this[Bt]?(super.emit(e),this.removeAllListeners(e)):e==="error"&&this[wr]&&(this[ut]?Er(()=>i.call(this,this[wr])):i.call(this,this[wr])),r}get emittedEnd(){return this[Bt]}[ct](){!this[Yn]&&!this[Bt]&&!this[ce]&&this.buffer.length===0&&this[ft]&&(this[Yn]=!0,this.emit("end"),this.emit("prefinish"),this.emit("finish"),this[Gn]&&this.emit("close"),this[Yn]=!1)}emit(e,i,...r){if(e!=="error"&&e!=="close"&&e!==ce&&this[ce])return;if(e==="data")return i?this[ut]?Er(()=>this[Ba](i)):this[Ba](i):!1;if(e==="end")return this[rh]();if(e==="close"){if(this[Gn]=!0,!this[Bt]&&!this[ce])return;let s=super.emit("close");return this.removeAllListeners("close"),s}else if(e==="error"){this[wr]=i;let s=super.emit("error",i);return this[ct](),s}else if(e==="resume"){let s=super.emit("resume");return this[ct](),s}else if(e==="finish"||e==="prefinish"){let s=super.emit(e);return this.removeAllListeners(e),s}let n=super.emit(e,i,...r);return this[ct](),n}[Ba](e){for(let r of this.pipes)r.dest.write(e)===!1&&this.pause();let i=super.emit("data",e);return this[ct](),i}[rh](){this[Bt]||(this[Bt]=!0,this.readable=!1,this[ut]?Er(()=>this[La]()):this[La]())}[La](){if(this[ht]){let i=this[ht].end();if(i){for(let r of this.pipes)r.dest.write(i);super.emit("data",i)}}for(let i of this.pipes)i.end();let e=super.emit("end");return this.removeAllListeners("end"),e}collect(){let e=[];this[fe]||(e.dataLength=0);let i=this.promise();return this.on("data",r=>{e.push(r),this[fe]||(e.dataLength+=r.length)}),i.then(()=>e)}concat(){return this[fe]?Promise.reject(new Error("cannot concat in objectMode")):this.collect().then(e=>this[fe]?Promise.reject(new Error("cannot concat in objectMode")):this[we]?e.join(""):Buffer.concat(e,e.dataLength))}promise(){return new Promise((e,i)=>{this.on(ce,()=>i(new Error("stream destroyed"))),this.on("error",r=>i(r)),this.on("end",()=>e())})}[py](){return{next:()=>{let i=this.read();if(i!==null)return Promise.resolve({done:!1,value:i});if(this[ft])return Promise.resolve({done:!0});let r=null,n=null,s=h=>{this.removeListener("data",o),this.removeListener("end",a),n(h)},o=h=>{this.removeListener("error",s),this.removeListener("end",a),this.pause(),r({value:h,done:!!this[ft]})},a=()=>{this.removeListener("error",s),this.removeListener("data",o),r({done:!0})},l=()=>s(new Error("stream destroyed"));return new Promise((h,f)=>{n=f,r=h,this.once(ce,l),this.once("error",s),this.once("end",a),this.once("data",o)})}}}[yy](){return{next:()=>{let i=this.read();return{value:i,done:i===null}}}}destroy(e){return this[ce]?(e?this.emit("error",e):this.emit(ce),this):(this[ce]=!0,this.buffer.length=0,this[Q]=0,typeof this.close=="function"&&!this[Gn]&&this.close(),e?this.emit("error",e):this.emit(ce),this)}static isStream(e){return!!e&&(e instanceof sh||e instanceof Qc||e instanceof my&&(typeof e.pipe=="function"||typeof e.write=="function"&&typeof e.end=="function"))}}});var ki=m(Sr=>{"use strict";var Ey=ah(),by=require("events").EventEmitter,ve=require("fs"),Pa=ve.writev;if(!Pa){let t=process.binding("fs"),e=t.FSReqWrap||t.FSReqCallback;Pa=(i,r,n,s)=>{let o=(l,h)=>s(l,h,r),a=new e;a.oncomplete=o,t.writeBuffers(i,r,n,a)}}var Pi=Symbol("_autoClose"),Ie=Symbol("_close"),br=Symbol("_ended"),N=Symbol("_fd"),lh=Symbol("_finished"),It=Symbol("_flags"),Na=Symbol("_flush"),qa=Symbol("_handleChunk"),ka=Symbol("_makeBuf"),es=Symbol("_mode"),Vn=Symbol("_needDrain"),Ni=Symbol("_onerror"),qi=Symbol("_onopen"),Ma=Symbol("_onread"),Li=Symbol("_onwrite"),Nt=Symbol("_open"),dt=Symbol("_path"),si=Symbol("_pos"),Ge=Symbol("_queue"),Ii=Symbol("_read"),fh=Symbol("_readSize"),Lt=Symbol("_reading"),Xn=Symbol("_remain"),ch=Symbol("_size"),Jn=Symbol("_write"),Bi=Symbol("_writing"),Qn=Symbol("_defaultFlag"),Mi=Symbol("_errored"),ts=class extends Ey{constructor(e,i){if(i=i||{},super(i),this.readable=!0,this.writable=!1,typeof e!="string")throw new TypeError("path must be a string");this[Mi]=!1,this[N]=typeof i.fd=="number"?i.fd:null,this[dt]=e,this[fh]=i.readSize||16*1024*1024,this[Lt]=!1,this[ch]=typeof i.size=="number"?i.size:1/0,this[Xn]=this[ch],this[Pi]=typeof i.autoClose=="boolean"?i.autoClose:!0,typeof this[N]=="number"?this[Ii]():this[Nt]()}get fd(){return this[N]}get path(){return this[dt]}write(){throw new TypeError("this is a readable stream")}end(){throw new TypeError("this is a readable stream")}[Nt](){ve.open(this[dt],"r",(e,i)=>this[qi](e,i))}[qi](e,i){e?this[Ni](e):(this[N]=i,this.emit("open",i),this[Ii]())}[ka](){return Buffer.allocUnsafe(Math.min(this[fh],this[Xn]))}[Ii](){if(!this[Lt]){this[Lt]=!0;let e=this[ka]();if(e.length===0)return process.nextTick(()=>this[Ma](null,0,e));ve.read(this[N],e,0,e.length,null,(i,r,n)=>this[Ma](i,r,n))}}[Ma](e,i,r){this[Lt]=!1,e?this[Ni](e):this[qa](i,r)&&this[Ii]()}[Ie](){if(this[Pi]&&typeof this[N]=="number"){let e=this[N];this[N]=null,ve.close(e,i=>i?this.emit("error",i):this.emit("close"))}}[Ni](e){this[Lt]=!0,this[Ie](),this.emit("error",e)}[qa](e,i){let r=!1;return this[Xn]-=e,e>0&&(r=super.write(e<i.length?i.slice(0,e):i)),(e===0||this[Xn]<=0)&&(r=!1,this[Ie](),super.end()),r}emit(e,i){switch(e){case"prefinish":case"finish":break;case"drain":typeof this[N]=="number"&&this[Ii]();break;case"error":return this[Mi]?void 0:(this[Mi]=!0,super.emit(e,i));default:return super.emit(e,i)}}},za=class extends ts{[Nt](){let e=!0;try{this[qi](null,ve.openSync(this[dt],"r")),e=!1}finally{e&&this[Ie]()}}[Ii](){let e=!0;try{if(!this[Lt]){this[Lt]=!0;do{let i=this[ka](),r=i.length===0?0:ve.readSync(this[N],i,0,i.length,null);if(!this[qa](r,i))break}while(!0);this[Lt]=!1}e=!1}finally{e&&this[Ie]()}}[Ie](){if(this[Pi]&&typeof this[N]=="number"){let e=this[N];this[N]=null,ve.closeSync(e),this.emit("close")}}},is=class extends by{constructor(e,i){i=i||{},super(i),this.readable=!1,this.writable=!0,this[Mi]=!1,this[Bi]=!1,this[br]=!1,this[Vn]=!1,this[Ge]=[],this[dt]=e,this[N]=typeof i.fd=="number"?i.fd:null,this[es]=i.mode===void 0?438:i.mode,this[si]=typeof i.start=="number"?i.start:null,this[Pi]=typeof i.autoClose=="boolean"?i.autoClose:!0;let r=this[si]!==null?"r+":"w";this[Qn]=i.flags===void 0,this[It]=this[Qn]?r:i.flags,this[N]===null&&this[Nt]()}emit(e,i){if(e==="error"){if(this[Mi])return;this[Mi]=!0}return super.emit(e,i)}get fd(){return this[N]}get path(){return this[dt]}[Ni](e){this[Ie](),this[Bi]=!0,this.emit("error",e)}[Nt](){ve.open(this[dt],this[It],this[es],(e,i)=>this[qi](e,i))}[qi](e,i){this[Qn]&&this[It]==="r+"&&e&&e.code==="ENOENT"?(this[It]="w",this[Nt]()):e?this[Ni](e):(this[N]=i,this.emit("open",i),this[Na]())}end(e,i){return e&&this.write(e,i),this[br]=!0,!this[Bi]&&!this[Ge].length&&typeof this[N]=="number"&&this[Li](null,0),this}write(e,i){return typeof e=="string"&&(e=Buffer.from(e,i)),this[br]?(this.emit("error",new Error("write() after end()")),!1):this[N]===null||this[Bi]||this[Ge].length?(this[Ge].push(e),this[Vn]=!0,!1):(this[Bi]=!0,this[Jn](e),!0)}[Jn](e){ve.write(this[N],e,0,e.length,this[si],(i,r)=>this[Li](i,r))}[Li](e,i){e?this[Ni](e):(this[si]!==null&&(this[si]+=i),this[Ge].length?this[Na]():(this[Bi]=!1,this[br]&&!this[lh]?(this[lh]=!0,this[Ie](),this.emit("finish")):this[Vn]&&(this[Vn]=!1,this.emit("drain"))))}[Na](){if(this[Ge].length===0)this[br]&&this[Li](null,0);else if(this[Ge].length===1)this[Jn](this[Ge].pop());else{let e=this[Ge];this[Ge]=[],Pa(this[N],e,this[si],(i,r)=>this[Li](i,r))}}[Ie](){if(this[Pi]&&typeof this[N]=="number"){let e=this[N];this[N]=null,ve.close(e,i=>i?this.emit("error",i):this.emit("close"))}}},Ua=class extends is{[Nt](){let e;if(this[Qn]&&this[It]==="r+")try{e=ve.openSync(this[dt],this[It],this[es])}catch(i){if(i.code==="ENOENT")return this[It]="w",this[Nt]();throw i}else e=ve.openSync(this[dt],this[It],this[es]);this[qi](null,e)}[Ie](){if(this[Pi]&&typeof this[N]=="number"){let e=this[N];this[N]=null,ve.closeSync(e),this.emit("close")}}[Jn](e){let i=!0;try{this[Li](null,ve.writeSync(this[N],e,0,e.length,this[si])),i=!1}finally{if(i)try{this[Ie]()}catch{}}}};Sr.ReadStream=ts;Sr.ReadStreamSync=za;Sr.WriteStream=is;Sr.WriteStreamSync=Ua});var fs=m((Lb,vh)=>{"use strict";var Sy=Cn(),hh=Di(),_y=require("events"),Ry=wa(),Oy=1024*1024,Ty=Tn(),uh=An(),dh=Xo(),{nextTick:Dy}=require("process"),ja=Buffer.from([31,139]),Ae=Symbol("state"),oi=Symbol("writeEntry"),xt=Symbol("readEntry"),Wa=Symbol("nextEntry"),xh=Symbol("processEntry"),Ce=Symbol("extendedHeader"),_r=Symbol("globalExtendedHeader"),Mt=Symbol("meta"),mh=Symbol("emitMeta"),q=Symbol("buffer"),mt=Symbol("queue"),Pt=Symbol("ended"),ph=Symbol("emittedEnd"),ai=Symbol("emit"),ee=Symbol("unzip"),rs=Symbol("consumeChunk"),ns=Symbol("consumeChunkSub"),Ha=Symbol("consumeBody"),yh=Symbol("consumeMeta"),gh=Symbol("consumeHeader"),ss=Symbol("consuming"),Ya=Symbol("bufferConcat"),Ga=Symbol("maybeEnd"),Rr=Symbol("writing"),qt=Symbol("aborted"),os=Symbol("onDone"),li=Symbol("sawValidEntry"),as=Symbol("sawNullBlock"),ls=Symbol("sawEOF"),wh=Symbol("closeStream"),Ay=t=>!0;vh.exports=Sy(class extends _y{constructor(e){e=e||{},super(e),this.file=e.file||"",this[li]=null,this.on(os,r=>{(this[Ae]==="begin"||this[li]===!1)&&this.warn("TAR_BAD_ARCHIVE","Unrecognized archive format")}),e.ondone?this.on(os,e.ondone):this.on(os,r=>{this.emit("prefinish"),this.emit("finish"),this.emit("end")}),this.strict=!!e.strict,this.maxMetaEntrySize=e.maxMetaEntrySize||Oy,this.filter=typeof e.filter=="function"?e.filter:Ay;let i=e.file&&(e.file.endsWith(".tar.br")||e.file.endsWith(".tbr"));this.brotli=!e.gzip&&e.brotli!==void 0?e.brotli:i?void 0:!1,this.writable=!0,this.readable=!1,this[mt]=new Ry,this[q]=null,this[xt]=null,this[oi]=null,this[Ae]="begin",this[Mt]="",this[Ce]=null,this[_r]=null,this[Pt]=!1,this[ee]=null,this[qt]=!1,this[as]=!1,this[ls]=!1,this.on("end",()=>this[wh]()),typeof e.onwarn=="function"&&this.on("warn",e.onwarn),typeof e.onentry=="function"&&this.on("entry",e.onentry)}[gh](e,i){this[li]===null&&(this[li]=!1);let r;try{r=new hh(e,i,this[Ce],this[_r])}catch(n){return this.warn("TAR_ENTRY_INVALID",n)}if(r.nullBlock)this[as]?(this[ls]=!0,this[Ae]==="begin"&&(this[Ae]="header"),this[ai]("eof")):(this[as]=!0,this[ai]("nullBlock"));else if(this[as]=!1,!r.cksumValid)this.warn("TAR_ENTRY_INVALID","checksum failure",{header:r});else if(!r.path)this.warn("TAR_ENTRY_INVALID","path is required",{header:r});else{let n=r.type;if(/^(Symbolic)?Link$/.test(n)&&!r.linkpath)this.warn("TAR_ENTRY_INVALID","linkpath required",{header:r});else if(!/^(Symbolic)?Link$/.test(n)&&r.linkpath)this.warn("TAR_ENTRY_INVALID","linkpath forbidden",{header:r});else{let s=this[oi]=new Ty(r,this[Ce],this[_r]);if(!this[li])if(s.remain){let o=()=>{s.invalid||(this[li]=!0)};s.on("end",o)}else this[li]=!0;s.meta?s.size>this.maxMetaEntrySize?(s.ignore=!0,this[ai]("ignoredEntry",s),this[Ae]="ignore",s.resume()):s.size>0&&(this[Mt]="",s.on("data",o=>this[Mt]+=o),this[Ae]="meta"):(this[Ce]=null,s.ignore=s.ignore||!this.filter(s.path,s),s.ignore?(this[ai]("ignoredEntry",s),this[Ae]=s.remain?"ignore":"header",s.resume()):(s.remain?this[Ae]="body":(this[Ae]="header",s.end()),this[xt]?this[mt].push(s):(this[mt].push(s),this[Wa]())))}}}[wh](){Dy(()=>this.emit("close"))}[xh](e){let i=!0;return e?Array.isArray(e)?this.emit.apply(this,e):(this[xt]=e,this.emit("entry",e),e.emittedEnd||(e.on("end",r=>this[Wa]()),i=!1)):(this[xt]=null,i=!1),i}[Wa](){do;while(this[xh](this[mt].shift()));if(!this[mt].length){let e=this[xt];!e||e.flowing||e.size===e.remain?this[Rr]||this.emit("drain"):e.once("drain",r=>this.emit("drain"))}}[Ha](e,i){let r=this[oi],n=r.blockRemain,s=n>=e.length&&i===0?e:e.slice(i,i+n);return r.write(s),r.blockRemain||(this[Ae]="header",this[oi]=null,r.end()),s.length}[yh](e,i){let r=this[oi],n=this[Ha](e,i);return this[oi]||this[mh](r),n}[ai](e,i,r){!this[mt].length&&!this[xt]?this.emit(e,i,r):this[mt].push([e,i,r])}[mh](e){switch(this[ai]("meta",this[Mt]),e.type){case"ExtendedHeader":case"OldExtendedHeader":this[Ce]=uh.parse(this[Mt],this[Ce],!1);break;case"GlobalExtendedHeader":this[_r]=uh.parse(this[Mt],this[_r],!0);break;case"NextFileHasLongPath":case"OldGnuLongPath":this[Ce]=this[Ce]||Object.create(null),this[Ce].path=this[Mt].replace(/\0.*/,"");break;case"NextFileHasLongLinkpath":this[Ce]=this[Ce]||Object.create(null),this[Ce].linkpath=this[Mt].replace(/\0.*/,"");break;default:throw new Error("unknown meta: "+e.type)}}abort(e){this[qt]=!0,this.emit("abort",e),this.warn("TAR_ABORT",e,{recoverable:!1})}write(e){if(this[qt])return;if((this[ee]===null||this.brotli===void 0&&this[ee]===!1)&&e){if(this[q]&&(e=Buffer.concat([this[q],e]),this[q]=null),e.length<ja.length)return this[q]=e,!0;for(let s=0;this[ee]===null&&s<ja.length;s++)e[s]!==ja[s]&&(this[ee]=!1);let n=this.brotli===void 0;if(this[ee]===!1&&n)if(e.length<512)if(this[Pt])this.brotli=!0;else return this[q]=e,!0;else try{new hh(e.slice(0,512)),this.brotli=!1}catch{this.brotli=!0}if(this[ee]===null||this[ee]===!1&&this.brotli){let s=this[Pt];this[Pt]=!1,this[ee]=this[ee]===null?new dh.Unzip:new dh.BrotliDecompress,this[ee].on("data",a=>this[rs](a)),this[ee].on("error",a=>this.abort(a)),this[ee].on("end",a=>{this[Pt]=!0,this[rs]()}),this[Rr]=!0;let o=this[ee][s?"end":"write"](e);return this[Rr]=!1,o}}this[Rr]=!0,this[ee]?this[ee].write(e):this[rs](e),this[Rr]=!1;let r=this[mt].length?!1:this[xt]?this[xt].flowing:!0;return!r&&!this[mt].length&&this[xt].once("drain",n=>this.emit("drain")),r}[Ya](e){e&&!this[qt]&&(this[q]=this[q]?Buffer.concat([this[q],e]):e)}[Ga](){if(this[Pt]&&!this[ph]&&!this[qt]&&!this[ss]){this[ph]=!0;let e=this[oi];if(e&&e.blockRemain){let i=this[q]?this[q].length:0;this.warn("TAR_BAD_ARCHIVE",`Truncated input (needed ${e.blockRemain} more bytes, only ${i} available)`,{entry:e}),this[q]&&e.write(this[q]),e.end()}this[ai](os)}}[rs](e){if(this[ss])this[Ya](e);else if(!e&&!this[q])this[Ga]();else{if(this[ss]=!0,this[q]){this[Ya](e);let i=this[q];this[q]=null,this[ns](i)}else this[ns](e);for(;this[q]&&this[q].length>=512&&!this[qt]&&!this[ls];){let i=this[q];this[q]=null,this[ns](i)}this[ss]=!1}(!this[q]||this[Pt])&&this[Ga]()}[ns](e){let i=0,r=e.length;for(;i+512<=r&&!this[qt]&&!this[ls];)switch(this[Ae]){case"begin":case"header":this[gh](e,i),i+=512;break;case"ignore":case"body":i+=this[Ha](e,i);break;case"meta":i+=this[yh](e,i);break;default:throw new Error("invalid state: "+this[Ae])}i<r&&(this[q]?this[q]=Buffer.concat([e.slice(i),this[q]]):this[q]=e.slice(i))}end(e){this[qt]||(this[ee]?this[ee].end(e):(this[Pt]=!0,this.brotli===void 0&&(e=e||Buffer.alloc(0)),this.write(e)))}})});var cs=m((Ib,_h)=>{"use strict";var Cy=Ei(),bh=fs(),zi=require("fs"),Fy=ki(),Eh=require("path"),$a=Ai();_h.exports=(t,e,i)=>{typeof t=="function"?(i=t,e=null,t={}):Array.isArray(t)&&(e=t,t={}),typeof e=="function"&&(i=e,e=null),e?e=Array.from(e):e=[];let r=Cy(t);if(r.sync&&typeof i=="function")throw new TypeError("callback not supported for sync tar functions");if(!r.file&&typeof i=="function")throw new TypeError("callback only supported with file option");return e.length&&Ly(r,e),r.noResume||By(r),r.file&&r.sync?Iy(r):r.file?Ny(r,i):Sh(r)};var By=t=>{let e=t.onentry;t.onentry=e?i=>{e(i),i.resume()}:i=>i.resume()},Ly=(t,e)=>{let i=new Map(e.map(s=>[$a(s),!0])),r=t.filter,n=(s,o)=>{let a=o||Eh.parse(s).root||".",l=s===a?!1:i.has(s)?i.get(s):n(Eh.dirname(s),a);return i.set(s,l),l};t.filter=r?(s,o)=>r(s,o)&&n($a(s)):s=>n($a(s))},Iy=t=>{let e=Sh(t),i=t.file,r=!0,n;try{let s=zi.statSync(i),o=t.maxReadSize||16*1024*1024;if(s.size<o)e.end(zi.readFileSync(i));else{let a=0,l=Buffer.allocUnsafe(o);for(n=zi.openSync(i,"r");a<s.size;){let h=zi.readSync(n,l,0,o,a);a+=h,e.write(l.slice(0,h))}e.end()}r=!1}finally{if(r&&n)try{zi.closeSync(n)}catch{}}},Ny=(t,e)=>{let i=new bh(t),r=t.maxReadSize||16*1024*1024,n=t.file,s=new Promise((o,a)=>{i.on("error",a),i.on("end",o),zi.stat(n,(l,h)=>{if(l)a(l);else{let f=new Fy.ReadStream(n,{readSize:r,size:h.size});f.on("error",a),f.pipe(i)}})});return e?s.then(e,e):s},Sh=t=>new bh(t)});var Ch=m((Nb,Ah)=>{"use strict";var My=Ei(),hs=Hn(),Rh=ki(),Oh=cs(),Th=require("path");Ah.exports=(t,e,i)=>{if(typeof e=="function"&&(i=e),Array.isArray(t)&&(e=t,t={}),!e||!Array.isArray(e)||!e.length)throw new TypeError("no files or directories specified");e=Array.from(e);let r=My(t);if(r.sync&&typeof i=="function")throw new TypeError("callback not supported for sync tar functions");if(!r.file&&typeof i=="function")throw new TypeError("callback only supported with file option");return r.file&&r.sync?Py(r,e):r.file?qy(r,e,i):r.sync?ky(r,e):zy(r,e)};var Py=(t,e)=>{let i=new hs.Sync(t),r=new Rh.WriteStreamSync(t.file,{mode:t.mode||438});i.pipe(r),Dh(i,e)},qy=(t,e,i)=>{let r=new hs(t),n=new Rh.WriteStream(t.file,{mode:t.mode||438});r.pipe(n);let s=new Promise((o,a)=>{n.on("error",a),n.on("close",o),r.on("error",a)});return Za(r,e),i?s.then(i,i):s},Dh=(t,e)=>{e.forEach(i=>{i.charAt(0)==="@"?Oh({file:Th.resolve(t.cwd,i.slice(1)),sync:!0,noResume:!0,onentry:r=>t.add(r)}):t.add(i)}),t.end()},Za=(t,e)=>{for(;e.length;){let i=e.shift();if(i.charAt(0)==="@")return Oh({file:Th.resolve(t.cwd,i.slice(1)),noResume:!0,onentry:r=>t.add(r)}).then(r=>Za(t,e));t.add(i)}t.end()},ky=(t,e)=>{let i=new hs.Sync(t);return Dh(i,e),i},zy=(t,e)=>{let i=new hs(t);return Za(i,e),i}});var Ka=m((Mb,Ph)=>{"use strict";var Uy=Ei(),Fh=Hn(),Se=require("fs"),Bh=ki(),Lh=cs(),Ih=require("path"),Nh=Di();Ph.exports=(t,e,i)=>{let r=Uy(t);if(!r.file)throw new TypeError("file is required");if(r.gzip||r.brotli||r.file.endsWith(".br")||r.file.endsWith(".tbr"))throw new TypeError("cannot append to compressed archives");if(!e||!Array.isArray(e)||!e.length)throw new TypeError("no files or directories specified");return e=Array.from(e),r.sync?jy(r,e):Hy(r,e,i)};var jy=(t,e)=>{let i=new Fh.Sync(t),r=!0,n,s;try{try{n=Se.openSync(t.file,"r+")}catch(l){if(l.code==="ENOENT")n=Se.openSync(t.file,"w+");else throw l}let o=Se.fstatSync(n),a=Buffer.alloc(512);e:for(s=0;s<o.size;s+=512){for(let f=0,u=0;f<512;f+=u){if(u=Se.readSync(n,a,f,a.length-f,s+f),s===0&&a[0]===31&&a[1]===139)throw new Error("cannot append to compressed archives");if(!u)break e}let l=new Nh(a);if(!l.cksumValid)break;let h=512*Math.ceil(l.size/512);if(s+h+512>o.size)break;s+=h,t.mtimeCache&&t.mtimeCache.set(l.path,l.mtime)}r=!1,Wy(t,i,s,n,e)}finally{if(r)try{Se.closeSync(n)}catch{}}},Wy=(t,e,i,r,n)=>{let s=new Bh.WriteStreamSync(t.file,{fd:r,start:i});e.pipe(s),Yy(e,n)},Hy=(t,e,i)=>{e=Array.from(e);let r=new Fh(t),n=(o,a,l)=>{let h=(p,g)=>{p?Se.close(o,x=>l(p)):l(null,g)},f=0;if(a===0)return h(null,0);let u=0,c=Buffer.alloc(512),d=(p,g)=>{if(p)return h(p);if(u+=g,u<512&&g)return Se.read(o,c,u,c.length-u,f+u,d);if(f===0&&c[0]===31&&c[1]===139)return h(new Error("cannot append to compressed archives"));if(u<512)return h(null,f);let x=new Nh(c);if(!x.cksumValid)return h(null,f);let y=512*Math.ceil(x.size/512);if(f+y+512>a||(f+=y+512,f>=a))return h(null,f);t.mtimeCache&&t.mtimeCache.set(x.path,x.mtime),u=0,Se.read(o,c,0,512,f,d)};Se.read(o,c,0,512,f,d)},s=new Promise((o,a)=>{r.on("error",a);let l="r+",h=(f,u)=>{if(f&&f.code==="ENOENT"&&l==="r+")return l="w+",Se.open(t.file,l,h);if(f)return a(f);Se.fstat(u,(c,d)=>{if(c)return Se.close(u,()=>a(c));n(u,d.size,(p,g)=>{if(p)return a(p);let x=new Bh.WriteStream(t.file,{fd:u,start:g});r.pipe(x),x.on("error",a),x.on("close",o),Mh(r,e)})})};Se.open(t.file,l,h)});return i?s.then(i,i):s},Yy=(t,e)=>{e.forEach(i=>{i.charAt(0)==="@"?Lh({file:Ih.resolve(t.cwd,i.slice(1)),sync:!0,noResume:!0,onentry:r=>t.add(r)}):t.add(i)}),t.end()},Mh=(t,e)=>{for(;e.length;){let i=e.shift();if(i.charAt(0)==="@")return Lh({file:Ih.resolve(t.cwd,i.slice(1)),noResume:!0,onentry:r=>t.add(r)}).then(r=>Mh(t,e));t.add(i)}t.end()}});var kh=m((Pb,qh)=>{"use strict";var Gy=Ei(),$y=Ka();qh.exports=(t,e,i)=>{let r=Gy(t);if(!r.file)throw new TypeError("file is required");if(r.gzip||r.brotli||r.file.endsWith(".br")||r.file.endsWith(".tbr"))throw new TypeError("cannot append to compressed archives");if(!e||!Array.isArray(e)||!e.length)throw new TypeError("no files or directories specified");return e=Array.from(e),Zy(r),$y(r,e,i)};var Zy=t=>{let e=t.filter;t.mtimeCache||(t.mtimeCache=new Map),t.filter=e?(i,r)=>e(i,r)&&!(t.mtimeCache.get(i)>r.mtime):(i,r)=>!(t.mtimeCache.get(i)>r.mtime)}});var jh=m((qb,Uh)=>{var{promisify:zh}=require("util"),kt=require("fs"),Ky=t=>{if(!t)t={mode:511,fs:kt};else if(typeof t=="object")t={mode:511,fs:kt,...t};else if(typeof t=="number")t={mode:t,fs:kt};else if(typeof t=="string")t={mode:parseInt(t,8),fs:kt};else throw new TypeError("invalid options argument");return t.mkdir=t.mkdir||t.fs.mkdir||kt.mkdir,t.mkdirAsync=zh(t.mkdir),t.stat=t.stat||t.fs.stat||kt.stat,t.statAsync=zh(t.stat),t.statSync=t.statSync||t.fs.statSync||kt.statSync,t.mkdirSync=t.mkdirSync||t.fs.mkdirSync||kt.mkdirSync,t};Uh.exports=Ky});var Hh=m((kb,Wh)=>{var Vy=process.env.__TESTING_MKDIRP_PLATFORM__||process.platform,{resolve:Xy,parse:Jy}=require("path"),Qy=t=>{if(/\0/.test(t))throw Object.assign(new TypeError("path must be a string without null bytes"),{path:t,code:"ERR_INVALID_ARG_VALUE"});if(t=Xy(t),Vy==="win32"){let e=/[*|"<>?:]/,{root:i}=Jy(t);if(e.test(t.substr(i.length)))throw Object.assign(new Error("Illegal characters in path."),{path:t,code:"EINVAL"})}return t};Wh.exports=Qy});var Kh=m((zb,Zh)=>{var{dirname:Yh}=require("path"),Gh=(t,e,i=void 0)=>i===e?Promise.resolve():t.statAsync(e).then(r=>r.isDirectory()?i:void 0,r=>r.code==="ENOENT"?Gh(t,Yh(e),e):void 0),$h=(t,e,i=void 0)=>{if(i!==e)try{return t.statSync(e).isDirectory()?i:void 0}catch(r){return r.code==="ENOENT"?$h(t,Yh(e),e):void 0}};Zh.exports={findMade:Gh,findMadeSync:$h}});var Ja=m((Ub,Xh)=>{var{dirname:Vh}=require("path"),Va=(t,e,i)=>{e.recursive=!1;let r=Vh(t);return r===t?e.mkdirAsync(t,e).catch(n=>{if(n.code!=="EISDIR")throw n}):e.mkdirAsync(t,e).then(()=>i||t,n=>{if(n.code==="ENOENT")return Va(r,e).then(s=>Va(t,e,s));if(n.code!=="EEXIST"&&n.code!=="EROFS")throw n;return e.statAsync(t).then(s=>{if(s.isDirectory())return i;throw n},()=>{throw n})})},Xa=(t,e,i)=>{let r=Vh(t);if(e.recursive=!1,r===t)try{return e.mkdirSync(t,e)}catch(n){if(n.code!=="EISDIR")throw n;return}try{return e.mkdirSync(t,e),i||t}catch(n){if(n.code==="ENOENT")return Xa(t,e,Xa(r,e,i));if(n.code!=="EEXIST"&&n.code!=="EROFS")throw n;try{if(!e.statSync(t).isDirectory())throw n}catch{throw n}}};Xh.exports={mkdirpManual:Va,mkdirpManualSync:Xa}});var eu=m((jb,Qh)=>{var{dirname:Jh}=require("path"),{findMade:eg,findMadeSync:tg}=Kh(),{mkdirpManual:ig,mkdirpManualSync:rg}=Ja(),ng=(t,e)=>(e.recursive=!0,Jh(t)===t?e.mkdirAsync(t,e):eg(e,t).then(r=>e.mkdirAsync(t,e).then(()=>r).catch(n=>{if(n.code==="ENOENT")return ig(t,e);throw n}))),sg=(t,e)=>{if(e.recursive=!0,Jh(t)===t)return e.mkdirSync(t,e);let r=tg(e,t);try{return e.mkdirSync(t,e),r}catch(n){if(n.code==="ENOENT")return rg(t,e);throw n}};Qh.exports={mkdirpNative:ng,mkdirpNativeSync:sg}});var nu=m((Wb,ru)=>{var tu=require("fs"),og=process.env.__TESTING_MKDIRP_NODE_VERSION__||process.version,Qa=og.replace(/^v/,"").split("."),iu=+Qa[0]>10||+Qa[0]==10&&+Qa[1]>=12,ag=iu?t=>t.mkdir===tu.mkdir:()=>!1,lg=iu?t=>t.mkdirSync===tu.mkdirSync:()=>!1;ru.exports={useNative:ag,useNativeSync:lg}});var cu=m((Hb,fu)=>{var Ui=jh(),ji=Hh(),{mkdirpNative:su,mkdirpNativeSync:ou}=eu(),{mkdirpManual:au,mkdirpManualSync:lu}=Ja(),{useNative:fg,useNativeSync:cg}=nu(),Wi=(t,e)=>(t=ji(t),e=Ui(e),fg(e)?su(t,e):au(t,e)),hg=(t,e)=>(t=ji(t),e=Ui(e),cg(e)?ou(t,e):lu(t,e));Wi.sync=hg;Wi.native=(t,e)=>su(ji(t),Ui(e));Wi.manual=(t,e)=>au(ji(t),Ui(e));Wi.nativeSync=(t,e)=>ou(ji(t),Ui(e));Wi.manualSync=(t,e)=>lu(ji(t),Ui(e));fu.exports=Wi});var yu=m((Yb,pu)=>{"use strict";var Fe=require("fs"),fi=require("path"),ug=Fe.lchown?"lchown":"chown",dg=Fe.lchownSync?"lchownSync":"chownSync",uu=Fe.lchown&&!process.version.match(/v1[1-9]+\./)&&!process.version.match(/v10\.[6-9]/),hu=(t,e,i)=>{try{return Fe[dg](t,e,i)}catch(r){if(r.code!=="ENOENT")throw r}},xg=(t,e,i)=>{try{return Fe.chownSync(t,e,i)}catch(r){if(r.code!=="ENOENT")throw r}},mg=uu?(t,e,i,r)=>n=>{!n||n.code!=="EISDIR"?r(n):Fe.chown(t,e,i,r)}:(t,e,i,r)=>r,el=uu?(t,e,i)=>{try{return hu(t,e,i)}catch(r){if(r.code!=="EISDIR")throw r;xg(t,e,i)}}:(t,e,i)=>hu(t,e,i),pg=process.version,du=(t,e,i)=>Fe.readdir(t,e,i),yg=(t,e)=>Fe.readdirSync(t,e);/^v4\./.test(pg)&&(du=(t,e,i)=>Fe.readdir(t,i));var us=(t,e,i,r)=>{Fe[ug](t,e,i,mg(t,e,i,n=>{r(n&&n.code!=="ENOENT"?n:null)}))},xu=(t,e,i,r,n)=>{if(typeof e=="string")return Fe.lstat(fi.resolve(t,e),(s,o)=>{if(s)return n(s.code!=="ENOENT"?s:null);o.name=e,xu(t,o,i,r,n)});if(e.isDirectory())tl(fi.resolve(t,e.name),i,r,s=>{if(s)return n(s);let o=fi.resolve(t,e.name);us(o,i,r,n)});else{let s=fi.resolve(t,e.name);us(s,i,r,n)}},tl=(t,e,i,r)=>{du(t,{withFileTypes:!0},(n,s)=>{if(n){if(n.code==="ENOENT")return r();if(n.code!=="ENOTDIR"&&n.code!=="ENOTSUP")return r(n)}if(n||!s.length)return us(t,e,i,r);let o=s.length,a=null,l=h=>{if(!a){if(h)return r(a=h);if(--o===0)return us(t,e,i,r)}};s.forEach(h=>xu(t,h,e,i,l))})},gg=(t,e,i,r)=>{if(typeof e=="string")try{let n=Fe.lstatSync(fi.resolve(t,e));n.name=e,e=n}catch(n){if(n.code==="ENOENT")return;throw n}e.isDirectory()&&mu(fi.resolve(t,e.name),i,r),el(fi.resolve(t,e.name),i,r)},mu=(t,e,i)=>{let r;try{r=yg(t,{withFileTypes:!0})}catch(n){if(n.code==="ENOENT")return;if(n.code==="ENOTDIR"||n.code==="ENOTSUP")return el(t,e,i);throw n}return r&&r.length&&r.forEach(n=>gg(t,n,e,i)),el(t,e,i)};pu.exports=tl;tl.sync=mu});var Eu=m((Gb,il)=>{"use strict";var gu=cu(),Be=require("fs"),ds=require("path"),wu=yu(),Ne=Oi(),xs=class extends Error{constructor(e,i){super("Cannot extract through symbolic link"),this.path=i,this.symlink=e}get name(){return"SylinkError"}},ms=class extends Error{constructor(e,i){super(i+": Cannot cd into '"+e+"'"),this.path=e,this.code=i}get name(){return"CwdError"}},ps=(t,e)=>t.get(Ne(e)),Or=(t,e,i)=>t.set(Ne(e),i),wg=(t,e)=>{Be.stat(t,(i,r)=>{(i||!r.isDirectory())&&(i=new ms(t,i&&i.code||"ENOTDIR")),e(i)})};il.exports=(t,e,i)=>{t=Ne(t);let r=e.umask,n=e.mode|448,s=(n&r)!==0,o=e.uid,a=e.gid,l=typeof o=="number"&&typeof a=="number"&&(o!==e.processUid||a!==e.processGid),h=e.preserve,f=e.unlink,u=e.cache,c=Ne(e.cwd),d=(x,y)=>{x?i(x):(Or(u,t,!0),y&&l?wu(y,o,a,w=>d(w)):s?Be.chmod(t,n,i):i())};if(u&&ps(u,t)===!0)return d();if(t===c)return wg(t,d);if(h)return gu(t,{mode:n}).then(x=>d(null,x),d);let g=Ne(ds.relative(c,t)).split("/");ys(c,g,n,u,f,c,null,d)};var ys=(t,e,i,r,n,s,o,a)=>{if(!e.length)return a(null,o);let l=e.shift(),h=Ne(ds.resolve(t+"/"+l));if(ps(r,h))return ys(h,e,i,r,n,s,o,a);Be.mkdir(h,i,vu(h,e,i,r,n,s,o,a))},vu=(t,e,i,r,n,s,o,a)=>l=>{l?Be.lstat(t,(h,f)=>{if(h)h.path=h.path&&Ne(h.path),a(h);else if(f.isDirectory())ys(t,e,i,r,n,s,o,a);else if(n)Be.unlink(t,u=>{if(u)return a(u);Be.mkdir(t,i,vu(t,e,i,r,n,s,o,a))});else{if(f.isSymbolicLink())return a(new xs(t,t+"/"+e.join("/")));a(l)}}):(o=o||t,ys(t,e,i,r,n,s,o,a))},vg=t=>{let e=!1,i="ENOTDIR";try{e=Be.statSync(t).isDirectory()}catch(r){i=r.code}finally{if(!e)throw new ms(t,i)}};il.exports.sync=(t,e)=>{t=Ne(t);let i=e.umask,r=e.mode|448,n=(r&i)!==0,s=e.uid,o=e.gid,a=typeof s=="number"&&typeof o=="number"&&(s!==e.processUid||o!==e.processGid),l=e.preserve,h=e.unlink,f=e.cache,u=Ne(e.cwd),c=x=>{Or(f,t,!0),x&&a&&wu.sync(x,s,o),n&&Be.chmodSync(t,r)};if(f&&ps(f,t)===!0)return c();if(t===u)return vg(u),c();if(l)return c(gu.sync(t,r));let p=Ne(ds.relative(u,t)).split("/"),g=null;for(let x=p.shift(),y=u;x&&(y+="/"+x);x=p.shift())if(y=Ne(ds.resolve(y)),!ps(f,y))try{Be.mkdirSync(y,r),g=g||y,Or(f,y,!0)}catch{let S=Be.lstatSync(y);if(S.isDirectory()){Or(f,y,!0);continue}else if(h){Be.unlinkSync(y),Be.mkdirSync(y,r),g=g||y,Or(f,y,!0);continue}else if(S.isSymbolicLink())return new xs(y,y+"/"+p.join("/"))}return c(g)}});var nl=m(($b,bu)=>{var rl=Object.create(null),{hasOwnProperty:Eg}=Object.prototype;bu.exports=t=>(Eg.call(rl,t)||(rl[t]=t.normalize("NFD")),rl[t])});var Ou=m((Zb,Ru)=>{var Su=require("assert"),bg=nl(),Sg=Ai(),{join:_u}=require("path"),_g=process.env.TESTING_TAR_FAKE_PLATFORM||process.platform,Rg=_g==="win32";Ru.exports=()=>{let t=new Map,e=new Map,i=h=>h.split("/").slice(0,-1).reduce((u,c)=>(u.length&&(c=_u(u[u.length-1],c)),u.push(c||"/"),u),[]),r=new Set,n=h=>{let f=e.get(h);if(!f)throw new Error("function does not have any path reservations");return{paths:f.paths.map(u=>t.get(u)),dirs:[...f.dirs].map(u=>t.get(u))}},s=h=>{let{paths:f,dirs:u}=n(h);return f.every(c=>c[0]===h)&&u.every(c=>c[0]instanceof Set&&c[0].has(h))},o=h=>r.has(h)||!s(h)?!1:(r.add(h),h(()=>a(h)),!0),a=h=>{if(!r.has(h))return!1;let{paths:f,dirs:u}=e.get(h),c=new Set;return f.forEach(d=>{let p=t.get(d);Su.equal(p[0],h),p.length===1?t.delete(d):(p.shift(),typeof p[0]=="function"?c.add(p[0]):p[0].forEach(g=>c.add(g)))}),u.forEach(d=>{let p=t.get(d);Su(p[0]instanceof Set),p[0].size===1&&p.length===1?t.delete(d):p[0].size===1?(p.shift(),c.add(p[0])):p[0].delete(h)}),r.delete(h),c.forEach(d=>o(d)),!0};return{check:s,reserve:(h,f)=>{h=Rg?["win32 parallelization disabled"]:h.map(c=>Sg(_u(bg(c))).toLowerCase());let u=new Set(h.map(c=>i(c)).reduce((c,d)=>c.concat(d)));return e.set(f,{dirs:u,paths:h}),h.forEach(c=>{let d=t.get(c);d?d.push(f):t.set(c,[f])}),u.forEach(c=>{let d=t.get(c);d?d[d.length-1]instanceof Set?d[d.length-1].add(f):d.push(new Set([f])):t.set(c,[new Set([f])])}),o(f)}}}});var Au=m((Kb,Du)=>{var Og=process.env.__FAKE_PLATFORM__||process.platform,Tg=Og==="win32",Dg=global.__FAKE_TESTING_FS__||require("fs"),{O_CREAT:Ag,O_TRUNC:Cg,O_WRONLY:Fg,UV_FS_O_FILEMAP:Tu=0}=Dg.constants,Bg=Tg&&!!Tu,Lg=512*1024,Ig=Tu|Cg|Ag|Fg;Du.exports=Bg?t=>t<Lg?Ig:"w":()=>"w"});var dl=m((Vb,Wu)=>{"use strict";var Ng=require("assert"),Mg=fs(),D=require("fs"),Pg=ki(),pt=require("path"),zu=Eu(),Cu=aa(),qg=Ou(),kg=la(),_e=Oi(),zg=Ai(),Ug=nl(),Fu=Symbol("onEntry"),al=Symbol("checkFs"),Bu=Symbol("checkFs2"),vs=Symbol("pruneCache"),ll=Symbol("isReusable"),Le=Symbol("makeFs"),fl=Symbol("file"),cl=Symbol("directory"),Es=Symbol("link"),Lu=Symbol("symlink"),Iu=Symbol("hardlink"),Nu=Symbol("unsupported"),Mu=Symbol("checkPath"),zt=Symbol("mkdir"),he=Symbol("onError"),gs=Symbol("pending"),Pu=Symbol("pend"),Hi=Symbol("unpend"),sl=Symbol("ended"),ol=Symbol("maybeClose"),hl=Symbol("skip"),Tr=Symbol("doChown"),Dr=Symbol("uid"),Ar=Symbol("gid"),Cr=Symbol("checkedCwd"),Uu=require("crypto"),ju=Au(),jg=process.env.TESTING_TAR_FAKE_PLATFORM||process.platform,Fr=jg==="win32",Wg=(t,e)=>{if(!Fr)return D.unlink(t,e);let i=t+".DELETE."+Uu.randomBytes(16).toString("hex");D.rename(t,i,r=>{if(r)return e(r);D.unlink(i,e)})},Hg=t=>{if(!Fr)return D.unlinkSync(t);let e=t+".DELETE."+Uu.randomBytes(16).toString("hex");D.renameSync(t,e),D.unlinkSync(e)},qu=(t,e,i)=>t===t>>>0?t:e===e>>>0?e:i,ku=t=>zg(_e(Ug(t))).toLowerCase(),Yg=(t,e)=>{e=ku(e);for(let i of t.keys()){let r=ku(i);(r===e||r.indexOf(e+"/")===0)&&t.delete(i)}},Gg=t=>{for(let e of t.keys())t.delete(e)},Br=class extends Mg{constructor(e){if(e||(e={}),e.ondone=i=>{this[sl]=!0,this[ol]()},super(e),this[Cr]=!1,this.reservations=qg(),this.transform=typeof e.transform=="function"?e.transform:null,this.writable=!0,this.readable=!1,this[gs]=0,this[sl]=!1,this.dirCache=e.dirCache||new Map,typeof e.uid=="number"||typeof e.gid=="number"){if(typeof e.uid!="number"||typeof e.gid!="number")throw new TypeError("cannot set owner without number uid and gid");if(e.preserveOwner)throw new TypeError("cannot preserve owner in archive and also set owner explicitly");this.uid=e.uid,this.gid=e.gid,this.setOwner=!0}else this.uid=null,this.gid=null,this.setOwner=!1;e.preserveOwner===void 0&&typeof e.uid!="number"?this.preserveOwner=process.getuid&&process.getuid()===0:this.preserveOwner=!!e.preserveOwner,this.processUid=(this.preserveOwner||this.setOwner)&&process.getuid?process.getuid():null,this.processGid=(this.preserveOwner||this.setOwner)&&process.getgid?process.getgid():null,this.forceChown=e.forceChown===!0,this.win32=!!e.win32||Fr,this.newer=!!e.newer,this.keep=!!e.keep,this.noMtime=!!e.noMtime,this.preservePaths=!!e.preservePaths,this.unlink=!!e.unlink,this.cwd=_e(pt.resolve(e.cwd||process.cwd())),this.strip=+e.strip||0,this.processUmask=e.noChmod?0:process.umask(),this.umask=typeof e.umask=="number"?e.umask:this.processUmask,this.dmode=e.dmode||511&~this.umask,this.fmode=e.fmode||438&~this.umask,this.on("entry",i=>this[Fu](i))}warn(e,i,r={}){return(e==="TAR_BAD_ARCHIVE"||e==="TAR_ABORT")&&(r.recoverable=!1),super.warn(e,i,r)}[ol](){this[sl]&&this[gs]===0&&(this.emit("prefinish"),this.emit("finish"),this.emit("end"))}[Mu](e){if(this.strip){let i=_e(e.path).split("/");if(i.length<this.strip)return!1;if(e.path=i.slice(this.strip).join("/"),e.type==="Link"){let r=_e(e.linkpath).split("/");if(r.length>=this.strip)e.linkpath=r.slice(this.strip).join("/");else return!1}}if(!this.preservePaths){let i=_e(e.path),r=i.split("/");if(r.includes("..")||Fr&&/^[a-z]:\.\.$/i.test(r[0]))return this.warn("TAR_ENTRY_ERROR","path contains '..'",{entry:e,path:i}),!1;let[n,s]=kg(i);n&&(e.path=s,this.warn("TAR_ENTRY_INFO",`stripping ${n} from absolute path`,{entry:e,path:i}))}if(pt.isAbsolute(e.path)?e.absolute=_e(pt.resolve(e.path)):e.absolute=_e(pt.resolve(this.cwd,e.path)),!this.preservePaths&&e.absolute.indexOf(this.cwd+"/")!==0&&e.absolute!==this.cwd)return this.warn("TAR_ENTRY_ERROR","path escaped extraction target",{entry:e,path:_e(e.path),resolvedPath:e.absolute,cwd:this.cwd}),!1;if(e.absolute===this.cwd&&e.type!=="Directory"&&e.type!=="GNUDumpDir")return!1;if(this.win32){let{root:i}=pt.win32.parse(e.absolute);e.absolute=i+Cu.encode(e.absolute.slice(i.length));let{root:r}=pt.win32.parse(e.path);e.path=r+Cu.encode(e.path.slice(r.length))}return!0}[Fu](e){if(!this[Mu](e))return e.resume();switch(Ng.equal(typeof e.absolute,"string"),e.type){case"Directory":case"GNUDumpDir":e.mode&&(e.mode=e.mode|448);case"File":case"OldFile":case"ContiguousFile":case"Link":case"SymbolicLink":return this[al](e);case"CharacterDevice":case"BlockDevice":case"FIFO":default:return this[Nu](e)}}[he](e,i){e.name==="CwdError"?this.emit("error",e):(this.warn("TAR_ENTRY_ERROR",e,{entry:i}),this[Hi](),i.resume())}[zt](e,i,r){zu(_e(e),{uid:this.uid,gid:this.gid,processUid:this.processUid,processGid:this.processGid,umask:this.processUmask,preserve:this.preservePaths,unlink:this.unlink,cache:this.dirCache,cwd:this.cwd,mode:i,noChmod:this.noChmod},r)}[Tr](e){return this.forceChown||this.preserveOwner&&(typeof e.uid=="number"&&e.uid!==this.processUid||typeof e.gid=="number"&&e.gid!==this.processGid)||typeof this.uid=="number"&&this.uid!==this.processUid||typeof this.gid=="number"&&this.gid!==this.processGid}[Dr](e){return qu(this.uid,e.uid,this.processUid)}[Ar](e){return qu(this.gid,e.gid,this.processGid)}[fl](e,i){let r=e.mode&4095||this.fmode,n=new Pg.WriteStream(e.absolute,{flags:ju(e.size),mode:r,autoClose:!1});n.on("error",l=>{n.fd&&D.close(n.fd,()=>{}),n.write=()=>!0,this[he](l,e),i()});let s=1,o=l=>{if(l){n.fd&&D.close(n.fd,()=>{}),this[he](l,e),i();return}--s===0&&D.close(n.fd,h=>{h?this[he](h,e):this[Hi](),i()})};n.on("finish",l=>{let h=e.absolute,f=n.fd;if(e.mtime&&!this.noMtime){s++;let u=e.atime||new Date,c=e.mtime;D.futimes(f,u,c,d=>d?D.utimes(h,u,c,p=>o(p&&d)):o())}if(this[Tr](e)){s++;let u=this[Dr](e),c=this[Ar](e);D.fchown(f,u,c,d=>d?D.chown(h,u,c,p=>o(p&&d)):o())}o()});let a=this.transform&&this.transform(e)||e;a!==e&&(a.on("error",l=>{this[he](l,e),i()}),e.pipe(a)),a.pipe(n)}[cl](e,i){let r=e.mode&4095||this.dmode;this[zt](e.absolute,r,n=>{if(n){this[he](n,e),i();return}let s=1,o=a=>{--s===0&&(i(),this[Hi](),e.resume())};e.mtime&&!this.noMtime&&(s++,D.utimes(e.absolute,e.atime||new Date,e.mtime,o)),this[Tr](e)&&(s++,D.chown(e.absolute,this[Dr](e),this[Ar](e),o)),o()})}[Nu](e){e.unsupported=!0,this.warn("TAR_ENTRY_UNSUPPORTED",`unsupported entry type: ${e.type}`,{entry:e}),e.resume()}[Lu](e,i){this[Es](e,e.linkpath,"symlink",i)}[Iu](e,i){let r=_e(pt.resolve(this.cwd,e.linkpath));this[Es](e,r,"link",i)}[Pu](){this[gs]++}[Hi](){this[gs]--,this[ol]()}[hl](e){this[Hi](),e.resume()}[ll](e,i){return e.type==="File"&&!this.unlink&&i.isFile()&&i.nlink<=1&&!Fr}[al](e){this[Pu]();let i=[e.path];e.linkpath&&i.push(e.linkpath),this.reservations.reserve(i,r=>this[Bu](e,r))}[vs](e){e.type==="SymbolicLink"?Gg(this.dirCache):e.type!=="Directory"&&Yg(this.dirCache,e.absolute)}[Bu](e,i){this[vs](e);let r=a=>{this[vs](e),i(a)},n=()=>{this[zt](this.cwd,this.dmode,a=>{if(a){this[he](a,e),r();return}this[Cr]=!0,s()})},s=()=>{if(e.absolute!==this.cwd){let a=_e(pt.dirname(e.absolute));if(a!==this.cwd)return this[zt](a,this.dmode,l=>{if(l){this[he](l,e),r();return}o()})}o()},o=()=>{D.lstat(e.absolute,(a,l)=>{if(l&&(this.keep||this.newer&&l.mtime>e.mtime)){this[hl](e),r();return}if(a||this[ll](e,l))return this[Le](null,e,r);if(l.isDirectory()){if(e.type==="Directory"){let h=!this.noChmod&&e.mode&&(l.mode&4095)!==e.mode,f=u=>this[Le](u,e,r);return h?D.chmod(e.absolute,e.mode,f):f()}if(e.absolute!==this.cwd)return D.rmdir(e.absolute,h=>this[Le](h,e,r))}if(e.absolute===this.cwd)return this[Le](null,e,r);Wg(e.absolute,h=>this[Le](h,e,r))})};this[Cr]?s():n()}[Le](e,i,r){if(e){this[he](e,i),r();return}switch(i.type){case"File":case"OldFile":case"ContiguousFile":return this[fl](i,r);case"Link":return this[Iu](i,r);case"SymbolicLink":return this[Lu](i,r);case"Directory":case"GNUDumpDir":return this[cl](i,r)}}[Es](e,i,r,n){D[r](i,e.absolute,s=>{s?this[he](s,e):(this[Hi](),e.resume()),n()})}},ws=t=>{try{return[null,t()]}catch(e){return[e,null]}},ul=class extends Br{[Le](e,i){return super[Le](e,i,()=>{})}[al](e){if(this[vs](e),!this[Cr]){let s=this[zt](this.cwd,this.dmode);if(s)return this[he](s,e);this[Cr]=!0}if(e.absolute!==this.cwd){let s=_e(pt.dirname(e.absolute));if(s!==this.cwd){let o=this[zt](s,this.dmode);if(o)return this[he](o,e)}}let[i,r]=ws(()=>D.lstatSync(e.absolute));if(r&&(this.keep||this.newer&&r.mtime>e.mtime))return this[hl](e);if(i||this[ll](e,r))return this[Le](null,e);if(r.isDirectory()){if(e.type==="Directory"){let o=!this.noChmod&&e.mode&&(r.mode&4095)!==e.mode,[a]=o?ws(()=>{D.chmodSync(e.absolute,e.mode)}):[];return this[Le](a,e)}let[s]=ws(()=>D.rmdirSync(e.absolute));this[Le](s,e)}let[n]=e.absolute===this.cwd?[]:ws(()=>Hg(e.absolute));this[Le](n,e)}[fl](e,i){let r=e.mode&4095||this.fmode,n=a=>{let l;try{D.closeSync(s)}catch(h){l=h}(a||l)&&this[he](a||l,e),i()},s;try{s=D.openSync(e.absolute,ju(e.size),r)}catch(a){return n(a)}let o=this.transform&&this.transform(e)||e;o!==e&&(o.on("error",a=>this[he](a,e)),e.pipe(o)),o.on("data",a=>{try{D.writeSync(s,a,0,a.length)}catch(l){n(l)}}),o.on("end",a=>{let l=null;if(e.mtime&&!this.noMtime){let h=e.atime||new Date,f=e.mtime;try{D.futimesSync(s,h,f)}catch(u){try{D.utimesSync(e.absolute,h,f)}catch{l=u}}}if(this[Tr](e)){let h=this[Dr](e),f=this[Ar](e);try{D.fchownSync(s,h,f)}catch(u){try{D.chownSync(e.absolute,h,f)}catch{l=l||u}}}n(l)})}[cl](e,i){let r=e.mode&4095||this.dmode,n=this[zt](e.absolute,r);if(n){this[he](n,e),i();return}if(e.mtime&&!this.noMtime)try{D.utimesSync(e.absolute,e.atime||new Date,e.mtime)}catch{}if(this[Tr](e))try{D.chownSync(e.absolute,this[Dr](e),this[Ar](e))}catch{}i(),e.resume()}[zt](e,i){try{return zu.sync(_e(e),{uid:this.uid,gid:this.gid,processUid:this.processUid,processGid:this.processGid,umask:this.processUmask,preserve:this.preservePaths,unlink:this.unlink,cache:this.dirCache,cwd:this.cwd,mode:i})}catch(r){return r}}[Es](e,i,r,n){try{D[r+"Sync"](i,e.absolute),n(),e.resume()}catch(s){return this[he](s,e)}}};Br.Sync=ul;Wu.exports=Br});var Zu=m((Xb,$u)=>{"use strict";var $g=Ei(),bs=dl(),Yu=require("fs"),Gu=ki(),Hu=require("path"),xl=Ai();$u.exports=(t,e,i)=>{typeof t=="function"?(i=t,e=null,t={}):Array.isArray(t)&&(e=t,t={}),typeof e=="function"&&(i=e,e=null),e?e=Array.from(e):e=[];let r=$g(t);if(r.sync&&typeof i=="function")throw new TypeError("callback not supported for sync tar functions");if(!r.file&&typeof i=="function")throw new TypeError("callback only supported with file option");return e.length&&Zg(r,e),r.file&&r.sync?Kg(r):r.file?Vg(r,i):r.sync?Xg(r):Jg(r)};var Zg=(t,e)=>{let i=new Map(e.map(s=>[xl(s),!0])),r=t.filter,n=(s,o)=>{let a=o||Hu.parse(s).root||".",l=s===a?!1:i.has(s)?i.get(s):n(Hu.dirname(s),a);return i.set(s,l),l};t.filter=r?(s,o)=>r(s,o)&&n(xl(s)):s=>n(xl(s))},Kg=t=>{let e=new bs.Sync(t),i=t.file,r=Yu.statSync(i),n=t.maxReadSize||16*1024*1024;new Gu.ReadStreamSync(i,{readSize:n,size:r.size}).pipe(e)},Vg=(t,e)=>{let i=new bs(t),r=t.maxReadSize||16*1024*1024,n=t.file,s=new Promise((o,a)=>{i.on("error",a),i.on("close",o),Yu.stat(n,(l,h)=>{if(l)a(l);else{let f=new Gu.ReadStream(n,{readSize:r,size:h.size});f.on("error",a),f.pipe(i)}})});return e?s.then(e,e):s},Xg=t=>new bs.Sync(t),Jg=t=>new bs(t)});var Ku=m(V=>{"use strict";V.c=V.create=Ch();V.r=V.replace=Ka();V.t=V.list=cs();V.u=V.update=kh();V.x=V.extract=Zu();V.Pack=Hn();V.Unpack=dl();V.Parse=fs();V.ReadEntry=Tn();V.WriteEntry=ga();V.Header=Di();V.Pax=An();V.types=ea()});var Xu=m((Qb,Vu)=>{var Ut=require("constants"),Qg=process.cwd,Ss=null,ew=process.env.GRACEFUL_FS_PLATFORM||process.platform;process.cwd=function(){return Ss||(Ss=Qg.call(process)),Ss};try{process.cwd()}catch{}typeof process.chdir=="function"&&(ml=process.chdir,process.chdir=function(t){Ss=null,ml.call(process,t)},Object.setPrototypeOf&&Object.setPrototypeOf(process.chdir,ml));var ml;Vu.exports=tw;function tw(t){Ut.hasOwnProperty("O_SYMLINK")&&process.version.match(/^v0\.6\.[0-2]|^v0\.5\./)&&e(t),t.lutimes||i(t),t.chown=s(t.chown),t.fchown=s(t.fchown),t.lchown=s(t.lchown),t.chmod=r(t.chmod),t.fchmod=r(t.fchmod),t.lchmod=r(t.lchmod),t.chownSync=o(t.chownSync),t.fchownSync=o(t.fchownSync),t.lchownSync=o(t.lchownSync),t.chmodSync=n(t.chmodSync),t.fchmodSync=n(t.fchmodSync),t.lchmodSync=n(t.lchmodSync),t.stat=a(t.stat),t.fstat=a(t.fstat),t.lstat=a(t.lstat),t.statSync=l(t.statSync),t.fstatSync=l(t.fstatSync),t.lstatSync=l(t.lstatSync),t.chmod&&!t.lchmod&&(t.lchmod=function(f,u,c){c&&process.nextTick(c)},t.lchmodSync=function(){}),t.chown&&!t.lchown&&(t.lchown=function(f,u,c,d){d&&process.nextTick(d)},t.lchownSync=function(){}),ew==="win32"&&(t.rename=typeof t.rename!="function"?t.rename:function(f){function u(c,d,p){var g=Date.now(),x=0;f(c,d,function y(w){if(w&&(w.code==="EACCES"||w.code==="EPERM"||w.code==="EBUSY")&&Date.now()-g<6e4){setTimeout(function(){t.stat(d,function(S,j){S&&S.code==="ENOENT"?f(c,d,y):p(w)})},x),x<100&&(x+=10);return}p&&p(w)})}return Object.setPrototypeOf&&Object.setPrototypeOf(u,f),u}(t.rename)),t.read=typeof t.read!="function"?t.read:function(f){function u(c,d,p,g,x,y){var w;if(y&&typeof y=="function"){var S=0;w=function(j,A,pe){if(j&&j.code==="EAGAIN"&&S<10)return S++,f.call(t,c,d,p,g,x,w);y.apply(this,arguments)}}return f.call(t,c,d,p,g,x,w)}return Object.setPrototypeOf&&Object.setPrototypeOf(u,f),u}(t.read),t.readSync=typeof t.readSync!="function"?t.readSync:function(f){return function(u,c,d,p,g){for(var x=0;;)try{return f.call(t,u,c,d,p,g)}catch(y){if(y.code==="EAGAIN"&&x<10){x++;continue}throw y}}}(t.readSync);function e(f){f.lchmod=function(u,c,d){f.open(u,Ut.O_WRONLY|Ut.O_SYMLINK,c,function(p,g){if(p){d&&d(p);return}f.fchmod(g,c,function(x){f.close(g,function(y){d&&d(x||y)})})})},f.lchmodSync=function(u,c){var d=f.openSync(u,Ut.O_WRONLY|Ut.O_SYMLINK,c),p=!0,g;try{g=f.fchmodSync(d,c),p=!1}finally{if(p)try{f.closeSync(d)}catch{}else f.closeSync(d)}return g}}function i(f){Ut.hasOwnProperty("O_SYMLINK")&&f.futimes?(f.lutimes=function(u,c,d,p){f.open(u,Ut.O_SYMLINK,function(g,x){if(g){p&&p(g);return}f.futimes(x,c,d,function(y){f.close(x,function(w){p&&p(y||w)})})})},f.lutimesSync=function(u,c,d){var p=f.openSync(u,Ut.O_SYMLINK),g,x=!0;try{g=f.futimesSync(p,c,d),x=!1}finally{if(x)try{f.closeSync(p)}catch{}else f.closeSync(p)}return g}):f.futimes&&(f.lutimes=function(u,c,d,p){p&&process.nextTick(p)},f.lutimesSync=function(){})}function r(f){return f&&function(u,c,d){return f.call(t,u,c,function(p){h(p)&&(p=null),d&&d.apply(this,arguments)})}}function n(f){return f&&function(u,c){try{return f.call(t,u,c)}catch(d){if(!h(d))throw d}}}function s(f){return f&&function(u,c,d,p){return f.call(t,u,c,d,function(g){h(g)&&(g=null),p&&p.apply(this,arguments)})}}function o(f){return f&&function(u,c,d){try{return f.call(t,u,c,d)}catch(p){if(!h(p))throw p}}}function a(f){return f&&function(u,c,d){typeof c=="function"&&(d=c,c=null);function p(g,x){x&&(x.uid<0&&(x.uid+=4294967296),x.gid<0&&(x.gid+=4294967296)),d&&d.apply(this,arguments)}return c?f.call(t,u,c,p):f.call(t,u,p)}}function l(f){return f&&function(u,c){var d=c?f.call(t,u,c):f.call(t,u);return d&&(d.uid<0&&(d.uid+=4294967296),d.gid<0&&(d.gid+=4294967296)),d}}function h(f){if(!f||f.code==="ENOSYS")return!0;var u=!process.getuid||process.getuid()!==0;return!!(u&&(f.code==="EINVAL"||f.code==="EPERM"))}}});var e0=m((e6,Qu)=>{var Ju=require("stream").Stream;Qu.exports=iw;function iw(t){return{ReadStream:e,WriteStream:i};function e(r,n){if(!(this instanceof e))return new e(r,n);Ju.call(this);var s=this;this.path=r,this.fd=null,this.readable=!0,this.paused=!1,this.flags="r",this.mode=438,this.bufferSize=64*1024,n=n||{};for(var o=Object.keys(n),a=0,l=o.length;a<l;a++){var h=o[a];this[h]=n[h]}if(this.encoding&&this.setEncoding(this.encoding),this.start!==void 0){if(typeof this.start!="number")throw TypeError("start must be a Number");if(this.end===void 0)this.end=1/0;else if(typeof this.end!="number")throw TypeError("end must be a Number");if(this.start>this.end)throw new Error("start must be <= end");this.pos=this.start}if(this.fd!==null){process.nextTick(function(){s._read()});return}t.open(this.path,this.flags,this.mode,function(f,u){if(f){s.emit("error",f),s.readable=!1;return}s.fd=u,s.emit("open",u),s._read()})}function i(r,n){if(!(this instanceof i))return new i(r,n);Ju.call(this),this.path=r,this.fd=null,this.writable=!0,this.flags="w",this.encoding="binary",this.mode=438,this.bytesWritten=0,n=n||{};for(var s=Object.keys(n),o=0,a=s.length;o<a;o++){var l=s[o];this[l]=n[l]}if(this.start!==void 0){if(typeof this.start!="number")throw TypeError("start must be a Number");if(this.start<0)throw new Error("start must be >= zero");this.pos=this.start}this.busy=!1,this._queue=[],this.fd===null&&(this._open=t.open,this._queue.push([this._open,this.path,this.flags,this.mode,void 0]),this.flush())}}});var i0=m((t6,t0)=>{"use strict";t0.exports=nw;var rw=Object.getPrototypeOf||function(t){return t.__proto__};function nw(t){if(t===null||typeof t!="object")return t;if(t instanceof Object)var e={__proto__:rw(t)};else var e=Object.create(null);return Object.getOwnPropertyNames(t).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(t,i))}),e}});var o0=m((i6,gl)=>{var W=require("fs"),sw=Xu(),ow=e0(),aw=i0(),_s=require("util"),ie,Os;typeof Symbol=="function"&&typeof Symbol.for=="function"?(ie=Symbol.for("graceful-fs.queue"),Os=Symbol.for("graceful-fs.previous")):(ie="___graceful-fs.queue",Os="___graceful-fs.previous");function lw(){}function s0(t,e){Object.defineProperty(t,ie,{get:function(){return e}})}var ci=lw;_s.debuglog?ci=_s.debuglog("gfs4"):/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&(ci=function(){var t=_s.format.apply(_s,arguments);t="GFS4: "+t.split(/\n/).join(`
GFS4: `),console.error(t)});W[ie]||(r0=global[ie]||[],s0(W,r0),W.close=function(t){function e(i,r){return t.call(W,i,function(n){n||n0(),typeof r=="function"&&r.apply(this,arguments)})}return Object.defineProperty(e,Os,{value:t}),e}(W.close),W.closeSync=function(t){function e(i){t.apply(W,arguments),n0()}return Object.defineProperty(e,Os,{value:t}),e}(W.closeSync),/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&process.on("exit",function(){ci(W[ie]),require("assert").equal(W[ie].length,0)}));var r0;global[ie]||s0(global,W[ie]);gl.exports=pl(aw(W));process.env.TEST_GRACEFUL_FS_GLOBAL_PATCH&&!W.__patched&&(gl.exports=pl(W),W.__patched=!0);function pl(t){sw(t),t.gracefulify=pl,t.createReadStream=A,t.createWriteStream=pe;var e=t.readFile;t.readFile=i;function i(v,E,b){return typeof E=="function"&&(b=E,E=null),L(v,E,b);function L(I,B,_,R){return e(I,B,function(O){O&&(O.code==="EMFILE"||O.code==="ENFILE")?Yi([L,[I,B,_],O,R||Date.now(),Date.now()]):typeof _=="function"&&_.apply(this,arguments)})}}var r=t.writeFile;t.writeFile=n;function n(v,E,b,L){return typeof b=="function"&&(L=b,b=null),I(v,E,b,L);function I(B,_,R,O,G){return r(B,_,R,function(F){F&&(F.code==="EMFILE"||F.code==="ENFILE")?Yi([I,[B,_,R,O],F,G||Date.now(),Date.now()]):typeof O=="function"&&O.apply(this,arguments)})}}var s=t.appendFile;s&&(t.appendFile=o);function o(v,E,b,L){return typeof b=="function"&&(L=b,b=null),I(v,E,b,L);function I(B,_,R,O,G){return s(B,_,R,function(F){F&&(F.code==="EMFILE"||F.code==="ENFILE")?Yi([I,[B,_,R,O],F,G||Date.now(),Date.now()]):typeof O=="function"&&O.apply(this,arguments)})}}var a=t.copyFile;a&&(t.copyFile=l);function l(v,E,b,L){return typeof b=="function"&&(L=b,b=0),I(v,E,b,L);function I(B,_,R,O,G){return a(B,_,R,function(F){F&&(F.code==="EMFILE"||F.code==="ENFILE")?Yi([I,[B,_,R,O],F,G||Date.now(),Date.now()]):typeof O=="function"&&O.apply(this,arguments)})}}var h=t.readdir;t.readdir=u;var f=/^v[0-5]\./;function u(v,E,b){typeof E=="function"&&(b=E,E=null);var L=f.test(process.version)?function(_,R,O,G){return h(_,I(_,R,O,G))}:function(_,R,O,G){return h(_,R,I(_,R,O,G))};return L(v,E,b);function I(B,_,R,O){return function(G,F){G&&(G.code==="EMFILE"||G.code==="ENFILE")?Yi([L,[B,_,R],G,O||Date.now(),Date.now()]):(F&&F.sort&&F.sort(),typeof R=="function"&&R.call(this,G,F))}}}if(process.version.substr(0,4)==="v0.8"){var c=ow(t);y=c.ReadStream,S=c.WriteStream}var d=t.ReadStream;d&&(y.prototype=Object.create(d.prototype),y.prototype.open=w);var p=t.WriteStream;p&&(S.prototype=Object.create(p.prototype),S.prototype.open=j),Object.defineProperty(t,"ReadStream",{get:function(){return y},set:function(v){y=v},enumerable:!0,configurable:!0}),Object.defineProperty(t,"WriteStream",{get:function(){return S},set:function(v){S=v},enumerable:!0,configurable:!0});var g=y;Object.defineProperty(t,"FileReadStream",{get:function(){return g},set:function(v){g=v},enumerable:!0,configurable:!0});var x=S;Object.defineProperty(t,"FileWriteStream",{get:function(){return x},set:function(v){x=v},enumerable:!0,configurable:!0});function y(v,E){return this instanceof y?(d.apply(this,arguments),this):y.apply(Object.create(y.prototype),arguments)}function w(){var v=this;Y(v.path,v.flags,v.mode,function(E,b){E?(v.autoClose&&v.destroy(),v.emit("error",E)):(v.fd=b,v.emit("open",b),v.read())})}function S(v,E){return this instanceof S?(p.apply(this,arguments),this):S.apply(Object.create(S.prototype),arguments)}function j(){var v=this;Y(v.path,v.flags,v.mode,function(E,b){E?(v.destroy(),v.emit("error",E)):(v.fd=b,v.emit("open",b))})}function A(v,E){return new t.ReadStream(v,E)}function pe(v,E){return new t.WriteStream(v,E)}var U=t.open;t.open=Y;function Y(v,E,b,L){return typeof b=="function"&&(L=b,b=null),I(v,E,b,L);function I(B,_,R,O,G){return U(B,_,R,function(F,M){F&&(F.code==="EMFILE"||F.code==="ENFILE")?Yi([I,[B,_,R,O],F,G||Date.now(),Date.now()]):typeof O=="function"&&O.apply(this,arguments)})}}return t}function Yi(t){ci("ENQUEUE",t[0].name,t[1]),W[ie].push(t),yl()}var Rs;function n0(){for(var t=Date.now(),e=0;e<W[ie].length;++e)W[ie][e].length>2&&(W[ie][e][3]=t,W[ie][e][4]=t);yl()}function yl(){if(clearTimeout(Rs),Rs=void 0,W[ie].length!==0){var t=W[ie].shift(),e=t[0],i=t[1],r=t[2],n=t[3],s=t[4];if(n===void 0)ci("RETRY",e.name,i),e.apply(null,i);else if(Date.now()-n>=6e4){ci("TIMEOUT",e.name,i);var o=i.pop();typeof o=="function"&&o.call(null,r)}else{var a=Date.now()-s,l=Math.max(s-n,1),h=Math.min(l*1.2,100);a>=h?(ci("RETRY",e.name,i),e.apply(null,i.concat([n]))):W[ie].push(t)}Rs===void 0&&(Rs=setTimeout(yl,0))}}});var wl=m((r6,a0)=>{"use strict";a0.exports=t=>{let e=new Uint8Array(t);if(!(e&&e.length>1))return null;let i=(r,n)=>{n=Object.assign({offset:0},n);for(let s=0;s<r.length;s++)if(r[s]!==e[s+n.offset])return!1;return!0};if(i([255,216,255]))return{ext:"jpg",mime:"image/jpeg"};if(i([137,80,78,71,13,10,26,10]))return{ext:"png",mime:"image/png"};if(i([71,73,70]))return{ext:"gif",mime:"image/gif"};if(i([87,69,66,80],{offset:8}))return{ext:"webp",mime:"image/webp"};if(i([70,76,73,70]))return{ext:"flif",mime:"image/flif"};if((i([73,73,42,0])||i([77,77,0,42]))&&i([67,82],{offset:8}))return{ext:"cr2",mime:"image/x-canon-cr2"};if(i([73,73,42,0])||i([77,77,0,42]))return{ext:"tif",mime:"image/tiff"};if(i([66,77]))return{ext:"bmp",mime:"image/bmp"};if(i([73,73,188]))return{ext:"jxr",mime:"image/vnd.ms-photo"};if(i([56,66,80,83]))return{ext:"psd",mime:"image/vnd.adobe.photoshop"};if(i([80,75,3,4])&&i([109,105,109,101,116,121,112,101,97,112,112,108,105,99,97,116,105,111,110,47,101,112,117,98,43,122,105,112],{offset:30}))return{ext:"epub",mime:"application/epub+zip"};if(i([80,75,3,4])&&i([77,69,84,65,45,73,78,70,47,109,111,122,105,108,108,97,46,114,115,97],{offset:30}))return{ext:"xpi",mime:"application/x-xpinstall"};if(i([80,75])&&(e[2]===3||e[2]===5||e[2]===7)&&(e[3]===4||e[3]===6||e[3]===8))return{ext:"zip",mime:"application/zip"};if(i([117,115,116,97,114],{offset:257}))return{ext:"tar",mime:"application/x-tar"};if(i([82,97,114,33,26,7])&&(e[6]===0||e[6]===1))return{ext:"rar",mime:"application/x-rar-compressed"};if(i([31,139,8]))return{ext:"gz",mime:"application/gzip"};if(i([66,90,104]))return{ext:"bz2",mime:"application/x-bzip2"};if(i([55,122,188,175,39,28]))return{ext:"7z",mime:"application/x-7z-compressed"};if(i([120,1]))return{ext:"dmg",mime:"application/x-apple-diskimage"};if(i([0,0,0])&&(e[3]===24||e[3]===32)&&i([102,116,121,112],{offset:4})||i([51,103,112,53])||i([0,0,0,28,102,116,121,112,109,112,52,50])&&i([109,112,52,49,109,112,52,50,105,115,111,109],{offset:16})||i([0,0,0,28,102,116,121,112,105,115,111,109])||i([0,0,0,28,102,116,121,112,109,112,52,50,0,0,0,0]))return{ext:"mp4",mime:"video/mp4"};if(i([0,0,0,28,102,116,121,112,77,52,86]))return{ext:"m4v",mime:"video/x-m4v"};if(i([77,84,104,100]))return{ext:"mid",mime:"audio/midi"};if(i([26,69,223,163])){let r=e.subarray(4,4100),n=r.findIndex((s,o,a)=>a[o]===66&&a[o+1]===130);if(n>=0){let s=n+3,o=a=>Array.from(a).every((l,h)=>r[s+h]===l.charCodeAt(0));if(o("matroska"))return{ext:"mkv",mime:"video/x-matroska"};if(o("webm"))return{ext:"webm",mime:"video/webm"}}}return i([0,0,0,20,102,116,121,112,113,116,32,32])||i([102,114,101,101],{offset:4})||i([102,116,121,112,113,116,32,32],{offset:4})||i([109,100,97,116],{offset:4})||i([119,105,100,101],{offset:4})?{ext:"mov",mime:"video/quicktime"}:i([82,73,70,70])&&i([65,86,73],{offset:8})?{ext:"avi",mime:"video/x-msvideo"}:i([48,38,178,117,142,102,207,17,166,217])?{ext:"wmv",mime:"video/x-ms-wmv"}:i([0,0,1,186])?{ext:"mpg",mime:"video/mpeg"}:i([73,68,51])||i([255,251])?{ext:"mp3",mime:"audio/mpeg"}:i([102,116,121,112,77,52,65],{offset:4})||i([77,52,65,32])?{ext:"m4a",mime:"audio/m4a"}:i([79,112,117,115,72,101,97,100],{offset:28})?{ext:"opus",mime:"audio/opus"}:i([79,103,103,83])?{ext:"ogg",mime:"audio/ogg"}:i([102,76,97,67])?{ext:"flac",mime:"audio/x-flac"}:i([82,73,70,70])&&i([87,65,86,69],{offset:8})?{ext:"wav",mime:"audio/x-wav"}:i([35,33,65,77,82,10])?{ext:"amr",mime:"audio/amr"}:i([37,80,68,70])?{ext:"pdf",mime:"application/pdf"}:i([77,90])?{ext:"exe",mime:"application/x-msdownload"}:(e[0]===67||e[0]===70)&&i([87,83],{offset:1})?{ext:"swf",mime:"application/x-shockwave-flash"}:i([123,92,114,116,102])?{ext:"rtf",mime:"application/rtf"}:i([0,97,115,109])?{ext:"wasm",mime:"application/wasm"}:i([119,79,70,70])&&(i([0,1,0,0],{offset:4})||i([79,84,84,79],{offset:4}))?{ext:"woff",mime:"font/woff"}:i([119,79,70,50])&&(i([0,1,0,0],{offset:4})||i([79,84,84,79],{offset:4}))?{ext:"woff2",mime:"font/woff2"}:i([76,80],{offset:34})&&(i([0,0,1],{offset:8})||i([1,0,2],{offset:8})||i([2,0,2],{offset:8}))?{ext:"eot",mime:"application/octet-stream"}:i([0,1,0,0,0])?{ext:"ttf",mime:"font/ttf"}:i([79,84,84,79,0])?{ext:"otf",mime:"font/otf"}:i([0,0,1,0])?{ext:"ico",mime:"image/x-icon"}:i([70,76,86,1])?{ext:"flv",mime:"video/x-flv"}:i([37,33])?{ext:"ps",mime:"application/postscript"}:i([253,55,122,88,90,0])?{ext:"xz",mime:"application/x-xz"}:i([83,81,76,105])?{ext:"sqlite",mime:"application/x-sqlite3"}:i([78,69,83,26])?{ext:"nes",mime:"application/x-nintendo-nes-rom"}:i([67,114,50,52])?{ext:"crx",mime:"application/x-google-chrome-extension"}:i([77,83,67,70])||i([73,83,99,40])?{ext:"cab",mime:"application/vnd.ms-cab-compressed"}:i([33,60,97,114,99,104,62,10,100,101,98,105,97,110,45,98,105,110,97,114,121])?{ext:"deb",mime:"application/x-deb"}:i([33,60,97,114,99,104,62])?{ext:"ar",mime:"application/x-unix-archive"}:i([237,171,238,219])?{ext:"rpm",mime:"application/x-rpm"}:i([31,160])||i([31,157])?{ext:"Z",mime:"application/x-compress"}:i([76,90,73,80])?{ext:"lz",mime:"application/x-lzip"}:i([208,207,17,224,161,177,26,225])?{ext:"msi",mime:"application/x-msi"}:i([6,14,43,52,2,5,1,1,13,1,2,1,1,2])?{ext:"mxf",mime:"application/mxf"}:i([71],{offset:4})&&(i([71],{offset:192})||i([71],{offset:196}))?{ext:"mts",mime:"video/mp2t"}:i([66,76,69,78,68,69,82])?{ext:"blend",mime:"application/x-blender"}:i([66,80,71,251])?{ext:"bpg",mime:"image/bpg"}:null}});var Ts=m((n6,l0)=>{"use strict";var yt=l0.exports=function(t){return t!==null&&typeof t=="object"&&typeof t.pipe=="function"};yt.writable=function(t){return yt(t)&&t.writable!==!1&&typeof t._write=="function"&&typeof t._writableState=="object"};yt.readable=function(t){return yt(t)&&t.readable!==!1&&typeof t._read=="function"&&typeof t._readableState=="object"};yt.duplex=function(t){return yt.writable(t)&&yt.readable(t)};yt.transform=function(t){return yt.duplex(t)&&typeof t._transform=="function"&&typeof t._transformState=="object"}});var Lr=m((s6,vl)=>{"use strict";typeof process>"u"||!process.version||process.version.indexOf("v0.")===0||process.version.indexOf("v1.")===0&&process.version.indexOf("v1.8.")!==0?vl.exports={nextTick:fw}:vl.exports=process;function fw(t,e,i,r){if(typeof t!="function")throw new TypeError('"callback" argument must be a function');var n=arguments.length,s,o;switch(n){case 0:case 1:return process.nextTick(t);case 2:return process.nextTick(function(){t.call(null,e)});case 3:return process.nextTick(function(){t.call(null,e,i)});case 4:return process.nextTick(function(){t.call(null,e,i,r)});default:for(s=new Array(n-1),o=0;o<s.length;)s[o++]=arguments[o];return process.nextTick(function(){t.apply(null,s)})}}});var c0=m((o6,f0)=>{var cw={}.toString;f0.exports=Array.isArray||function(t){return cw.call(t)=="[object Array]"}});var El=m((a6,h0)=>{h0.exports=require("stream")});var $i=m((bl,d0)=>{var Ds=require("buffer"),gt=Ds.Buffer;function u0(t,e){for(var i in t)e[i]=t[i]}gt.from&&gt.alloc&&gt.allocUnsafe&&gt.allocUnsafeSlow?d0.exports=Ds:(u0(Ds,bl),bl.Buffer=Gi);function Gi(t,e,i){return gt(t,e,i)}u0(gt,Gi);Gi.from=function(t,e,i){if(typeof t=="number")throw new TypeError("Argument must not be a number");return gt(t,e,i)};Gi.alloc=function(t,e,i){if(typeof t!="number")throw new TypeError("Argument must be a number");var r=gt(t);return e!==void 0?typeof i=="string"?r.fill(e,i):r.fill(e):r.fill(0),r};Gi.allocUnsafe=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return gt(t)};Gi.allocUnsafeSlow=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return Ds.SlowBuffer(t)}});var Zi=m(ue=>{function hw(t){return Array.isArray?Array.isArray(t):As(t)==="[object Array]"}ue.isArray=hw;function uw(t){return typeof t=="boolean"}ue.isBoolean=uw;function dw(t){return t===null}ue.isNull=dw;function xw(t){return t==null}ue.isNullOrUndefined=xw;function mw(t){return typeof t=="number"}ue.isNumber=mw;function pw(t){return typeof t=="string"}ue.isString=pw;function yw(t){return typeof t=="symbol"}ue.isSymbol=yw;function gw(t){return t===void 0}ue.isUndefined=gw;function ww(t){return As(t)==="[object RegExp]"}ue.isRegExp=ww;function vw(t){return typeof t=="object"&&t!==null}ue.isObject=vw;function Ew(t){return As(t)==="[object Date]"}ue.isDate=Ew;function bw(t){return As(t)==="[object Error]"||t instanceof Error}ue.isError=bw;function Sw(t){return typeof t=="function"}ue.isFunction=Sw;function _w(t){return t===null||typeof t=="boolean"||typeof t=="number"||typeof t=="string"||typeof t=="symbol"||typeof t>"u"}ue.isPrimitive=_w;ue.isBuffer=require("buffer").Buffer.isBuffer;function As(t){return Object.prototype.toString.call(t)}});var x0=m((f6,Sl)=>{typeof Object.create=="function"?Sl.exports=function(e,i){i&&(e.super_=i,e.prototype=Object.create(i.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:Sl.exports=function(e,i){if(i){e.super_=i;var r=function(){};r.prototype=i.prototype,e.prototype=new r,e.prototype.constructor=e}}});var Ki=m((c6,Rl)=>{try{if(_l=require("util"),typeof _l.inherits!="function")throw"";Rl.exports=_l.inherits}catch{Rl.exports=x0()}var _l});var p0=m((h6,Ol)=>{"use strict";function Rw(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var m0=$i().Buffer,Ir=require("util");function Ow(t,e,i){t.copy(e,i)}Ol.exports=function(){function t(){Rw(this,t),this.head=null,this.tail=null,this.length=0}return t.prototype.push=function(i){var r={data:i,next:null};this.length>0?this.tail.next=r:this.head=r,this.tail=r,++this.length},t.prototype.unshift=function(i){var r={data:i,next:this.head};this.length===0&&(this.tail=r),this.head=r,++this.length},t.prototype.shift=function(){if(this.length!==0){var i=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,i}},t.prototype.clear=function(){this.head=this.tail=null,this.length=0},t.prototype.join=function(i){if(this.length===0)return"";for(var r=this.head,n=""+r.data;r=r.next;)n+=i+r.data;return n},t.prototype.concat=function(i){if(this.length===0)return m0.alloc(0);for(var r=m0.allocUnsafe(i>>>0),n=this.head,s=0;n;)Ow(n.data,r,s),s+=n.data.length,n=n.next;return r},t}();Ir&&Ir.inspect&&Ir.inspect.custom&&(Ol.exports.prototype[Ir.inspect.custom]=function(){var t=Ir.inspect({length:this.length});return this.constructor.name+" "+t})});var Tl=m((u6,y0)=>{"use strict";var Cs=Lr();function Tw(t,e){var i=this,r=this._readableState&&this._readableState.destroyed,n=this._writableState&&this._writableState.destroyed;return r||n?(e?e(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,Cs.nextTick(Fs,this,t)):Cs.nextTick(Fs,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(s){!e&&s?i._writableState?i._writableState.errorEmitted||(i._writableState.errorEmitted=!0,Cs.nextTick(Fs,i,s)):Cs.nextTick(Fs,i,s):e&&e(s)}),this)}function Dw(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function Fs(t,e){t.emit("error",e)}y0.exports={destroy:Tw,undestroy:Dw}});var w0=m((d6,g0)=>{g0.exports=require("util").deprecate});var Al=m((x6,T0)=>{"use strict";var hi=Lr();T0.exports=K;function E0(t){var e=this;this.next=null,this.entry=null,this.finish=function(){Gw(e,t)}}var Aw=!process.browser&&["v0.10","v0.9."].indexOf(process.version.slice(0,5))>-1?setImmediate:hi.nextTick,Vi;K.WritableState=Mr;var b0=Object.create(Zi());b0.inherits=Ki();var Cw={deprecate:w0()},S0=El(),Ls=$i().Buffer,Fw=(typeof global<"u"?global:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function Bw(t){return Ls.from(t)}function Lw(t){return Ls.isBuffer(t)||t instanceof Fw}var _0=Tl();b0.inherits(K,S0);function Iw(){}function Mr(t,e){Vi=Vi||ui(),t=t||{};var i=e instanceof Vi;this.objectMode=!!t.objectMode,i&&(this.objectMode=this.objectMode||!!t.writableObjectMode);var r=t.highWaterMark,n=t.writableHighWaterMark,s=this.objectMode?16:16*1024;r||r===0?this.highWaterMark=r:i&&(n||n===0)?this.highWaterMark=n:this.highWaterMark=s,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var o=t.decodeStrings===!1;this.decodeStrings=!o,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(a){Uw(e,a)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new E0(this)}Mr.prototype.getBuffer=function(){for(var e=this.bufferedRequest,i=[];e;)i.push(e),e=e.next;return i};(function(){try{Object.defineProperty(Mr.prototype,"buffer",{get:Cw.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})();var Bs;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(Bs=Function.prototype[Symbol.hasInstance],Object.defineProperty(K,Symbol.hasInstance,{value:function(t){return Bs.call(this,t)?!0:this!==K?!1:t&&t._writableState instanceof Mr}})):Bs=function(t){return t instanceof this};function K(t){if(Vi=Vi||ui(),!Bs.call(K,this)&&!(this instanceof Vi))return new K(t);this._writableState=new Mr(t,this),this.writable=!0,t&&(typeof t.write=="function"&&(this._write=t.write),typeof t.writev=="function"&&(this._writev=t.writev),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.final=="function"&&(this._final=t.final)),S0.call(this)}K.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))};function Nw(t,e){var i=new Error("write after end");t.emit("error",i),hi.nextTick(e,i)}function Mw(t,e,i,r){var n=!0,s=!1;return i===null?s=new TypeError("May not write null values to stream"):typeof i!="string"&&i!==void 0&&!e.objectMode&&(s=new TypeError("Invalid non-string/buffer chunk")),s&&(t.emit("error",s),hi.nextTick(r,s),n=!1),n}K.prototype.write=function(t,e,i){var r=this._writableState,n=!1,s=!r.objectMode&&Lw(t);return s&&!Ls.isBuffer(t)&&(t=Bw(t)),typeof e=="function"&&(i=e,e=null),s?e="buffer":e||(e=r.defaultEncoding),typeof i!="function"&&(i=Iw),r.ended?Nw(this,i):(s||Mw(this,r,t,i))&&(r.pendingcb++,n=qw(this,r,s,t,e,i)),n};K.prototype.cork=function(){var t=this._writableState;t.corked++};K.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,!t.writing&&!t.corked&&!t.bufferProcessing&&t.bufferedRequest&&R0(this,t))};K.prototype.setDefaultEncoding=function(e){if(typeof e=="string"&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this};function Pw(t,e,i){return!t.objectMode&&t.decodeStrings!==!1&&typeof e=="string"&&(e=Ls.from(e,i)),e}Object.defineProperty(K.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function qw(t,e,i,r,n,s){if(!i){var o=Pw(e,r,n);r!==o&&(i=!0,n="buffer",r=o)}var a=e.objectMode?1:r.length;e.length+=a;var l=e.length<e.highWaterMark;if(l||(e.needDrain=!0),e.writing||e.corked){var h=e.lastBufferedRequest;e.lastBufferedRequest={chunk:r,encoding:n,isBuf:i,callback:s,next:null},h?h.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else Dl(t,e,!1,a,r,n,s);return l}function Dl(t,e,i,r,n,s,o){e.writelen=r,e.writecb=o,e.writing=!0,e.sync=!0,i?t._writev(n,e.onwrite):t._write(n,s,e.onwrite),e.sync=!1}function kw(t,e,i,r,n){--e.pendingcb,i?(hi.nextTick(n,r),hi.nextTick(Nr,t,e),t._writableState.errorEmitted=!0,t.emit("error",r)):(n(r),t._writableState.errorEmitted=!0,t.emit("error",r),Nr(t,e))}function zw(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}function Uw(t,e){var i=t._writableState,r=i.sync,n=i.writecb;if(zw(i),e)kw(t,i,r,e,n);else{var s=O0(i);!s&&!i.corked&&!i.bufferProcessing&&i.bufferedRequest&&R0(t,i),r?Aw(v0,t,i,s,n):v0(t,i,s,n)}}function v0(t,e,i,r){i||jw(t,e),e.pendingcb--,r(),Nr(t,e)}function jw(t,e){e.length===0&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}function R0(t,e){e.bufferProcessing=!0;var i=e.bufferedRequest;if(t._writev&&i&&i.next){var r=e.bufferedRequestCount,n=new Array(r),s=e.corkedRequestsFree;s.entry=i;for(var o=0,a=!0;i;)n[o]=i,i.isBuf||(a=!1),i=i.next,o+=1;n.allBuffers=a,Dl(t,e,!0,e.length,n,"",s.finish),e.pendingcb++,e.lastBufferedRequest=null,s.next?(e.corkedRequestsFree=s.next,s.next=null):e.corkedRequestsFree=new E0(e),e.bufferedRequestCount=0}else{for(;i;){var l=i.chunk,h=i.encoding,f=i.callback,u=e.objectMode?1:l.length;if(Dl(t,e,!1,u,l,h,f),i=i.next,e.bufferedRequestCount--,e.writing)break}i===null&&(e.lastBufferedRequest=null)}e.bufferedRequest=i,e.bufferProcessing=!1}K.prototype._write=function(t,e,i){i(new Error("_write() is not implemented"))};K.prototype._writev=null;K.prototype.end=function(t,e,i){var r=this._writableState;typeof t=="function"?(i=t,t=null,e=null):typeof e=="function"&&(i=e,e=null),t!=null&&this.write(t,e),r.corked&&(r.corked=1,this.uncork()),r.ending||Yw(this,r,i)};function O0(t){return t.ending&&t.length===0&&t.bufferedRequest===null&&!t.finished&&!t.writing}function Ww(t,e){t._final(function(i){e.pendingcb--,i&&t.emit("error",i),e.prefinished=!0,t.emit("prefinish"),Nr(t,e)})}function Hw(t,e){!e.prefinished&&!e.finalCalled&&(typeof t._final=="function"?(e.pendingcb++,e.finalCalled=!0,hi.nextTick(Ww,t,e)):(e.prefinished=!0,t.emit("prefinish")))}function Nr(t,e){var i=O0(e);return i&&(Hw(t,e),e.pendingcb===0&&(e.finished=!0,t.emit("finish"))),i}function Yw(t,e,i){e.ending=!0,Nr(t,e),i&&(e.finished?hi.nextTick(i):t.once("finish",i)),e.ended=!0,t.writable=!1}function Gw(t,e,i){var r=t.entry;for(t.entry=null;r;){var n=r.callback;e.pendingcb--,n(i),r=r.next}e.corkedRequestsFree.next=t}Object.defineProperty(K.prototype,"destroyed",{get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(t){this._writableState&&(this._writableState.destroyed=t)}});K.prototype.destroy=_0.destroy;K.prototype._undestroy=_0.undestroy;K.prototype._destroy=function(t,e){this.end(),e(t)}});var ui=m((m6,F0)=>{"use strict";var D0=Lr(),$w=Object.keys||function(t){var e=[];for(var i in t)e.push(i);return e};F0.exports=wt;var A0=Object.create(Zi());A0.inherits=Ki();var C0=Bl(),Fl=Al();A0.inherits(wt,C0);for(Cl=$w(Fl.prototype),Is=0;Is<Cl.length;Is++)Ns=Cl[Is],wt.prototype[Ns]||(wt.prototype[Ns]=Fl.prototype[Ns]);var Cl,Ns,Is;function wt(t){if(!(this instanceof wt))return new wt(t);C0.call(this,t),Fl.call(this,t),t&&t.readable===!1&&(this.readable=!1),t&&t.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,t&&t.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",Zw)}Object.defineProperty(wt.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function Zw(){this.allowHalfOpen||this._writableState.ended||D0.nextTick(Kw,this)}function Kw(t){t.end()}Object.defineProperty(wt.prototype,"destroyed",{get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(t){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=t,this._writableState.destroyed=t)}});wt.prototype._destroy=function(t,e){this.push(null),this.end(),D0.nextTick(e,t)}});var Nl=m(L0=>{"use strict";var Il=$i().Buffer,B0=Il.isEncoding||function(t){switch(t=""+t,t&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function Vw(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}function Xw(t){var e=Vw(t);if(typeof e!="string"&&(Il.isEncoding===B0||!B0(t)))throw new Error("Unknown encoding: "+t);return e||t}L0.StringDecoder=Pr;function Pr(t){this.encoding=Xw(t);var e;switch(this.encoding){case"utf16le":this.text=rv,this.end=nv,e=4;break;case"utf8":this.fillLast=ev,e=4;break;case"base64":this.text=sv,this.end=ov,e=3;break;default:this.write=av,this.end=lv;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=Il.allocUnsafe(e)}Pr.prototype.write=function(t){if(t.length===0)return"";var e,i;if(this.lastNeed){if(e=this.fillLast(t),e===void 0)return"";i=this.lastNeed,this.lastNeed=0}else i=0;return i<t.length?e?e+this.text(t,i):this.text(t,i):e||""};Pr.prototype.end=iv;Pr.prototype.text=tv;Pr.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length};function Ll(t){return t<=127?0:t>>5===6?2:t>>4===14?3:t>>3===30?4:t>>6===2?-1:-2}function Jw(t,e,i){var r=e.length-1;if(r<i)return 0;var n=Ll(e[r]);return n>=0?(n>0&&(t.lastNeed=n-1),n):--r<i||n===-2?0:(n=Ll(e[r]),n>=0?(n>0&&(t.lastNeed=n-2),n):--r<i||n===-2?0:(n=Ll(e[r]),n>=0?(n>0&&(n===2?n=0:t.lastNeed=n-3),n):0))}function Qw(t,e,i){if((e[0]&192)!==128)return t.lastNeed=0,"\uFFFD";if(t.lastNeed>1&&e.length>1){if((e[1]&192)!==128)return t.lastNeed=1,"\uFFFD";if(t.lastNeed>2&&e.length>2&&(e[2]&192)!==128)return t.lastNeed=2,"\uFFFD"}}function ev(t){var e=this.lastTotal-this.lastNeed,i=Qw(this,t,e);if(i!==void 0)return i;if(this.lastNeed<=t.length)return t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,e,0,t.length),this.lastNeed-=t.length}function tv(t,e){var i=Jw(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=i;var r=t.length-(i-this.lastNeed);return t.copy(this.lastChar,0,r),t.toString("utf8",e,r)}function iv(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"\uFFFD":e}function rv(t,e){if((t.length-e)%2===0){var i=t.toString("utf16le",e);if(i){var r=i.charCodeAt(i.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],i.slice(0,-1)}return i}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function nv(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var i=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,i)}return e}function sv(t,e){var i=(t.length-e)%3;return i===0?t.toString("base64",e):(this.lastNeed=3-i,this.lastTotal=3,i===1?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-i))}function ov(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function av(t){return t.toString(this.encoding)}function lv(t){return t&&t.length?this.write(t):""}});var Bl=m((g6,Y0)=>{"use strict";var Ji=Lr();Y0.exports=k;var fv=c0(),qr;k.ReadableState=z0;var y6=require("events").EventEmitter,P0=function(t,e){return t.listeners(e).length},zl=El(),kr=$i().Buffer,cv=(typeof global<"u"?global:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function hv(t){return kr.from(t)}function uv(t){return kr.isBuffer(t)||t instanceof cv}var q0=Object.create(Zi());q0.inherits=Ki();var Ml=require("util"),C=void 0;Ml&&Ml.debuglog?C=Ml.debuglog("stream"):C=function(){};var dv=p0(),k0=Tl(),Xi;q0.inherits(k,zl);var Pl=["error","close","destroy","pause","resume"];function xv(t,e,i){if(typeof t.prependListener=="function")return t.prependListener(e,i);!t._events||!t._events[e]?t.on(e,i):fv(t._events[e])?t._events[e].unshift(i):t._events[e]=[i,t._events[e]]}function z0(t,e){qr=qr||ui(),t=t||{};var i=e instanceof qr;this.objectMode=!!t.objectMode,i&&(this.objectMode=this.objectMode||!!t.readableObjectMode);var r=t.highWaterMark,n=t.readableHighWaterMark,s=this.objectMode?16:16*1024;r||r===0?this.highWaterMark=r:i&&(n||n===0)?this.highWaterMark=n:this.highWaterMark=s,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new dv,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(Xi||(Xi=Nl().StringDecoder),this.decoder=new Xi(t.encoding),this.encoding=t.encoding)}function k(t){if(qr=qr||ui(),!(this instanceof k))return new k(t);this._readableState=new z0(t,this),this.readable=!0,t&&(typeof t.read=="function"&&(this._read=t.read),typeof t.destroy=="function"&&(this._destroy=t.destroy)),zl.call(this)}Object.defineProperty(k.prototype,"destroyed",{get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(t){this._readableState&&(this._readableState.destroyed=t)}});k.prototype.destroy=k0.destroy;k.prototype._undestroy=k0.undestroy;k.prototype._destroy=function(t,e){this.push(null),e(t)};k.prototype.push=function(t,e){var i=this._readableState,r;return i.objectMode?r=!0:typeof t=="string"&&(e=e||i.defaultEncoding,e!==i.encoding&&(t=kr.from(t,e),e=""),r=!0),U0(this,t,e,!1,r)};k.prototype.unshift=function(t){return U0(this,t,null,!0,!1)};function U0(t,e,i,r,n){var s=t._readableState;if(e===null)s.reading=!1,gv(t,s);else{var o;n||(o=mv(s,e)),o?t.emit("error",o):s.objectMode||e&&e.length>0?(typeof e!="string"&&!s.objectMode&&Object.getPrototypeOf(e)!==kr.prototype&&(e=hv(e)),r?s.endEmitted?t.emit("error",new Error("stream.unshift() after end event")):ql(t,s,e,!0):s.ended?t.emit("error",new Error("stream.push() after EOF")):(s.reading=!1,s.decoder&&!i?(e=s.decoder.write(e),s.objectMode||e.length!==0?ql(t,s,e,!1):j0(t,s)):ql(t,s,e,!1))):r||(s.reading=!1)}return pv(s)}function ql(t,e,i,r){e.flowing&&e.length===0&&!e.sync?(t.emit("data",i),t.read(0)):(e.length+=e.objectMode?1:i.length,r?e.buffer.unshift(i):e.buffer.push(i),e.needReadable&&Ms(t)),j0(t,e)}function mv(t,e){var i;return!uv(e)&&typeof e!="string"&&e!==void 0&&!t.objectMode&&(i=new TypeError("Invalid non-string/buffer chunk")),i}function pv(t){return!t.ended&&(t.needReadable||t.length<t.highWaterMark||t.length===0)}k.prototype.isPaused=function(){return this._readableState.flowing===!1};k.prototype.setEncoding=function(t){return Xi||(Xi=Nl().StringDecoder),this._readableState.decoder=new Xi(t),this._readableState.encoding=t,this};var I0=8388608;function yv(t){return t>=I0?t=I0:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}function N0(t,e){return t<=0||e.length===0&&e.ended?0:e.objectMode?1:t!==t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=yv(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}k.prototype.read=function(t){C("read",t),t=parseInt(t,10);var e=this._readableState,i=t;if(t!==0&&(e.emittedReadable=!1),t===0&&e.needReadable&&(e.length>=e.highWaterMark||e.ended))return C("read: emitReadable",e.length,e.ended),e.length===0&&e.ended?kl(this):Ms(this),null;if(t=N0(t,e),t===0&&e.ended)return e.length===0&&kl(this),null;var r=e.needReadable;C("need readable",r),(e.length===0||e.length-t<e.highWaterMark)&&(r=!0,C("length less than watermark",r)),e.ended||e.reading?(r=!1,C("reading or ended",r)):r&&(C("do read"),e.reading=!0,e.sync=!0,e.length===0&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=N0(i,e)));var n;return t>0?n=W0(t,e):n=null,n===null?(e.needReadable=!0,t=0):e.length-=t,e.length===0&&(e.ended||(e.needReadable=!0),i!==t&&e.ended&&kl(this)),n!==null&&this.emit("data",n),n};function gv(t,e){if(!e.ended){if(e.decoder){var i=e.decoder.end();i&&i.length&&(e.buffer.push(i),e.length+=e.objectMode?1:i.length)}e.ended=!0,Ms(t)}}function Ms(t){var e=t._readableState;e.needReadable=!1,e.emittedReadable||(C("emitReadable",e.flowing),e.emittedReadable=!0,e.sync?Ji.nextTick(M0,t):M0(t))}function M0(t){C("emit readable"),t.emit("readable"),Ul(t)}function j0(t,e){e.readingMore||(e.readingMore=!0,Ji.nextTick(wv,t,e))}function wv(t,e){for(var i=e.length;!e.reading&&!e.flowing&&!e.ended&&e.length<e.highWaterMark&&(C("maybeReadMore read 0"),t.read(0),i!==e.length);)i=e.length;e.readingMore=!1}k.prototype._read=function(t){this.emit("error",new Error("_read() is not implemented"))};k.prototype.pipe=function(t,e){var i=this,r=this._readableState;switch(r.pipesCount){case 0:r.pipes=t;break;case 1:r.pipes=[r.pipes,t];break;default:r.pipes.push(t);break}r.pipesCount+=1,C("pipe count=%d opts=%j",r.pipesCount,e);var n=(!e||e.end!==!1)&&t!==process.stdout&&t!==process.stderr,s=n?a:x;r.endEmitted?Ji.nextTick(s):i.once("end",s),t.on("unpipe",o);function o(y,w){C("onunpipe"),y===i&&w&&w.hasUnpiped===!1&&(w.hasUnpiped=!0,f())}function a(){C("onend"),t.end()}var l=vv(i);t.on("drain",l);var h=!1;function f(){C("cleanup"),t.removeListener("close",p),t.removeListener("finish",g),t.removeListener("drain",l),t.removeListener("error",d),t.removeListener("unpipe",o),i.removeListener("end",a),i.removeListener("end",x),i.removeListener("data",c),h=!0,r.awaitDrain&&(!t._writableState||t._writableState.needDrain)&&l()}var u=!1;i.on("data",c);function c(y){C("ondata"),u=!1;var w=t.write(y);w===!1&&!u&&((r.pipesCount===1&&r.pipes===t||r.pipesCount>1&&H0(r.pipes,t)!==-1)&&!h&&(C("false write response, pause",r.awaitDrain),r.awaitDrain++,u=!0),i.pause())}function d(y){C("onerror",y),x(),t.removeListener("error",d),P0(t,"error")===0&&t.emit("error",y)}xv(t,"error",d);function p(){t.removeListener("finish",g),x()}t.once("close",p);function g(){C("onfinish"),t.removeListener("close",p),x()}t.once("finish",g);function x(){C("unpipe"),i.unpipe(t)}return t.emit("pipe",i),r.flowing||(C("pipe resume"),i.resume()),t};function vv(t){return function(){var e=t._readableState;C("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,e.awaitDrain===0&&P0(t,"data")&&(e.flowing=!0,Ul(t))}}k.prototype.unpipe=function(t){var e=this._readableState,i={hasUnpiped:!1};if(e.pipesCount===0)return this;if(e.pipesCount===1)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,i),this);if(!t){var r=e.pipes,n=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var s=0;s<n;s++)r[s].emit("unpipe",this,{hasUnpiped:!1});return this}var o=H0(e.pipes,t);return o===-1?this:(e.pipes.splice(o,1),e.pipesCount-=1,e.pipesCount===1&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,i),this)};k.prototype.on=function(t,e){var i=zl.prototype.on.call(this,t,e);if(t==="data")this._readableState.flowing!==!1&&this.resume();else if(t==="readable"){var r=this._readableState;!r.endEmitted&&!r.readableListening&&(r.readableListening=r.needReadable=!0,r.emittedReadable=!1,r.reading?r.length&&Ms(this):Ji.nextTick(Ev,this))}return i};k.prototype.addListener=k.prototype.on;function Ev(t){C("readable nexttick read 0"),t.read(0)}k.prototype.resume=function(){var t=this._readableState;return t.flowing||(C("resume"),t.flowing=!0,bv(this,t)),this};function bv(t,e){e.resumeScheduled||(e.resumeScheduled=!0,Ji.nextTick(Sv,t,e))}function Sv(t,e){e.reading||(C("resume read 0"),t.read(0)),e.resumeScheduled=!1,e.awaitDrain=0,t.emit("resume"),Ul(t),e.flowing&&!e.reading&&t.read(0)}k.prototype.pause=function(){return C("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(C("pause"),this._readableState.flowing=!1,this.emit("pause")),this};function Ul(t){var e=t._readableState;for(C("flow",e.flowing);e.flowing&&t.read()!==null;);}k.prototype.wrap=function(t){var e=this,i=this._readableState,r=!1;t.on("end",function(){if(C("wrapped end"),i.decoder&&!i.ended){var o=i.decoder.end();o&&o.length&&e.push(o)}e.push(null)}),t.on("data",function(o){if(C("wrapped data"),i.decoder&&(o=i.decoder.write(o)),!(i.objectMode&&o==null)&&!(!i.objectMode&&(!o||!o.length))){var a=e.push(o);a||(r=!0,t.pause())}});for(var n in t)this[n]===void 0&&typeof t[n]=="function"&&(this[n]=function(o){return function(){return t[o].apply(t,arguments)}}(n));for(var s=0;s<Pl.length;s++)t.on(Pl[s],this.emit.bind(this,Pl[s]));return this._read=function(o){C("wrapped _read",o),r&&(r=!1,t.resume())},this};Object.defineProperty(k.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}});k._fromList=W0;function W0(t,e){if(e.length===0)return null;var i;return e.objectMode?i=e.buffer.shift():!t||t>=e.length?(e.decoder?i=e.buffer.join(""):e.buffer.length===1?i=e.buffer.head.data:i=e.buffer.concat(e.length),e.buffer.clear()):i=_v(t,e.buffer,e.decoder),i}function _v(t,e,i){var r;return t<e.head.data.length?(r=e.head.data.slice(0,t),e.head.data=e.head.data.slice(t)):t===e.head.data.length?r=e.shift():r=i?Rv(t,e):Ov(t,e),r}function Rv(t,e){var i=e.head,r=1,n=i.data;for(t-=n.length;i=i.next;){var s=i.data,o=t>s.length?s.length:t;if(o===s.length?n+=s:n+=s.slice(0,t),t-=o,t===0){o===s.length?(++r,i.next?e.head=i.next:e.head=e.tail=null):(e.head=i,i.data=s.slice(o));break}++r}return e.length-=r,n}function Ov(t,e){var i=kr.allocUnsafe(t),r=e.head,n=1;for(r.data.copy(i),t-=r.data.length;r=r.next;){var s=r.data,o=t>s.length?s.length:t;if(s.copy(i,i.length-t,0,o),t-=o,t===0){o===s.length?(++n,r.next?e.head=r.next:e.head=e.tail=null):(e.head=r,r.data=s.slice(o));break}++n}return e.length-=n,i}function kl(t){var e=t._readableState;if(e.length>0)throw new Error('"endReadable()" called on non-empty stream');e.endEmitted||(e.ended=!0,Ji.nextTick(Tv,e,t))}function Tv(t,e){!t.endEmitted&&t.length===0&&(t.endEmitted=!0,e.readable=!1,e.emit("end"))}function H0(t,e){for(var i=0,r=t.length;i<r;i++)if(t[i]===e)return i;return-1}});var jl=m((w6,Z0)=>{"use strict";Z0.exports=vt;var Ps=ui(),$0=Object.create(Zi());$0.inherits=Ki();$0.inherits(vt,Ps);function Dv(t,e){var i=this._transformState;i.transforming=!1;var r=i.writecb;if(!r)return this.emit("error",new Error("write callback called multiple times"));i.writechunk=null,i.writecb=null,e!=null&&this.push(e),r(t);var n=this._readableState;n.reading=!1,(n.needReadable||n.length<n.highWaterMark)&&this._read(n.highWaterMark)}function vt(t){if(!(this instanceof vt))return new vt(t);Ps.call(this,t),this._transformState={afterTransform:Dv.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",Av)}function Av(){var t=this;typeof this._flush=="function"?this._flush(function(e,i){G0(t,e,i)}):G0(this,null,null)}vt.prototype.push=function(t,e){return this._transformState.needTransform=!1,Ps.prototype.push.call(this,t,e)};vt.prototype._transform=function(t,e,i){throw new Error("_transform() is not implemented")};vt.prototype._write=function(t,e,i){var r=this._transformState;if(r.writecb=i,r.writechunk=t,r.writeencoding=e,!r.transforming){var n=this._readableState;(r.needTransform||n.needReadable||n.length<n.highWaterMark)&&this._read(n.highWaterMark)}};vt.prototype._read=function(t){var e=this._transformState;e.writechunk!==null&&e.writecb&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0};vt.prototype._destroy=function(t,e){var i=this;Ps.prototype._destroy.call(this,t,function(r){e(r),i.emit("close")})};function G0(t,e,i){if(e)return t.emit("error",e);if(i!=null&&t.push(i),t._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(t._transformState.transforming)throw new Error("Calling transform done when still transforming");return t.push(null)}});var J0=m((v6,X0)=>{"use strict";X0.exports=zr;var K0=jl(),V0=Object.create(Zi());V0.inherits=Ki();V0.inherits(zr,K0);function zr(t){if(!(this instanceof zr))return new zr(t);K0.call(this,t)}zr.prototype._transform=function(t,e,i){i(null,t)}});var Qi=m((re,qs)=>{var $e=require("stream");process.env.READABLE_STREAM==="disable"&&$e?(qs.exports=$e,re=qs.exports=$e.Readable,re.Readable=$e.Readable,re.Writable=$e.Writable,re.Duplex=$e.Duplex,re.Transform=$e.Transform,re.PassThrough=$e.PassThrough,re.Stream=$e):(re=qs.exports=Bl(),re.Stream=$e||re,re.Readable=re,re.Writable=Al(),re.Duplex=ui(),re.Transform=jl(),re.PassThrough=J0())});var ed=m((E6,Q0)=>{Q0.exports=Qi().Duplex});var id=m((b6,td)=>{var Wl=ed(),Cv=require("util"),er=$i().Buffer;function H(t){if(!(this instanceof H))return new H(t);if(this._bufs=[],this.length=0,typeof t=="function"){this._callback=t;var e=function(r){this._callback&&(this._callback(r),this._callback=null)}.bind(this);this.on("pipe",function(r){r.on("error",e)}),this.on("unpipe",function(r){r.removeListener("error",e)})}else this.append(t);Wl.call(this)}Cv.inherits(H,Wl);H.prototype._offset=function(e){var i=0,r=0,n;if(e===0)return[0,0];for(;r<this._bufs.length;r++){if(n=i+this._bufs[r].length,e<n||r==this._bufs.length-1)return[r,e-i];i=n}};H.prototype.append=function(e){var i=0;if(er.isBuffer(e))this._appendBuffer(e);else if(Array.isArray(e))for(;i<e.length;i++)this.append(e[i]);else if(e instanceof H)for(;i<e._bufs.length;i++)this.append(e._bufs[i]);else e!=null&&(typeof e=="number"&&(e=e.toString()),this._appendBuffer(er.from(e)));return this};H.prototype._appendBuffer=function(e){this._bufs.push(e),this.length+=e.length};H.prototype._write=function(e,i,r){this._appendBuffer(e),typeof r=="function"&&r()};H.prototype._read=function(e){if(!this.length)return this.push(null);e=Math.min(e,this.length),this.push(this.slice(0,e)),this.consume(e)};H.prototype.end=function(e){Wl.prototype.end.call(this,e),this._callback&&(this._callback(null,this.slice()),this._callback=null)};H.prototype.get=function(e){return this.slice(e,e+1)[0]};H.prototype.slice=function(e,i){return typeof e=="number"&&e<0&&(e+=this.length),typeof i=="number"&&i<0&&(i+=this.length),this.copy(null,0,e,i)};H.prototype.copy=function(e,i,r,n){if((typeof r!="number"||r<0)&&(r=0),(typeof n!="number"||n>this.length)&&(n=this.length),r>=this.length||n<=0)return e||er.alloc(0);var s=!!e,o=this._offset(r),a=n-r,l=a,h=s&&i||0,f=o[1],u,c;if(r===0&&n==this.length){if(!s)return this._bufs.length===1?this._bufs[0]:er.concat(this._bufs,this.length);for(c=0;c<this._bufs.length;c++)this._bufs[c].copy(e,h),h+=this._bufs[c].length;return e}if(l<=this._bufs[o[0]].length-f)return s?this._bufs[o[0]].copy(e,i,f,f+l):this._bufs[o[0]].slice(f,f+l);for(s||(e=er.allocUnsafe(a)),c=o[0];c<this._bufs.length;c++){if(u=this._bufs[c].length-f,l>u)this._bufs[c].copy(e,h,f),h+=u;else{this._bufs[c].copy(e,h,f,f+l),h+=u;break}l-=u,f&&(f=0)}return e.length>h?e.slice(0,h):e};H.prototype.shallowSlice=function(e,i){e=e||0,i=i||this.length,e<0&&(e+=this.length),i<0&&(i+=this.length);var r=this._offset(e),n=this._offset(i),s=this._bufs.slice(r[0],n[0]+1);return n[1]==0?s.pop():s[s.length-1]=s[s.length-1].slice(0,n[1]),r[1]!=0&&(s[0]=s[0].slice(r[1])),new H(s)};H.prototype.toString=function(e,i,r){return this.slice(i,r).toString(e)};H.prototype.consume=function(e){if(e=Math.trunc(e),Number.isNaN(e)||e<=0)return this;for(;this._bufs.length;)if(e>=this._bufs[0].length)e-=this._bufs[0].length,this.length-=this._bufs[0].length,this._bufs.shift();else{this._bufs[0]=this._bufs[0].slice(e),this.length-=e;break}return this};H.prototype.duplicate=function(){for(var e=0,i=new H;e<this._bufs.length;e++)i.append(this._bufs[e]);return i};H.prototype.destroy=function(){this._bufs.length=0,this.length=0,this.push(null)};(function(){var t={readDoubleBE:8,readDoubleLE:8,readFloatBE:4,readFloatLE:4,readInt32BE:4,readInt32LE:4,readUInt32BE:4,readUInt32LE:4,readInt16BE:2,readInt16LE:2,readUInt16BE:2,readUInt16LE:2,readInt8:1,readUInt8:1};for(var e in t)(function(i){H.prototype[i]=function(r){return this.slice(r,r+t[i])[i](0)}})(e)})();td.exports=H});var nd=m((S6,rd)=>{rd.exports=Bv;var Fv=Object.prototype.hasOwnProperty;function Bv(){for(var t={},e=0;e<arguments.length;e++){var i=arguments[e];for(var r in i)Fv.call(i,r)&&(t[r]=i[r])}return t}});var Hl=m((_6,od)=>{od.exports=Iv;var sd=Buffer.from&&Buffer.from!==Uint8Array.from?Buffer.from:Lv;function Lv(t,e){return new Buffer(t,e)}function Iv(t,e){if(Buffer.isBuffer(t))return t;if(typeof t=="string")return sd(t,e);if(Array.isArray(t))return sd(t);throw new Error("Input should be a buffer or a string")}});var ld=m((R6,ad)=>{var Nv=function(){try{if(!Buffer.isEncoding("latin1"))return!1;var t=Buffer.alloc?Buffer.alloc(4):new Buffer(4);return t.fill("ab","ucs2"),t.toString("hex")==="61006200"}catch{return!1}}();function Mv(t){return t.length===1&&t.charCodeAt(0)<256}function ks(t,e,i,r){if(i<0||r>t.length)throw new RangeError("Out of range index");return i=i>>>0,r=r===void 0?t.length:r>>>0,r>i&&t.fill(e,i,r),t}function Pv(t,e,i,r){if(i<0||r>t.length)throw new RangeError("Out of range index");if(r<=i)return t;i=i>>>0,r=r===void 0?t.length:r>>>0;for(var n=i,s=e.length;n<=r-s;)e.copy(t,n),n+=s;return n!==r&&e.copy(t,n,0,r-n),t}function qv(t,e,i,r,n){if(Nv)return t.fill(e,i,r,n);if(typeof e=="number")return ks(t,e,i,r);if(typeof e=="string"){if(typeof i=="string"?(n=i,i=0,r=t.length):typeof r=="string"&&(n=r,r=t.length),n!==void 0&&typeof n!="string")throw new TypeError("encoding must be a string");if(n==="latin1"&&(n="binary"),typeof n=="string"&&!Buffer.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(e==="")return ks(t,0,i,r);if(Mv(e))return ks(t,e.charCodeAt(0),i,r);e=new Buffer(e,n)}return Buffer.isBuffer(e)?Pv(t,e,i,r):ks(t,0,i,r)}ad.exports=qv});var cd=m((O6,fd)=>{function kv(t){if(typeof t!="number")throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative');return Buffer.allocUnsafe?Buffer.allocUnsafe(t):new Buffer(t)}fd.exports=kv});var Yl=m((T6,ud)=>{var hd=ld(),zv=cd();ud.exports=function(e,i,r){if(typeof e!="number")throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative');if(Buffer.alloc)return Buffer.alloc(e,i,r);var n=zv(e);return e===0?n:i===void 0?hd(n,0):(typeof r!="string"&&(r=void 0),hd(n,i,r))}});var $l=m(ir=>{var Uv=Hl(),jv=Yl(),Wv="0000000000000000000",Hv="7777777777777777777",dd=48,Yv="ustar\x0000",Gv=parseInt("7777",8),$v=function(t,e,i){return typeof t!="number"?i:(t=~~t,t>=e?e:t>=0||(t+=e,t>=0)?t:0)},Zv=function(t){switch(t){case 0:return"file";case 1:return"link";case 2:return"symlink";case 3:return"character-device";case 4:return"block-device";case 5:return"directory";case 6:return"fifo";case 7:return"contiguous-file";case 72:return"pax-header";case 55:return"pax-global-header";case 27:return"gnu-long-link-path";case 28:case 30:return"gnu-long-path"}return null},Kv=function(t){switch(t){case"file":return 0;case"link":return 1;case"symlink":return 2;case"character-device":return 3;case"block-device":return 4;case"directory":return 5;case"fifo":return 6;case"contiguous-file":return 7;case"pax-header":return 72}return 0},xd=function(t,e,i,r){for(;i<r;i++)if(t[i]===e)return i;return r},md=function(t){for(var e=256,i=0;i<148;i++)e+=t[i];for(var r=156;r<512;r++)e+=t[r];return e},jt=function(t,e){return t=t.toString(8),t.length>e?Hv.slice(0,e)+" ":Wv.slice(0,e-t.length)+t+" "};function Vv(t){var e;if(t[0]===128)e=!0;else if(t[0]===255)e=!1;else return null;for(var i=!1,r=[],n=t.length-1;n>0;n--){var s=t[n];e?r.push(s):i&&s===0?r.push(0):i?(i=!1,r.push(256-s)):r.push(255-s)}var o=0,a=r.length;for(n=0;n<a;n++)o+=r[n]*Math.pow(256,n);return e?o:-1*o}var Wt=function(t,e,i){if(t=t.slice(e,e+i),e=0,t[e]&128)return Vv(t);for(;e<t.length&&t[e]===32;)e++;for(var r=$v(xd(t,32,e,t.length),t.length,t.length);e<r&&t[e]===0;)e++;return r===e?0:parseInt(t.slice(e,r).toString(),8)},tr=function(t,e,i,r){return t.slice(e,xd(t,0,e,e+i)).toString(r)},Gl=function(t){var e=Buffer.byteLength(t),i=Math.floor(Math.log(e)/Math.log(10))+1;return e+i>=Math.pow(10,i)&&i++,e+i+t};ir.decodeLongPath=function(t,e){return tr(t,0,t.length,e)};ir.encodePax=function(t){var e="";t.name&&(e+=Gl(" path="+t.name+`
`)),t.linkname&&(e+=Gl(" linkpath="+t.linkname+`
`));var i=t.pax;if(i)for(var r in i)e+=Gl(" "+r+"="+i[r]+`
`);return Uv(e)};ir.decodePax=function(t){for(var e={};t.length;){for(var i=0;i<t.length&&t[i]!==32;)i++;var r=parseInt(t.slice(0,i).toString(),10);if(!r)return e;var n=t.slice(i+1,r-1).toString(),s=n.indexOf("=");if(s===-1)return e;e[n.slice(0,s)]=n.slice(s+1),t=t.slice(r)}return e};ir.encode=function(t){var e=jv(512),i=t.name,r="";if(t.typeflag===5&&i[i.length-1]!=="/"&&(i+="/"),Buffer.byteLength(i)!==i.length)return null;for(;Buffer.byteLength(i)>100;){var n=i.indexOf("/");if(n===-1)return null;r+=r?"/"+i.slice(0,n):i.slice(0,n),i=i.slice(n+1)}return Buffer.byteLength(i)>100||Buffer.byteLength(r)>155||t.linkname&&Buffer.byteLength(t.linkname)>100?null:(e.write(i),e.write(jt(t.mode&Gv,6),100),e.write(jt(t.uid,6),108),e.write(jt(t.gid,6),116),e.write(jt(t.size,11),124),e.write(jt(t.mtime.getTime()/1e3|0,11),136),e[156]=dd+Kv(t.type),t.linkname&&e.write(t.linkname,157),e.write(Yv,257),t.uname&&e.write(t.uname,265),t.gname&&e.write(t.gname,297),e.write(jt(t.devmajor||0,6),329),e.write(jt(t.devminor||0,6),337),r&&e.write(r,345),e.write(jt(md(e),6),148),e)};ir.decode=function(t,e){var i=t[156]===0?0:t[156]-dd,r=tr(t,0,100,e),n=Wt(t,100,8),s=Wt(t,108,8),o=Wt(t,116,8),a=Wt(t,124,12),l=Wt(t,136,12),h=Zv(i),f=t[157]===0?null:tr(t,157,100,e),u=tr(t,265,32),c=tr(t,297,32),d=Wt(t,329,8),p=Wt(t,337,8);t[345]&&(r=tr(t,345,155,e)+"/"+r),i===0&&r&&r[r.length-1]==="/"&&(i=5);var g=md(t);if(g===8*32)return null;if(g!==Wt(t,148,8))throw new Error("Invalid tar header. Maybe the tar is corrupted or it needs to be gunzipped?");return{name:r,mode:n,uid:s,gid:o,size:a,mtime:new Date(1e3*l),type:h,linkname:f,uname:u,gname:c,devmajor:d,devminor:p}}});var bd=m((A6,Ed)=>{var yd=require("util"),Xv=id(),Jv=nd(),Ur=$l(),gd=Qi().Writable,wd=Qi().PassThrough,vd=function(){},pd=function(t){return t&=511,t&&512-t},Qv=function(t,e){var i=new zs(t,e);return i.end(),i},e1=function(t,e){return e.path&&(t.name=e.path),e.linkpath&&(t.linkname=e.linkpath),e.size&&(t.size=parseInt(e.size,10)),t.pax=e,t},zs=function(t,e){this._parent=t,this.offset=e,wd.call(this)};yd.inherits(zs,wd);zs.prototype.destroy=function(t){this._parent.destroy(t)};var Et=function(t){if(!(this instanceof Et))return new Et(t);gd.call(this,t),t=t||{},this._offset=0,this._buffer=Xv(),this._missing=0,this._partial=!1,this._onparse=vd,this._header=null,this._stream=null,this._overflow=null,this._cb=null,this._locked=!1,this._destroyed=!1,this._pax=null,this._paxGlobal=null,this._gnuLongPath=null,this._gnuLongLinkPath=null;var e=this,i=e._buffer,r=function(){e._continue()},n=function(c){if(e._locked=!1,c)return e.destroy(c);e._stream||r()},s=function(){e._stream=null;var c=pd(e._header.size);c?e._parse(c,o):e._parse(512,u),e._locked||r()},o=function(){e._buffer.consume(pd(e._header.size)),e._parse(512,u),r()},a=function(){var c=e._header.size;e._paxGlobal=Ur.decodePax(i.slice(0,c)),i.consume(c),s()},l=function(){var c=e._header.size;e._pax=Ur.decodePax(i.slice(0,c)),e._paxGlobal&&(e._pax=Jv(e._paxGlobal,e._pax)),i.consume(c),s()},h=function(){var c=e._header.size;this._gnuLongPath=Ur.decodeLongPath(i.slice(0,c),t.filenameEncoding),i.consume(c),s()},f=function(){var c=e._header.size;this._gnuLongLinkPath=Ur.decodeLongPath(i.slice(0,c),t.filenameEncoding),i.consume(c),s()},u=function(){var c=e._offset,d;try{d=e._header=Ur.decode(i.slice(0,512),t.filenameEncoding)}catch(p){e.emit("error",p)}if(i.consume(512),!d){e._parse(512,u),r();return}if(d.type==="gnu-long-path"){e._parse(d.size,h),r();return}if(d.type==="gnu-long-link-path"){e._parse(d.size,f),r();return}if(d.type==="pax-global-header"){e._parse(d.size,a),r();return}if(d.type==="pax-header"){e._parse(d.size,l),r();return}if(e._gnuLongPath&&(d.name=e._gnuLongPath,e._gnuLongPath=null),e._gnuLongLinkPath&&(d.linkname=e._gnuLongLinkPath,e._gnuLongLinkPath=null),e._pax&&(e._header=d=e1(d,e._pax),e._pax=null),e._locked=!0,!d.size||d.type==="directory"){e._parse(512,u),e.emit("entry",d,Qv(e,c),n);return}e._stream=new zs(e,c),e.emit("entry",d,e._stream,n),e._parse(d.size,s),r()};this._onheader=u,this._parse(512,u)};yd.inherits(Et,gd);Et.prototype.destroy=function(t){this._destroyed||(this._destroyed=!0,t&&this.emit("error",t),this.emit("close"),this._stream&&this._stream.emit("close"))};Et.prototype._parse=function(t,e){this._destroyed||(this._offset+=t,this._missing=t,e===this._onheader&&(this._partial=!1),this._onparse=e)};Et.prototype._continue=function(){if(!this._destroyed){var t=this._cb;this._cb=vd,this._overflow?this._write(this._overflow,void 0,t):t()}};Et.prototype._write=function(t,e,i){if(!this._destroyed){var r=this._stream,n=this._buffer,s=this._missing;if(t.length&&(this._partial=!0),t.length<s)return this._missing-=t.length,this._overflow=null,r?r.write(t,i):(n.append(t),i());this._cb=i,this._missing=0;var o=null;t.length>s&&(o=t.slice(s),t=t.slice(0,s)),r?r.end(t):n.append(t),this._overflow=o,this._onparse()}};Et.prototype._final=function(t){if(this._partial)return this.destroy(new Error("Unexpected end of data"));t()};Ed.exports=Et});var _d=m((C6,Sd)=>{Sd.exports=require("fs").constants||require("constants")});var Td=m((F6,Od)=>{Od.exports=Rd;function Rd(t,e){if(t&&e)return Rd(t)(e);if(typeof t!="function")throw new TypeError("need wrapper function");return Object.keys(t).forEach(function(r){i[r]=t[r]}),i;function i(){for(var r=new Array(arguments.length),n=0;n<r.length;n++)r[n]=arguments[n];var s=t.apply(this,r),o=r[r.length-1];return typeof s=="function"&&s!==o&&Object.keys(o).forEach(function(a){s[a]=o[a]}),s}}});var Cd=m((B6,Zl)=>{var Dd=Td();Zl.exports=Dd(Us);Zl.exports.strict=Dd(Ad);Us.proto=Us(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return Us(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return Ad(this)},configurable:!0})});function Us(t){var e=function(){return e.called?e.value:(e.called=!0,e.value=t.apply(this,arguments))};return e.called=!1,e}function Ad(t){var e=function(){if(e.called)throw new Error(e.onceError);return e.called=!0,e.value=t.apply(this,arguments)},i=t.name||"Function wrapped with `once`";return e.onceError=i+" shouldn't be called more than once",e.called=!1,e}});var Ld=m((L6,Bd)=>{var t1=Cd(),i1=function(){},r1=function(t){return t.setHeader&&typeof t.abort=="function"},n1=function(t){return t.stdio&&Array.isArray(t.stdio)&&t.stdio.length===3},Fd=function(t,e,i){if(typeof e=="function")return Fd(t,null,e);e||(e={}),i=t1(i||i1);var r=t._writableState,n=t._readableState,s=e.readable||e.readable!==!1&&t.readable,o=e.writable||e.writable!==!1&&t.writable,a=!1,l=function(){t.writable||h()},h=function(){o=!1,s||i.call(t)},f=function(){s=!1,o||i.call(t)},u=function(x){i.call(t,x?new Error("exited with error code: "+x):null)},c=function(x){i.call(t,x)},d=function(){process.nextTick(p)},p=function(){if(!a){if(s&&!(n&&n.ended&&!n.destroyed))return i.call(t,new Error("premature close"));if(o&&!(r&&r.ended&&!r.destroyed))return i.call(t,new Error("premature close"))}},g=function(){t.req.on("finish",h)};return r1(t)?(t.on("complete",h),t.on("abort",d),t.req?g():t.on("request",g)):o&&!r&&(t.on("end",l),t.on("close",l)),n1(t)&&t.on("exit",u),t.on("end",f),t.on("finish",h),e.error!==!1&&t.on("error",c),t.on("close",d),function(){a=!0,t.removeListener("complete",h),t.removeListener("abort",d),t.removeListener("request",g),t.req&&t.req.removeListener("finish",h),t.removeListener("end",l),t.removeListener("close",l),t.removeListener("finish",h),t.removeListener("exit",u),t.removeListener("end",f),t.removeListener("error",c),t.removeListener("close",d)}};Bd.exports=Fd});var qd=m((I6,Pd)=>{var rr=_d(),Id=Ld(),Ws=require("util"),s1=Yl(),o1=Hl(),Nd=Qi().Readable,nr=Qi().Writable,a1=require("string_decoder").StringDecoder,js=$l(),l1=parseInt("755",8),f1=parseInt("644",8),Md=s1(1024),Vl=function(){},Kl=function(t,e){e&=511,e&&t.push(Md.slice(0,512-e))};function c1(t){switch(t&rr.S_IFMT){case rr.S_IFBLK:return"block-device";case rr.S_IFCHR:return"character-device";case rr.S_IFDIR:return"directory";case rr.S_IFIFO:return"fifo";case rr.S_IFLNK:return"symlink"}return"file"}var Hs=function(t){nr.call(this),this.written=0,this._to=t,this._destroyed=!1};Ws.inherits(Hs,nr);Hs.prototype._write=function(t,e,i){if(this.written+=t.length,this._to.push(t))return i();this._to._drain=i};Hs.prototype.destroy=function(){this._destroyed||(this._destroyed=!0,this.emit("close"))};var Ys=function(){nr.call(this),this.linkname="",this._decoder=new a1("utf-8"),this._destroyed=!1};Ws.inherits(Ys,nr);Ys.prototype._write=function(t,e,i){this.linkname+=this._decoder.write(t),i()};Ys.prototype.destroy=function(){this._destroyed||(this._destroyed=!0,this.emit("close"))};var jr=function(){nr.call(this),this._destroyed=!1};Ws.inherits(jr,nr);jr.prototype._write=function(t,e,i){i(new Error("No body allowed for this entry"))};jr.prototype.destroy=function(){this._destroyed||(this._destroyed=!0,this.emit("close"))};var Ze=function(t){if(!(this instanceof Ze))return new Ze(t);Nd.call(this,t),this._drain=Vl,this._finalized=!1,this._finalizing=!1,this._destroyed=!1,this._stream=null};Ws.inherits(Ze,Nd);Ze.prototype.entry=function(t,e,i){if(this._stream)throw new Error("already piping an entry");if(!(this._finalized||this._destroyed)){typeof e=="function"&&(i=e,e=null),i||(i=Vl);var r=this;if((!t.size||t.type==="symlink")&&(t.size=0),t.type||(t.type=c1(t.mode)),t.mode||(t.mode=t.type==="directory"?l1:f1),t.uid||(t.uid=0),t.gid||(t.gid=0),t.mtime||(t.mtime=new Date),typeof e=="string"&&(e=o1(e)),Buffer.isBuffer(e))return t.size=e.length,this._encode(t),this.push(e),Kl(r,t.size),process.nextTick(i),new jr;if(t.type==="symlink"&&!t.linkname){var n=new Ys;return Id(n,function(o){if(o)return r.destroy(),i(o);t.linkname=n.linkname,r._encode(t),i()}),n}if(this._encode(t),t.type!=="file"&&t.type!=="contiguous-file")return process.nextTick(i),new jr;var s=new Hs(this);return this._stream=s,Id(s,function(o){if(r._stream=null,o)return r.destroy(),i(o);if(s.written!==t.size)return r.destroy(),i(new Error("size mismatch"));Kl(r,t.size),r._finalizing&&r.finalize(),i()}),s}};Ze.prototype.finalize=function(){if(this._stream){this._finalizing=!0;return}this._finalized||(this._finalized=!0,this.push(Md),this.push(null))};Ze.prototype.destroy=function(t){this._destroyed||(this._destroyed=!0,t&&this.emit("error",t),this.emit("close"),this._stream&&this._stream.destroy&&this._stream.destroy())};Ze.prototype._encode=function(t){if(!t.pax){var e=js.encode(t);if(e){this.push(e);return}}this._encodePax(t)};Ze.prototype._encodePax=function(t){var e=js.encodePax({name:t.name,linkname:t.linkname,pax:t.pax}),i={name:"PaxHeader",mode:t.mode,uid:t.uid,gid:t.gid,size:e.length,mtime:t.mtime,type:"pax-header",linkname:t.linkname&&"PaxHeader",uname:t.uname,gname:t.gname,devmajor:t.devmajor,devminor:t.devminor};this.push(js.encode(i)),this.push(e),Kl(this,e.length),i.size=t.size,i.type=t.type,this.push(js.encode(i))};Ze.prototype._read=function(t){var e=this._drain;this._drain=Vl,e()};Pd.exports=Ze});var kd=m(Xl=>{Xl.extract=bd();Xl.pack=qd()});var Gs=m((M6,Ud)=>{"use strict";var zd=wl(),h1=Ts(),u1=kd();Ud.exports=()=>t=>{if(!Buffer.isBuffer(t)&&!h1(t))return Promise.reject(new TypeError(`Expected a Buffer or Stream, got ${typeof t}`));if(Buffer.isBuffer(t)&&(!zd(t)||zd(t).ext!=="tar"))return Promise.resolve([]);let e=u1.extract(),i=[];e.on("entry",(n,s,o)=>{let a=[];s.on("data",l=>a.push(l)),s.on("end",()=>{let l={data:Buffer.concat(a),mode:n.mode,mtime:n.mtime,path:n.name,type:n.type};(n.type==="symlink"||n.type==="link")&&(l.linkname=n.linkname),i.push(l),o()})});let r=new Promise((n,s)=>{Buffer.isBuffer(t)||t.on("error",s),e.on("finish",()=>n(i)),e.on("error",s)});return e.then=r.then.bind(r),e.catch=r.catch.bind(r),Buffer.isBuffer(t)?e.end(t):t.pipe(e),e}});var Wd=m((P6,jd)=>{"use strict";var sr=t=>Array.from(t).map(e=>e.charCodeAt(0)),d1=sr("META-INF/mozilla.rsa"),x1=sr("[Content_Types].xml"),m1=sr("_rels/.rels");jd.exports=t=>{let e=new Uint8Array(t);if(!(e&&e.length>1))return null;let i=(r,n)=>{n=Object.assign({offset:0},n);for(let s=0;s<r.length;s++)if(n.mask){if(r[s]!==(n.mask[s]&e[s+n.offset]))return!1}else if(r[s]!==e[s+n.offset])return!1;return!0};if(i([255,216,255]))return{ext:"jpg",mime:"image/jpeg"};if(i([137,80,78,71,13,10,26,10]))return{ext:"png",mime:"image/png"};if(i([71,73,70]))return{ext:"gif",mime:"image/gif"};if(i([87,69,66,80],{offset:8}))return{ext:"webp",mime:"image/webp"};if(i([70,76,73,70]))return{ext:"flif",mime:"image/flif"};if((i([73,73,42,0])||i([77,77,0,42]))&&i([67,82],{offset:8}))return{ext:"cr2",mime:"image/x-canon-cr2"};if(i([73,73,42,0])||i([77,77,0,42]))return{ext:"tif",mime:"image/tiff"};if(i([66,77]))return{ext:"bmp",mime:"image/bmp"};if(i([73,73,188]))return{ext:"jxr",mime:"image/vnd.ms-photo"};if(i([56,66,80,83]))return{ext:"psd",mime:"image/vnd.adobe.photoshop"};if(i([80,75,3,4])){if(i([109,105,109,101,116,121,112,101,97,112,112,108,105,99,97,116,105,111,110,47,101,112,117,98,43,122,105,112],{offset:30}))return{ext:"epub",mime:"application/epub+zip"};if(i(d1,{offset:30}))return{ext:"xpi",mime:"application/x-xpinstall"};if(i(x1,{offset:30})||i(m1,{offset:30})){let r=e.subarray(4,2004),n=o=>o.findIndex((a,l,h)=>h[l]===80&&h[l+1]===75&&h[l+2]===3&&h[l+3]===4),s=n(r);if(s!==-1){let o=e.subarray(s+8,s+8+1e3),a=n(o);if(a!==-1){let l=8+s+a+30;if(i(sr("word/"),{offset:l}))return{ext:"docx",mime:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"};if(i(sr("ppt/"),{offset:l}))return{ext:"pptx",mime:"application/vnd.openxmlformats-officedocument.presentationml.presentation"};if(i(sr("xl/"),{offset:l}))return{ext:"xlsx",mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}}}}}if(i([80,75])&&(e[2]===3||e[2]===5||e[2]===7)&&(e[3]===4||e[3]===6||e[3]===8))return{ext:"zip",mime:"application/zip"};if(i([117,115,116,97,114],{offset:257}))return{ext:"tar",mime:"application/x-tar"};if(i([82,97,114,33,26,7])&&(e[6]===0||e[6]===1))return{ext:"rar",mime:"application/x-rar-compressed"};if(i([31,139,8]))return{ext:"gz",mime:"application/gzip"};if(i([66,90,104]))return{ext:"bz2",mime:"application/x-bzip2"};if(i([55,122,188,175,39,28]))return{ext:"7z",mime:"application/x-7z-compressed"};if(i([120,1]))return{ext:"dmg",mime:"application/x-apple-diskimage"};if(i([51,103,112,53])||i([0,0,0])&&i([102,116,121,112],{offset:4})&&(i([109,112,52,49],{offset:8})||i([109,112,52,50],{offset:8})||i([105,115,111,109],{offset:8})||i([105,115,111,50],{offset:8})||i([109,109,112,52],{offset:8})||i([77,52,86],{offset:8})||i([100,97,115,104],{offset:8})))return{ext:"mp4",mime:"video/mp4"};if(i([77,84,104,100]))return{ext:"mid",mime:"audio/midi"};if(i([26,69,223,163])){let r=e.subarray(4,4100),n=r.findIndex((s,o,a)=>a[o]===66&&a[o+1]===130);if(n!==-1){let s=n+3,o=a=>Array.from(a).every((l,h)=>r[s+h]===l.charCodeAt(0));if(o("matroska"))return{ext:"mkv",mime:"video/x-matroska"};if(o("webm"))return{ext:"webm",mime:"video/webm"}}}if(i([0,0,0,20,102,116,121,112,113,116,32,32])||i([102,114,101,101],{offset:4})||i([102,116,121,112,113,116,32,32],{offset:4})||i([109,100,97,116],{offset:4})||i([119,105,100,101],{offset:4}))return{ext:"mov",mime:"video/quicktime"};if(i([82,73,70,70])&&i([65,86,73],{offset:8}))return{ext:"avi",mime:"video/x-msvideo"};if(i([48,38,178,117,142,102,207,17,166,217]))return{ext:"wmv",mime:"video/x-ms-wmv"};if(i([0,0,1,186]))return{ext:"mpg",mime:"video/mpeg"};for(let r=0;r<2&&r<e.length-16;r++)if(i([73,68,51],{offset:r})||i([255,226],{offset:r,mask:[255,226]}))return{ext:"mp3",mime:"audio/mpeg"};return i([102,116,121,112,77,52,65],{offset:4})||i([77,52,65,32])?{ext:"m4a",mime:"audio/m4a"}:i([79,112,117,115,72,101,97,100],{offset:28})?{ext:"opus",mime:"audio/opus"}:i([79,103,103,83])?{ext:"ogg",mime:"audio/ogg"}:i([102,76,97,67])?{ext:"flac",mime:"audio/x-flac"}:i([82,73,70,70])&&i([87,65,86,69],{offset:8})?{ext:"wav",mime:"audio/x-wav"}:i([35,33,65,77,82,10])?{ext:"amr",mime:"audio/amr"}:i([37,80,68,70])?{ext:"pdf",mime:"application/pdf"}:i([77,90])?{ext:"exe",mime:"application/x-msdownload"}:(e[0]===67||e[0]===70)&&i([87,83],{offset:1})?{ext:"swf",mime:"application/x-shockwave-flash"}:i([123,92,114,116,102])?{ext:"rtf",mime:"application/rtf"}:i([0,97,115,109])?{ext:"wasm",mime:"application/wasm"}:i([119,79,70,70])&&(i([0,1,0,0],{offset:4})||i([79,84,84,79],{offset:4}))?{ext:"woff",mime:"font/woff"}:i([119,79,70,50])&&(i([0,1,0,0],{offset:4})||i([79,84,84,79],{offset:4}))?{ext:"woff2",mime:"font/woff2"}:i([76,80],{offset:34})&&(i([0,0,1],{offset:8})||i([1,0,2],{offset:8})||i([2,0,2],{offset:8}))?{ext:"eot",mime:"application/octet-stream"}:i([0,1,0,0,0])?{ext:"ttf",mime:"font/ttf"}:i([79,84,84,79,0])?{ext:"otf",mime:"font/otf"}:i([0,0,1,0])?{ext:"ico",mime:"image/x-icon"}:i([70,76,86,1])?{ext:"flv",mime:"video/x-flv"}:i([37,33])?{ext:"ps",mime:"application/postscript"}:i([253,55,122,88,90,0])?{ext:"xz",mime:"application/x-xz"}:i([83,81,76,105])?{ext:"sqlite",mime:"application/x-sqlite3"}:i([78,69,83,26])?{ext:"nes",mime:"application/x-nintendo-nes-rom"}:i([67,114,50,52])?{ext:"crx",mime:"application/x-google-chrome-extension"}:i([77,83,67,70])||i([73,83,99,40])?{ext:"cab",mime:"application/vnd.ms-cab-compressed"}:i([33,60,97,114,99,104,62,10,100,101,98,105,97,110,45,98,105,110,97,114,121])?{ext:"deb",mime:"application/x-deb"}:i([33,60,97,114,99,104,62])?{ext:"ar",mime:"application/x-unix-archive"}:i([237,171,238,219])?{ext:"rpm",mime:"application/x-rpm"}:i([31,160])||i([31,157])?{ext:"Z",mime:"application/x-compress"}:i([76,90,73,80])?{ext:"lz",mime:"application/x-lzip"}:i([208,207,17,224,161,177,26,225])?{ext:"msi",mime:"application/x-msi"}:i([6,14,43,52,2,5,1,1,13,1,2,1,1,2])?{ext:"mxf",mime:"application/mxf"}:i([71],{offset:4})&&(i([71],{offset:192})||i([71],{offset:196}))?{ext:"mts",mime:"video/mp2t"}:i([66,76,69,78,68,69,82])?{ext:"blend",mime:"application/x-blender"}:i([66,80,71,251])?{ext:"bpg",mime:"image/bpg"}:null}});var Gd=m((q6,Yd)=>{var Hd=[0,1,3,7,15,31,63,127,255],Wr=function(t){this.stream=t,this.bitOffset=0,this.curByte=0,this.hasByte=!1};Wr.prototype._ensureByte=function(){this.hasByte||(this.curByte=this.stream.readByte(),this.hasByte=!0)};Wr.prototype.read=function(t){for(var e=0;t>0;){this._ensureByte();var i=8-this.bitOffset;if(t>=i)e<<=i,e|=Hd[i]&this.curByte,this.hasByte=!1,this.bitOffset=0,t-=i;else{e<<=t;var r=i-t;e|=(this.curByte&Hd[t]<<r)>>r,this.bitOffset+=t,t=0}}return e};Wr.prototype.seek=function(t){var e=t%8,i=(t-e)/8;this.bitOffset=e,this.stream.seek(i),this.hasByte=!1};Wr.prototype.pi=function(){var t=new Buffer(6),e;for(e=0;e<t.length;e++)t[e]=this.read(8);return t.toString("hex")};Yd.exports=Wr});var Zd=m((k6,$d)=>{var di=function(){};di.prototype.readByte=function(){throw new Error("abstract method readByte() not implemented")};di.prototype.read=function(t,e,i){for(var r=0;r<i;){var n=this.readByte();if(n<0)return r===0?-1:r;t[e++]=n,r++}return r};di.prototype.seek=function(t){throw new Error("abstract method seek() not implemented")};di.prototype.writeByte=function(t){throw new Error("abstract method readByte() not implemented")};di.prototype.write=function(t,e,i){var r;for(r=0;r<i;r++)this.writeByte(t[e++]);return i};di.prototype.flush=function(){};$d.exports=di});var Vd=m((z6,Kd)=>{Kd.exports=function(){var t=new Uint32Array([0,79764919,159529838,222504665,319059676,398814059,445009330,507990021,638119352,583659535,797628118,726387553,890018660,835552979,1015980042,944750013,1276238704,1221641927,1167319070,1095957929,1595256236,1540665371,1452775106,1381403509,1780037320,1859660671,1671105958,1733955601,2031960084,2111593891,1889500026,1952343757,2552477408,2632100695,2443283854,2506133561,2334638140,2414271883,2191915858,2254759653,3190512472,3135915759,3081330742,3009969537,2905550212,2850959411,2762807018,2691435357,3560074640,3505614887,3719321342,3648080713,3342211916,3287746299,3467911202,3396681109,4063920168,4143685023,4223187782,4286162673,3779000052,3858754371,3904687514,3967668269,881225847,809987520,1023691545,969234094,662832811,591600412,771767749,717299826,311336399,374308984,453813921,533576470,25881363,88864420,134795389,214552010,2023205639,2086057648,1897238633,1976864222,1804852699,1867694188,1645340341,1724971778,1587496639,1516133128,1461550545,1406951526,1302016099,1230646740,1142491917,1087903418,2896545431,2825181984,2770861561,2716262478,3215044683,3143675388,3055782693,3001194130,2326604591,2389456536,2200899649,2280525302,2578013683,2640855108,2418763421,2498394922,3769900519,3832873040,3912640137,3992402750,4088425275,4151408268,4197601365,4277358050,3334271071,3263032808,3476998961,3422541446,3585640067,3514407732,3694837229,3640369242,1762451694,1842216281,1619975040,1682949687,2047383090,2127137669,1938468188,2001449195,1325665622,1271206113,1183200824,1111960463,1543535498,1489069629,1434599652,1363369299,622672798,568075817,748617968,677256519,907627842,853037301,1067152940,995781531,51762726,131386257,177728840,240578815,269590778,349224269,429104020,491947555,4046411278,4126034873,4172115296,4234965207,3794477266,3874110821,3953728444,4016571915,3609705398,3555108353,3735388376,3664026991,3290680682,3236090077,3449943556,3378572211,3174993278,3120533705,3032266256,2961025959,2923101090,2868635157,2813903052,2742672763,2604032198,2683796849,2461293480,2524268063,2284983834,2364738477,2175806836,2238787779,1569362073,1498123566,1409854455,1355396672,1317987909,1246755826,1192025387,1137557660,2072149281,2135122070,1912620623,1992383480,1753615357,1816598090,1627664531,1707420964,295390185,358241886,404320391,483945776,43990325,106832002,186451547,266083308,932423249,861060070,1041341759,986742920,613929101,542559546,756411363,701822548,3316196985,3244833742,3425377559,3370778784,3601682597,3530312978,3744426955,3689838204,3819031489,3881883254,3928223919,4007849240,4037393693,4100235434,4180117107,4259748804,2310601993,2373574846,2151335527,2231098320,2596047829,2659030626,2470359227,2550115596,2947551409,2876312838,2788305887,2733848168,3165939309,3094707162,3040238851,2985771188]),e=function(){var i=4294967295;this.getCRC=function(){return~i>>>0},this.updateCRC=function(r){i=i<<8^t[(i>>>24^r)&255]},this.updateCRCRun=function(r,n){for(;n-- >0;)i=i<<8^t[(i>>>24^r)&255]}};return e}()});var Xd=m((U6,p1)=>{p1.exports={name:"seek-bzip",version:"1.0.6",contributors:["C. Scott Ananian (http://cscott.net)","Eli Skeggs","Kevin Kwok","Rob Landley (http://landley.net)"],description:"a pure-JavaScript Node.JS module for random-access decoding bzip2 data",main:"./lib/index.js",repository:{type:"git",url:"https://github.com/cscott/seek-bzip.git"},license:"MIT",bin:{"seek-bunzip":"./bin/seek-bunzip","seek-table":"./bin/seek-bzip-table"},directories:{test:"test"},dependencies:{commander:"^2.8.1"},devDependencies:{fibers:"~1.0.6",mocha:"~2.2.5"},scripts:{test:"mocha"}}});var sx=m((j6,nx)=>{var y1=Gd(),Hr=Zd(),tx=Vd(),ix=Xd(),$s=20,Jd=258,Qd=0,g1=1,w1=2,v1=6,E1=50,b1="314159265359",S1="177245385090",ex=function(t,e){var i=t[e],r;for(r=e;r>0;r--)t[r]=t[r-1];return t[0]=i,i},z={OK:0,LAST_BLOCK:-1,NOT_BZIP_DATA:-2,UNEXPECTED_INPUT_EOF:-3,UNEXPECTED_OUTPUT_EOF:-4,DATA_ERROR:-5,OUT_OF_MEMORY:-6,OBSOLETE_INPUT:-7,END_OF_BLOCK:-8},Ht={};Ht[z.LAST_BLOCK]="Bad file checksum";Ht[z.NOT_BZIP_DATA]="Not bzip data";Ht[z.UNEXPECTED_INPUT_EOF]="Unexpected input EOF";Ht[z.UNEXPECTED_OUTPUT_EOF]="Unexpected output EOF";Ht[z.DATA_ERROR]="Data error";Ht[z.OUT_OF_MEMORY]="Out of memory";Ht[z.OBSOLETE_INPUT]="Obsolete (pre 0.9.5) bzip format not supported.";var ne=function(t,e){var i=Ht[t]||"unknown error";e&&(i+=": "+e);var r=new TypeError(i);throw r.errorCode=t,r},xe=function(t,e){this.writePos=this.writeCurrent=this.writeCount=0,this._start_bunzip(t,e)};xe.prototype._init_block=function(){var t=this._get_next_block();return t?(this.blockCRC=new tx,!0):(this.writeCount=-1,!1)};xe.prototype._start_bunzip=function(t,e){var i=new Buffer(4);(t.read(i,0,4)!==4||String.fromCharCode(i[0],i[1],i[2])!=="BZh")&&ne(z.NOT_BZIP_DATA,"bad magic");var r=i[3]-48;(r<1||r>9)&&ne(z.NOT_BZIP_DATA,"level out of range"),this.reader=new y1(t),this.dbufSize=1e5*r,this.nextoutput=0,this.outputStream=e,this.streamCRC=0};xe.prototype._get_next_block=function(){var t,e,i,r=this.reader,n=r.pi();if(n===S1)return!1;n!==b1&&ne(z.NOT_BZIP_DATA),this.targetBlockCRC=r.read(32)>>>0,this.streamCRC=(this.targetBlockCRC^(this.streamCRC<<1|this.streamCRC>>>31))>>>0,r.read(1)&&ne(z.OBSOLETE_INPUT);var s=r.read(24);s>this.dbufSize&&ne(z.DATA_ERROR,"initial position out of bounds");var o=r.read(16),a=new Buffer(256),l=0;for(t=0;t<16;t++)if(o&1<<15-t){var h=t*16;for(i=r.read(16),e=0;e<16;e++)i&1<<15-e&&(a[l++]=h+e)}var f=r.read(3);(f<w1||f>v1)&&ne(z.DATA_ERROR);var u=r.read(15);u===0&&ne(z.DATA_ERROR);var c=new Buffer(256);for(t=0;t<f;t++)c[t]=t;var d=new Buffer(u);for(t=0;t<u;t++){for(e=0;r.read(1);e++)e>=f&&ne(z.DATA_ERROR);d[t]=ex(c,e)}var p=l+2,g=[],x;for(e=0;e<f;e++){var y=new Buffer(p),w=new Uint16Array($s+1);for(o=r.read(5),t=0;t<p;t++){for(;(o<1||o>$s)&&ne(z.DATA_ERROR),!!r.read(1);)r.read(1)?o--:o++;y[t]=o}var S,j;for(S=j=y[0],t=1;t<p;t++)y[t]>j?j=y[t]:y[t]<S&&(S=y[t]);x={},g.push(x),x.permute=new Uint16Array(Jd),x.limit=new Uint32Array($s+2),x.base=new Uint32Array($s+1),x.minLen=S,x.maxLen=j;var A=0;for(t=S;t<=j;t++)for(w[t]=x.limit[t]=0,o=0;o<p;o++)y[o]===t&&(x.permute[A++]=o);for(t=0;t<p;t++)w[y[t]]++;for(A=o=0,t=S;t<j;t++)A+=w[t],x.limit[t]=A-1,A<<=1,o+=w[t],x.base[t+1]=A-o;x.limit[j+1]=Number.MAX_VALUE,x.limit[j]=A+w[j]-1,x.base[S]=0}var pe=new Uint32Array(256);for(t=0;t<256;t++)c[t]=t;var U=0,Y=0,v=0,E,b=this.dbuf=new Uint32Array(this.dbufSize);for(p=0;;){for(p--||(p=E1-1,v>=u&&ne(z.DATA_ERROR),x=g[d[v++]]),t=x.minLen,e=r.read(t);t>x.maxLen&&ne(z.DATA_ERROR),!(e<=x.limit[t]);t++)e=e<<1|r.read(1);e-=x.base[t],(e<0||e>=Jd)&&ne(z.DATA_ERROR);var L=x.permute[e];if(L===Qd||L===g1){U||(U=1,o=0),L===Qd?o+=U:o+=2*U,U<<=1;continue}if(U)for(U=0,Y+o>this.dbufSize&&ne(z.DATA_ERROR),E=a[c[0]],pe[E]+=o;o--;)b[Y++]=E;if(L>l)break;Y>=this.dbufSize&&ne(z.DATA_ERROR),t=L-1,E=ex(c,t),E=a[E],pe[E]++,b[Y++]=E}for((s<0||s>=Y)&&ne(z.DATA_ERROR),e=0,t=0;t<256;t++)i=e+pe[t],pe[t]=e,e=i;for(t=0;t<Y;t++)E=b[t]&255,b[pe[E]]|=t<<8,pe[E]++;var I=0,B=0,_=0;return Y&&(I=b[s],B=I&255,I>>=8,_=-1),this.writePos=I,this.writeCurrent=B,this.writeCount=Y,this.writeRun=_,!0};xe.prototype._read_bunzip=function(t,e){var i,r,n;if(this.writeCount<0)return 0;for(var s=0,o=this.dbuf,a=this.writePos,l=this.writeCurrent,h=this.writeCount,f=this.outputsize,u=this.writeRun;h;){for(h--,r=l,a=o[a],l=a&255,a>>=8,u++===3?(i=l,n=r,l=-1):(i=1,n=l),this.blockCRC.updateCRCRun(n,i);i--;)this.outputStream.writeByte(n),this.nextoutput++;l!=r&&(u=0)}return this.writeCount=h,this.blockCRC.getCRC()!==this.targetBlockCRC&&ne(z.DATA_ERROR,"Bad block CRC (got "+this.blockCRC.getCRC().toString(16)+" expected "+this.targetBlockCRC.toString(16)+")"),this.nextoutput};var Jl=function(t){if("readByte"in t)return t;var e=new Hr;return e.pos=0,e.readByte=function(){return t[this.pos++]},e.seek=function(i){this.pos=i},e.eof=function(){return this.pos>=t.length},e},rx=function(t){var e=new Hr,i=!0;if(t)if(typeof t=="number")e.buffer=new Buffer(t),i=!1;else{if("writeByte"in t)return t;e.buffer=t,i=!1}else e.buffer=new Buffer(16384);return e.pos=0,e.writeByte=function(r){if(i&&this.pos>=this.buffer.length){var n=new Buffer(this.buffer.length*2);this.buffer.copy(n),this.buffer=n}this.buffer[this.pos++]=r},e.getBuffer=function(){if(this.pos!==this.buffer.length){if(!i)throw new TypeError("outputsize does not match decoded input");var r=new Buffer(this.pos);this.buffer.copy(r,0,0,this.pos),this.buffer=r}return this.buffer},e._coerced=!0,e};xe.Err=z;xe.decode=function(t,e,i){for(var r=Jl(t),n=rx(e),s=new xe(r,n);!("eof"in r&&r.eof());)if(s._init_block())s._read_bunzip();else{var o=s.reader.read(32)>>>0;if(o!==s.streamCRC&&ne(z.DATA_ERROR,"Bad stream CRC (got "+s.streamCRC.toString(16)+" expected "+o.toString(16)+")"),i&&"eof"in r&&!r.eof())s._start_bunzip(r,n);else break}if("getBuffer"in n)return n.getBuffer()};xe.decodeBlock=function(t,e,i){var r=Jl(t),n=rx(i),s=new xe(r,n);s.reader.seek(e);var o=s._get_next_block();if(o&&(s.blockCRC=new tx,s.writeCopies=0,s._read_bunzip()),"getBuffer"in n)return n.getBuffer()};xe.table=function(t,e,i){var r=new Hr;r.delegate=Jl(t),r.pos=0,r.readByte=function(){return this.pos++,this.delegate.readByte()},r.delegate.eof&&(r.eof=r.delegate.eof.bind(r.delegate));var n=new Hr;n.pos=0,n.writeByte=function(){this.pos++};for(var s=new xe(r,n),o=s.dbufSize;!("eof"in r&&r.eof());){var a=r.pos*8+s.reader.bitOffset;if(s.reader.hasByte&&(a-=8),s._init_block()){var l=n.pos;s._read_bunzip(),e(a,n.pos-l)}else{var h=s.reader.read(32);if(i&&"eof"in r&&!r.eof())s._start_bunzip(r,n),console.assert(s.dbufSize===o,"shouldn't change block size within multistream file");else break}}};xe.Stream=Hr;xe.version=ix.version;xe.license=ix.license;nx.exports=xe});var lx=m((ox,ax)=>{var _1=require("stream");ox=ax.exports=Ql;Ql.through=Ql;function Ql(t,e,i){t=t||function(f){this.queue(f)},e=e||function(){this.queue(null)};var r=!1,n=!1,s=[],o=!1,a=new _1;a.readable=a.writable=!0,a.paused=!1,a.autoDestroy=!(i&&i.autoDestroy===!1),a.write=function(f){return t.call(this,f),!a.paused};function l(){for(;s.length&&!a.paused;){var f=s.shift();if(f===null)return a.emit("end");a.emit("data",f)}}a.queue=a.push=function(f){return o||(f===null&&(o=!0),s.push(f),l()),a},a.on("end",function(){a.readable=!1,!a.writable&&a.autoDestroy&&process.nextTick(function(){a.destroy()})});function h(){a.writable=!1,e.call(a),!a.readable&&a.autoDestroy&&a.destroy()}return a.end=function(f){if(!r)return r=!0,arguments.length&&a.write(f),h(),a},a.destroy=function(){if(!n)return n=!0,r=!0,s.length=0,a.writable=a.readable=!1,a.emit("close"),a},a.pause=function(){if(!a.paused)return a.paused=!0,a},a.resume=function(){return a.paused&&(a.paused=!1,a.emit("resume")),l(),a.paused||a.emit("drain"),a},a}});var cx=m((W6,fx)=>{function ef(t){this.name="Bzip2Error",this.message=t,this.stack=new Error().stack}ef.prototype=new Error;var se={Error:function(t){throw new ef(t)}},Ke={};Ke.Bzip2Error=ef;Ke.crcTable=[0,79764919,159529838,222504665,319059676,398814059,445009330,507990021,638119352,583659535,797628118,726387553,890018660,835552979,1015980042,944750013,1276238704,1221641927,1167319070,1095957929,1595256236,1540665371,1452775106,1381403509,1780037320,1859660671,1671105958,1733955601,2031960084,2111593891,1889500026,1952343757,2552477408,2632100695,2443283854,2506133561,2334638140,2414271883,2191915858,2254759653,3190512472,3135915759,3081330742,3009969537,2905550212,2850959411,2762807018,2691435357,3560074640,3505614887,3719321342,3648080713,3342211916,3287746299,3467911202,3396681109,4063920168,4143685023,4223187782,4286162673,3779000052,3858754371,3904687514,3967668269,881225847,809987520,1023691545,969234094,662832811,591600412,771767749,717299826,311336399,374308984,453813921,533576470,25881363,88864420,134795389,214552010,2023205639,2086057648,1897238633,1976864222,1804852699,1867694188,1645340341,1724971778,1587496639,1516133128,1461550545,1406951526,1302016099,1230646740,1142491917,1087903418,2896545431,2825181984,2770861561,2716262478,3215044683,3143675388,3055782693,3001194130,2326604591,2389456536,2200899649,2280525302,2578013683,2640855108,2418763421,2498394922,3769900519,3832873040,3912640137,3992402750,4088425275,4151408268,4197601365,4277358050,3334271071,3263032808,3476998961,3422541446,3585640067,3514407732,3694837229,3640369242,1762451694,1842216281,1619975040,1682949687,2047383090,2127137669,1938468188,2001449195,1325665622,1271206113,1183200824,1111960463,1543535498,1489069629,1434599652,1363369299,622672798,568075817,748617968,677256519,907627842,853037301,1067152940,995781531,51762726,131386257,177728840,240578815,269590778,349224269,429104020,491947555,4046411278,4126034873,4172115296,4234965207,3794477266,3874110821,3953728444,4016571915,3609705398,3555108353,3735388376,3664026991,3290680682,3236090077,3449943556,3378572211,3174993278,3120533705,3032266256,2961025959,2923101090,2868635157,2813903052,2742672763,2604032198,2683796849,2461293480,2524268063,2284983834,2364738477,2175806836,2238787779,1569362073,1498123566,1409854455,1355396672,1317987909,1246755826,1192025387,1137557660,2072149281,2135122070,1912620623,1992383480,1753615357,1816598090,1627664531,1707420964,295390185,358241886,404320391,483945776,43990325,106832002,186451547,266083308,932423249,861060070,1041341759,986742920,613929101,542559546,756411363,701822548,3316196985,3244833742,3425377559,3370778784,3601682597,3530312978,3744426955,3689838204,3819031489,3881883254,3928223919,4007849240,4037393693,4100235434,4180117107,4259748804,2310601993,2373574846,2151335527,2231098320,2596047829,2659030626,2470359227,2550115596,2947551409,2876312838,2788305887,2733848168,3165939309,3094707162,3040238851,2985771188];Ke.array=function(t){var e=0,i=0,r=[0,1,3,7,15,31,63,127,255];return function(n){for(var s=0;n>0;){var o=8-e;n>=o?(s<<=o,s|=r[o]&t[i++],e=0,n-=o):(s<<=n,s|=(t[i]&r[n]<<8-n-e)>>8-n-e,e+=n,n=0)}return s}};Ke.simple=function(t,e){var i=Ke.array(t),r=Ke.header(i),n=!1,s=1e5*r,o=new Int32Array(s);do n=Ke.decompress(i,e,o,s);while(!n)};Ke.header=function(t){this.byteCount=new Int32Array(256),this.symToByte=new Uint8Array(256),this.mtfSymbol=new Int32Array(256),this.selectors=new Uint8Array(32768),t(8*3)!=4348520&&se.Error("No magic number found");var e=t(8)-48;return(e<1||e>9)&&se.Error("Not a BZIP archive"),e};Ke.decompress=function(t,e,i,r,n){for(var s=20,o=258,a=0,l=1,h=50,f=-1,u="",c=0;c<6;c++)u+=t(8).toString(16);if(u=="177245385090"){var d=t(32)|0;return d!==n&&se.Error("Error in bzip2: crc32 do not match"),t(null),null}u!="314159265359"&&se.Error("eek not valid bzip data");var p=t(32)|0;t(1)&&se.Error("unsupported obsolete version");var g=t(24);g>r&&se.Error("Initial position larger than buffer size");var x=t(16),y=0;for(c=0;c<16;c++)if(x&1<<15-c){var w=t(16);for(M=0;M<16;M++)w&1<<15-M&&(this.symToByte[y++]=16*c+M)}var S=t(3);(S<2||S>6)&&se.Error("another error");var j=t(15);j==0&&se.Error("meh");for(var c=0;c<S;c++)this.mtfSymbol[c]=c;for(var c=0;c<j;c++){for(var M=0;t(1);M++)M>=S&&se.Error("whoops another error");for(var A=this.mtfSymbol[M],w=M-1;w>=0;w--)this.mtfSymbol[w+1]=this.mtfSymbol[w];this.mtfSymbol[0]=A,this.selectors[c]=A}for(var O=y+2,pe=[],U=new Uint8Array(o),Y=new Uint16Array(s+1),v,M=0;M<S;M++){x=t(5);for(var c=0;c<O;c++){for(;(x<1||x>s)&&se.Error("I gave up a while ago on writing error messages"),!!t(1);)t(1)?x--:x++;U[c]=x}var E,b;E=b=U[0];for(var c=1;c<O;c++)U[c]>b?b=U[c]:U[c]<E&&(E=U[c]);v=pe[M]={},v.permute=new Int32Array(o),v.limit=new Int32Array(s+1),v.base=new Int32Array(s+1),v.minLen=E,v.maxLen=b;for(var L=v.base,I=v.limit,B=0,c=E;c<=b;c++)for(var x=0;x<O;x++)U[x]==c&&(v.permute[B++]=x);for(c=E;c<=b;c++)Y[c]=I[c]=0;for(c=0;c<O;c++)Y[U[c]]++;for(B=x=0,c=E;c<b;c++)B+=Y[c],I[c]=B-1,B<<=1,L[c+1]=B-(x+=Y[c]);I[b]=B+Y[b]-1,L[E]=0}for(var c=0;c<256;c++)this.mtfSymbol[c]=c,this.byteCount[c]=0;var _,R,O,G;for(_=R=O=G=0;;){for(O--||(O=h-1,G>=j&&se.Error("meow i'm a kitty, that's an error"),v=pe[this.selectors[G++]],L=v.base,I=v.limit),c=v.minLen,M=t(c);c>v.maxLen&&se.Error("rawr i'm a dinosaur"),!(M<=I[c]);)c++,M=M<<1|t(1);M-=L[c],(M<0||M>=o)&&se.Error("moo i'm a cow");var F=v.permute[M];if(F==a||F==l){_||(_=1,x=0),F==a?x+=_:x+=2*_,_<<=1;continue}if(_)for(_=0,R+x>r&&se.Error("Boom."),A=this.symToByte[this.mtfSymbol[0]],this.byteCount[A]+=x;x--;)i[R++]=A;if(F>y)break;R>=r&&se.Error("I can't think of anything. Error"),c=F-1,A=this.mtfSymbol[c];for(var w=c-1;w>=0;w--)this.mtfSymbol[w+1]=this.mtfSymbol[w];this.mtfSymbol[0]=A,A=this.symToByte[A],this.byteCount[A]++,i[R++]=A}(g<0||g>=R)&&se.Error("I'm a monkey and I'm throwing something at someone, namely you");for(var M=0,c=0;c<256;c++)w=M+this.byteCount[c],this.byteCount[c]=M,M=w;for(var c=0;c<R;c++)A=i[c]&255,i[this.byteCount[A]]|=c<<8,this.byteCount[A]++;var Kt=0,Vt=0,co=0;R&&(Kt=i[g],Vt=Kt&255,Kt>>=8,co=-1),R=R;for(var ho,uo,tn;R;){for(R--,uo=Vt,Kt=i[Kt],Vt=Kt&255,Kt>>=8,co++==3?(ho=Vt,tn=uo,Vt=-1):(ho=1,tn=Vt);ho--;)f=(f<<8^this.crcTable[(f>>24^tn)&255])&4294967295,e(tn);Vt!=uo&&(co=0)}return f=(f^-1)>>>0,(f|0)!=(p|0)&&se.Error("Error in bzip2: crc32 do not match"),n=(f^(n<<1|n>>>31))&4294967295,n};fx.exports=Ke});var dx=m((H6,ux)=>{var hx=[0,1,3,7,15,31,63,127,255];ux.exports=function(e){var i=0,r=0,n=e(),s=function(o){if(o===null&&i!=0){i=0,r++;return}for(var a=0;o>0;){r>=n.length&&(r=0,n=e());var l=8-i;i===0&&o>0&&s.bytesRead++,o>=l?(a<<=l,a|=hx[l]&n[r++],i=0,o-=l):(a<<=o,a|=(n[r]&hx[o]<<8-o-i)>>8-o-i,i+=o,o=0)}return a};return s.bytesRead=0,s}});var px=m((Y6,mx)=>{var R1=lx(),xx=cx(),O1=dx();mx.exports=T1;function T1(){var t=[],e=0,i=0,r=!1,n=!1,s=null,o=null;function a(f){if(i){var u=1e5*i,c=new Int32Array(u),d=[],p=function(g){d.push(g)};return o=xx.decompress(s,p,c,u,o),o===null?(i=0,!1):(f(Buffer.from(d)),!0)}else return i=xx.header(s),o=0,!0}var l=0;function h(f){if(!r)try{return a(function(u){f.queue(u),u!==null&&(l+=u.length)})}catch(u){return f.emit("error",u),r=!0,!1}}return R1(function(u){for(t.push(u),e+=u.length,s===null&&(s=O1(function(){return t.shift()}));!r&&e-s.bytesRead+1>=(25e3+1e5*i||4);)h(this)},function(u){for(;!r&&s&&e>s.bytesRead;)h(this);r||(o!==null&&this.emit("error",new Error("input stream ended prematurely")),this.queue(null))})}});var vx=m((G6,wx)=>{"use strict";var yx=Gs(),gx=Wd(),D1=Ts(),A1=sx(),C1=px();wx.exports=()=>t=>!Buffer.isBuffer(t)&&!D1(t)?Promise.reject(new TypeError(`Expected a Buffer or Stream, got ${typeof t}`)):Buffer.isBuffer(t)&&(!gx(t)||gx(t).ext!=="bz2")?Promise.resolve([]):Buffer.isBuffer(t)?yx()(A1.decode(t)):yx()(t.pipe(C1()))});var Sx=m(($6,bx)=>{"use strict";var F1=require("zlib"),B1=Gs(),Ex=wl(),L1=Ts();bx.exports=()=>t=>{if(!Buffer.isBuffer(t)&&!L1(t))return Promise.reject(new TypeError(`Expected a Buffer or Stream, got ${typeof t}`));if(Buffer.isBuffer(t)&&(!Ex(t)||Ex(t).ext!=="gz"))return Promise.resolve([]);let e=F1.createGunzip(),i=B1()(e);return Buffer.isBuffer(t)?e.end(t):t.pipe(e),i}});var Rx=m((Z6,_x)=>{"use strict";_x.exports=function(t){return t&&t.length>1?t[0]===255&&t[1]===216&&t[2]===255?{ext:"jpg",mime:"image/jpeg"}:t[0]===137&&t[1]===80&&t[2]===78&&t[3]===71?{ext:"png",mime:"image/png"}:t[0]===71&&t[1]===73&&t[2]===70?{ext:"gif",mime:"image/gif"}:t[8]===87&&t[9]===69&&t[10]===66&&t[11]===80?{ext:"webp",mime:"image/webp"}:t[0]===70&&t[1]===76&&t[2]===73&&t[3]===70?{ext:"flif",mime:"image/flif"}:(t[0]===73&&t[1]===73&&t[2]===42&&t[3]===0||t[0]===77&&t[1]===77&&t[2]===0&&t[3]===42)&&t[8]===67&&t[9]===82?{ext:"cr2",mime:"image/x-canon-cr2"}:t[0]===73&&t[1]===73&&t[2]===42&&t[3]===0||t[0]===77&&t[1]===77&&t[2]===0&&t[3]===42?{ext:"tif",mime:"image/tiff"}:t[0]===66&&t[1]===77?{ext:"bmp",mime:"image/bmp"}:t[0]===73&&t[1]===73&&t[2]===188?{ext:"jxr",mime:"image/vnd.ms-photo"}:t[0]===56&&t[1]===66&&t[2]===80&&t[3]===83?{ext:"psd",mime:"image/vnd.adobe.photoshop"}:t[0]===80&&t[1]===75&&t[2]===3&&t[3]===4&&t[30]===109&&t[31]===105&&t[32]===109&&t[33]===101&&t[34]===116&&t[35]===121&&t[36]===112&&t[37]===101&&t[38]===97&&t[39]===112&&t[40]===112&&t[41]===108&&t[42]===105&&t[43]===99&&t[44]===97&&t[45]===116&&t[46]===105&&t[47]===111&&t[48]===110&&t[49]===47&&t[50]===101&&t[51]===112&&t[52]===117&&t[53]===98&&t[54]===43&&t[55]===122&&t[56]===105&&t[57]===112?{ext:"epub",mime:"application/epub+zip"}:t[0]===80&&t[1]===75&&t[2]===3&&t[3]===4&&t[30]===77&&t[31]===69&&t[32]===84&&t[33]===65&&t[34]===45&&t[35]===73&&t[36]===78&&t[37]===70&&t[38]===47&&t[39]===109&&t[40]===111&&t[41]===122&&t[42]===105&&t[43]===108&&t[44]===108&&t[45]===97&&t[46]===46&&t[47]===114&&t[48]===115&&t[49]===97?{ext:"xpi",mime:"application/x-xpinstall"}:t[0]===80&&t[1]===75&&(t[2]===3||t[2]===5||t[2]===7)&&(t[3]===4||t[3]===6||t[3]===8)?{ext:"zip",mime:"application/zip"}:t[257]===117&&t[258]===115&&t[259]===116&&t[260]===97&&t[261]===114?{ext:"tar",mime:"application/x-tar"}:t[0]===82&&t[1]===97&&t[2]===114&&t[3]===33&&t[4]===26&&t[5]===7&&(t[6]===0||t[6]===1)?{ext:"rar",mime:"application/x-rar-compressed"}:t[0]===31&&t[1]===139&&t[2]===8?{ext:"gz",mime:"application/gzip"}:t[0]===66&&t[1]===90&&t[2]===104?{ext:"bz2",mime:"application/x-bzip2"}:t[0]===55&&t[1]===122&&t[2]===188&&t[3]===175&&t[4]===39&&t[5]===28?{ext:"7z",mime:"application/x-7z-compressed"}:t[0]===120&&t[1]===1?{ext:"dmg",mime:"application/x-apple-diskimage"}:t[0]===0&&t[1]===0&&t[2]===0&&(t[3]===24||t[3]===32)&&t[4]===102&&t[5]===116&&t[6]===121&&t[7]===112||t[0]===51&&t[1]===103&&t[2]===112&&t[3]===53||t[0]===0&&t[1]===0&&t[2]===0&&t[3]===28&&t[4]===102&&t[5]===116&&t[6]===121&&t[7]===112&&t[8]===109&&t[9]===112&&t[10]===52&&t[11]===50&&t[16]===109&&t[17]===112&&t[18]===52&&t[19]===49&&t[20]===109&&t[21]===112&&t[22]===52&&t[23]===50&&t[24]===105&&t[25]===115&&t[26]===111&&t[27]===109||t[0]===0&&t[1]===0&&t[2]===0&&t[3]===28&&t[4]===102&&t[5]===116&&t[6]===121&&t[7]===112&&t[8]===105&&t[9]===115&&t[10]===111&&t[11]===109||t[0]===0&&t[1]===0&&t[2]===0&&t[3]===28&&t[4]===102&&t[5]===116&&t[6]===121&&t[7]===112&&t[8]===109&&t[9]===112&&t[10]===52&&t[11]===50&&t[12]===0&&t[13]===0&&t[14]===0&&t[15]===0?{ext:"mp4",mime:"video/mp4"}:t[0]===0&&t[1]===0&&t[2]===0&&t[3]===28&&t[4]===102&&t[5]===116&&t[6]===121&&t[7]===112&&t[8]===77&&t[9]===52&&t[10]===86?{ext:"m4v",mime:"video/x-m4v"}:t[0]===77&&t[1]===84&&t[2]===104&&t[3]===100?{ext:"mid",mime:"audio/midi"}:t[31]===109&&t[32]===97&&t[33]===116&&t[34]===114&&t[35]===111&&t[36]===115&&t[37]===107&&t[38]===97?{ext:"mkv",mime:"video/x-matroska"}:t[0]===26&&t[1]===69&&t[2]===223&&t[3]===163?{ext:"webm",mime:"video/webm"}:t[0]===0&&t[1]===0&&t[2]===0&&t[3]===20&&t[4]===102&&t[5]===116&&t[6]===121&&t[7]===112?{ext:"mov",mime:"video/quicktime"}:t[0]===82&&t[1]===73&&t[2]===70&&t[3]===70&&t[8]===65&&t[9]===86&&t[10]===73?{ext:"avi",mime:"video/x-msvideo"}:t[0]===48&&t[1]===38&&t[2]===178&&t[3]===117&&t[4]===142&&t[5]===102&&t[6]===207&&t[7]===17&&t[8]===166&&t[9]===217?{ext:"wmv",mime:"video/x-ms-wmv"}:t[0]===0&&t[1]===0&&t[2]===1&&t[3].toString(16)[0]==="b"?{ext:"mpg",mime:"video/mpeg"}:t[0]===73&&t[1]===68&&t[2]===51||t[0]===255&&t[1]===251?{ext:"mp3",mime:"audio/mpeg"}:t[4]===102&&t[5]===116&&t[6]===121&&t[7]===112&&t[8]===77&&t[9]===52&&t[10]===65||t[0]===77&&t[1]===52&&t[2]===65&&t[3]===32?{ext:"m4a",mime:"audio/m4a"}:t[28]===79&&t[29]===112&&t[30]===117&&t[31]===115&&t[32]===72&&t[33]===101&&t[34]===97&&t[35]===100?{ext:"opus",mime:"audio/opus"}:t[0]===79&&t[1]===103&&t[2]===103&&t[3]===83?{ext:"ogg",mime:"audio/ogg"}:t[0]===102&&t[1]===76&&t[2]===97&&t[3]===67?{ext:"flac",mime:"audio/x-flac"}:t[0]===82&&t[1]===73&&t[2]===70&&t[3]===70&&t[8]===87&&t[9]===65&&t[10]===86&&t[11]===69?{ext:"wav",mime:"audio/x-wav"}:t[0]===35&&t[1]===33&&t[2]===65&&t[3]===77&&t[4]===82&&t[5]===10?{ext:"amr",mime:"audio/amr"}:t[0]===37&&t[1]===80&&t[2]===68&&t[3]===70?{ext:"pdf",mime:"application/pdf"}:t[0]===77&&t[1]===90?{ext:"exe",mime:"application/x-msdownload"}:(t[0]===67||t[0]===70)&&t[1]===87&&t[2]===83?{ext:"swf",mime:"application/x-shockwave-flash"}:t[0]===123&&t[1]===92&&t[2]===114&&t[3]===116&&t[4]===102?{ext:"rtf",mime:"application/rtf"}:t[0]===119&&t[1]===79&&t[2]===70&&t[3]===70&&(t[4]===0&&t[5]===1&&t[6]===0&&t[7]===0||t[4]===79&&t[5]===84&&t[6]===84&&t[7]===79)?{ext:"woff",mime:"application/font-woff"}:t[0]===119&&t[1]===79&&t[2]===70&&t[3]===50&&(t[4]===0&&t[5]===1&&t[6]===0&&t[7]===0||t[4]===79&&t[5]===84&&t[6]===84&&t[7]===79)?{ext:"woff2",mime:"application/font-woff"}:t[34]===76&&t[35]===80&&(t[8]===0&&t[9]===0&&t[10]===1||t[8]===1&&t[9]===0&&t[10]===2||t[8]===2&&t[9]===0&&t[10]===2)?{ext:"eot",mime:"application/octet-stream"}:t[0]===0&&t[1]===1&&t[2]===0&&t[3]===0&&t[4]===0?{ext:"ttf",mime:"application/font-sfnt"}:t[0]===79&&t[1]===84&&t[2]===84&&t[3]===79&&t[4]===0?{ext:"otf",mime:"application/font-sfnt"}:t[0]===0&&t[1]===0&&t[2]===1&&t[3]===0?{ext:"ico",mime:"image/x-icon"}:t[0]===70&&t[1]===76&&t[2]===86&&t[3]===1?{ext:"flv",mime:"video/x-flv"}:t[0]===37&&t[1]===33?{ext:"ps",mime:"application/postscript"}:t[0]===253&&t[1]===55&&t[2]===122&&t[3]===88&&t[4]===90&&t[5]===0?{ext:"xz",mime:"application/x-xz"}:t[0]===83&&t[1]===81&&t[2]===76&&t[3]===105?{ext:"sqlite",mime:"application/x-sqlite3"}:t[0]===78&&t[1]===69&&t[2]===83&&t[3]===26?{ext:"nes",mime:"application/x-nintendo-nes-rom"}:t[0]===67&&t[1]===114&&t[2]===50&&t[3]===52?{ext:"crx",mime:"application/x-google-chrome-extension"}:t[0]===77&&t[1]===83&&t[2]===67&&t[3]===70||t[0]===73&&t[1]===83&&t[2]===99&&t[3]===40?{ext:"cab",mime:"application/vnd.ms-cab-compressed"}:t[0]===33&&t[1]===60&&t[2]===97&&t[3]===114&&t[4]===99&&t[5]===104&&t[6]===62&&t[7]===10&&t[8]===100&&t[9]===101&&t[10]===98&&t[11]===105&&t[12]===97&&t[13]===110&&t[14]===45&&t[15]===98&&t[16]===105&&t[17]===110&&t[18]===97&&t[19]===114&&t[20]===121?{ext:"deb",mime:"application/x-deb"}:t[0]===33&&t[1]===60&&t[2]===97&&t[3]===114&&t[4]===99&&t[5]===104&&t[6]===62?{ext:"ar",mime:"application/x-unix-archive"}:t[0]===237&&t[1]===171&&t[2]===238&&t[3]===219?{ext:"rpm",mime:"application/x-rpm"}:t[0]===31&&t[1]===160||t[0]===31&&t[1]===157?{ext:"Z",mime:"application/x-compress"}:t[0]===76&&t[1]===90&&t[2]===73&&t[3]===80?{ext:"lz",mime:"application/x-lzip"}:t[0]===208&&t[1]===207&&t[2]===17&&t[3]===224&&t[4]===161&&t[5]===177&&t[6]===26&&t[7]===225?{ext:"msi",mime:"application/x-msi"}:null:null}});var Lx=m((K6,Bx)=>{"use strict";var rf="pending",Ox="settled",Zs="fulfilled",Ks="rejected",I1=function(){},Tx=typeof global<"u"&&typeof global.process<"u"&&typeof global.process.emit=="function",N1=typeof setImmediate>"u"?setTimeout:setImmediate,Yr=[],tf;function M1(){for(var t=0;t<Yr.length;t++)Yr[t][0](Yr[t][1]);Yr=[],tf=!1}function Vs(t,e){Yr.push([t,e]),tf||(tf=!0,N1(M1,0))}function P1(t,e){function i(n){nf(e,n)}function r(n){Gr(e,n)}try{t(i,r)}catch(n){r(n)}}function Dx(t){var e=t.owner,i=e._state,r=e._data,n=t[i],s=t.then;if(typeof n=="function"){i=Zs;try{r=n(r)}catch(o){Gr(s,o)}}Ax(s,r)||(i===Zs&&nf(s,r),i===Ks&&Gr(s,r))}function Ax(t,e){var i;try{if(t===e)throw new TypeError("A promises callback cannot return that same promise.");if(e&&(typeof e=="function"||typeof e=="object")){var r=e.then;if(typeof r=="function")return r.call(e,function(n){i||(i=!0,e===n?Cx(t,n):nf(t,n))},function(n){i||(i=!0,Gr(t,n))}),!0}}catch(n){return i||Gr(t,n),!0}return!1}function nf(t,e){(t===e||!Ax(t,e))&&Cx(t,e)}function Cx(t,e){t._state===rf&&(t._state=Ox,t._data=e,Vs(q1,t))}function Gr(t,e){t._state===rf&&(t._state=Ox,t._data=e,Vs(k1,t))}function Fx(t){t._then=t._then.forEach(Dx)}function q1(t){t._state=Zs,Fx(t)}function k1(t){t._state=Ks,Fx(t),!t._handled&&Tx&&global.process.emit("unhandledRejection",t._data,t)}function z1(t){global.process.emit("rejectionHandled",t)}function Re(t){if(typeof t!="function")throw new TypeError("Promise resolver "+t+" is not a function");if(!(this instanceof Re))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this._then=[],P1(t,this)}Re.prototype={constructor:Re,_state:rf,_then:null,_data:void 0,_handled:!1,then:function(t,e){var i={owner:this,then:new this.constructor(I1),fulfilled:t,rejected:e};return(e||t)&&!this._handled&&(this._handled=!0,this._state===Ks&&Tx&&Vs(z1,this)),this._state===Zs||this._state===Ks?Vs(Dx,i):this._then.push(i),i.then},catch:function(t){return this.then(null,t)}};Re.all=function(t){if(!Array.isArray(t))throw new TypeError("You must pass an array to Promise.all().");return new Re(function(e,i){var r=[],n=0;function s(l){return n++,function(h){r[l]=h,--n||e(r)}}for(var o=0,a;o<t.length;o++)a=t[o],a&&typeof a.then=="function"?a.then(s(o),i):r[o]=a;n||e(r)})};Re.race=function(t){if(!Array.isArray(t))throw new TypeError("You must pass an array to Promise.race().");return new Re(function(e,i){for(var r=0,n;r<t.length;r++)n=t[r],n&&typeof n.then=="function"?n.then(e,i):e(n)})};Re.resolve=function(t){return t&&typeof t=="object"&&t.constructor===Re?t:new Re(function(e){e(t)})};Re.reject=function(t){return new Re(function(e,i){i(t)})};Bx.exports=Re});var Nx=m((V6,Ix)=>{"use strict";Ix.exports=typeof Promise=="function"?Promise:Lx()});var sf=m((X6,Px)=>{"use strict";var Mx=Object.getOwnPropertySymbols,U1=Object.prototype.hasOwnProperty,j1=Object.prototype.propertyIsEnumerable;function W1(t){if(t==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}function H1(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de",Object.getOwnPropertyNames(t)[0]==="5")return!1;for(var e={},i=0;i<10;i++)e["_"+String.fromCharCode(i)]=i;var r=Object.getOwnPropertyNames(e).map(function(s){return e[s]});if(r.join("")!=="0123456789")return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach(function(s){n[s]=s}),Object.keys(Object.assign({},n)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}Px.exports=H1()?Object.assign:function(t,e){for(var i,r=W1(t),n,s=1;s<arguments.length;s++){i=Object(arguments[s]);for(var o in i)U1.call(i,o)&&(r[o]=i[o]);if(Mx){n=Mx(i);for(var a=0;a<n.length;a++)j1.call(i,n[a])&&(r[n[a]]=i[n[a]])}}return r}});var kx=m((J6,qx)=>{var Y1=require("stream").PassThrough,G1=sf();qx.exports=function(t){t=G1({},t);var e=t.array,i=t.encoding,r=i==="buffer",n=!1;e?n=!(i||r):i=i||"utf8",r&&(i=null);var s=0,o=[],a=new Y1({objectMode:n});return i&&a.setEncoding(i),a.on("data",function(l){o.push(l),n?s=o.length:s+=l.length}),a.getBufferedValue=function(){return e?o:r?Buffer.concat(o,s):o.join("")},a.getBufferedLength=function(){return s},a}});var Ux=m((Q6,Xs)=>{"use strict";var zx=Nx(),of=sf(),$1=kx();function af(t,e){if(!t)return zx.reject(new Error("Expected a stream"));e=of({maxBuffer:1/0},e);var i=e.maxBuffer,r,n,s=new zx(function(o,a){r=$1(e),t.once("error",l),t.pipe(r),r.on("data",function(){r.getBufferedLength()>i&&a(new Error("maxBuffer exceeded"))}),r.once("error",l),r.on("end",o),n=function(){t.unpipe&&t.unpipe(r)};function l(h){h&&(h.bufferedData=r.getBufferedValue()),a(h)}});return s.then(n,n),s.then(function(){return r.getBufferedValue()})}Xs.exports=af;Xs.exports.buffer=function(t,e){return af(t,of({},e,{encoding:"buffer"}))};Xs.exports.array=function(t,e){return af(t,of({},e,{array:!0}))}});var lf=m((eS,Hx)=>{"use strict";var jx=function(t,e,i){return function(){for(var r=this,n=new Array(arguments.length),s=0;s<arguments.length;s++)n[s]=arguments[s];return new e(function(o,a){n.push(function(l,h){if(l)a(l);else if(i.multiArgs){for(var f=new Array(arguments.length-1),u=1;u<arguments.length;u++)f[u-1]=arguments[u];o(f)}else o(h)}),t.apply(r,n)})}},Wx=Hx.exports=function(t,e,i){typeof e!="function"&&(i=e,e=Promise),i=i||{},i.exclude=i.exclude||[/.+Sync$/];var r=function(s){var o=function(a){return typeof a=="string"?s===a:a.test(s)};return i.include?i.include.some(o):!i.exclude.some(o)},n=typeof t=="function"?function(){return i.excludeMain?t.apply(this,arguments):jx(t,e,i).apply(this,arguments)}:{};return Object.keys(t).reduce(function(s,o){var a=t[o];return s[o]=typeof a=="function"&&r(o)?jx(a,e,i):a,s},n)};Wx.all=Wx});var Zx=m((tS,$x)=>{$x.exports=Js;function Js(){this.pending=0,this.max=1/0,this.listeners=[],this.waiting=[],this.error=null}Js.prototype.go=function(t){this.pending<this.max?Gx(this,t):this.waiting.push(t)};Js.prototype.wait=function(t){this.pending===0?t(this.error):this.listeners.push(t)};Js.prototype.hold=function(){return Yx(this)};function Yx(t){t.pending+=1;var e=!1;return i;function i(n){if(e)throw new Error("callback called twice");if(e=!0,t.error=t.error||n,t.pending-=1,t.waiting.length>0&&t.pending<t.max)Gx(t,t.waiting.shift());else if(t.pending===0){var s=t.listeners;t.listeners=[],s.forEach(r)}}function r(n){n(t.error)}}function Gx(t,e){e(Yx(t))}});var Vx=m(Zr=>{var $r=require("fs"),Qs=require("util"),ff=require("stream"),Kx=ff.Readable,cf=ff.Writable,Z1=ff.PassThrough,K1=Zx(),eo=require("events").EventEmitter;Zr.createFromBuffer=V1;Zr.createFromFd=X1;Zr.BufferSlicer=St;Zr.FdSlicer=bt;Qs.inherits(bt,eo);function bt(t,e){e=e||{},eo.call(this),this.fd=t,this.pend=new K1,this.pend.max=1,this.refCount=0,this.autoClose=!!e.autoClose}bt.prototype.read=function(t,e,i,r,n){var s=this;s.pend.go(function(o){$r.read(s.fd,t,e,i,r,function(a,l,h){o(),n(a,l,h)})})};bt.prototype.write=function(t,e,i,r,n){var s=this;s.pend.go(function(o){$r.write(s.fd,t,e,i,r,function(a,l,h){o(),n(a,l,h)})})};bt.prototype.createReadStream=function(t){return new to(this,t)};bt.prototype.createWriteStream=function(t){return new io(this,t)};bt.prototype.ref=function(){this.refCount+=1};bt.prototype.unref=function(){var t=this;if(t.refCount-=1,t.refCount>0)return;if(t.refCount<0)throw new Error("invalid unref");t.autoClose&&$r.close(t.fd,e);function e(i){i?t.emit("error",i):t.emit("close")}};Qs.inherits(to,Kx);function to(t,e){e=e||{},Kx.call(this,e),this.context=t,this.context.ref(),this.start=e.start||0,this.endOffset=e.end,this.pos=this.start,this.destroyed=!1}to.prototype._read=function(t){var e=this;if(!e.destroyed){var i=Math.min(e._readableState.highWaterMark,t);if(e.endOffset!=null&&(i=Math.min(i,e.endOffset-e.pos)),i<=0){e.destroyed=!0,e.push(null),e.context.unref();return}e.context.pend.go(function(r){if(e.destroyed)return r();var n=new Buffer(i);$r.read(e.context.fd,n,0,i,e.pos,function(s,o){s?e.destroy(s):o===0?(e.destroyed=!0,e.push(null),e.context.unref()):(e.pos+=o,e.push(n.slice(0,o))),r()})})}};to.prototype.destroy=function(t){this.destroyed||(t=t||new Error("stream destroyed"),this.destroyed=!0,this.emit("error",t),this.context.unref())};Qs.inherits(io,cf);function io(t,e){e=e||{},cf.call(this,e),this.context=t,this.context.ref(),this.start=e.start||0,this.endOffset=e.end==null?1/0:+e.end,this.bytesWritten=0,this.pos=this.start,this.destroyed=!1,this.on("finish",this.destroy.bind(this))}io.prototype._write=function(t,e,i){var r=this;if(!r.destroyed){if(r.pos+t.length>r.endOffset){var n=new Error("maximum file length exceeded");n.code="ETOOBIG",r.destroy(),i(n);return}r.context.pend.go(function(s){if(r.destroyed)return s();$r.write(r.context.fd,t,0,t.length,r.pos,function(o,a){o?(r.destroy(),s(),i(o)):(r.bytesWritten+=a,r.pos+=a,r.emit("progress"),s(),i())})})}};io.prototype.destroy=function(){this.destroyed||(this.destroyed=!0,this.context.unref())};Qs.inherits(St,eo);function St(t,e){eo.call(this),e=e||{},this.refCount=0,this.buffer=t,this.maxChunkSize=e.maxChunkSize||Number.MAX_SAFE_INTEGER}St.prototype.read=function(t,e,i,r,n){var s=r+i,o=s-this.buffer.length,a=o>0?o:i;this.buffer.copy(t,e,r,s),setImmediate(function(){n(null,a)})};St.prototype.write=function(t,e,i,r,n){t.copy(this.buffer,r,e,e+i),setImmediate(function(){n(null,i,t)})};St.prototype.createReadStream=function(t){t=t||{};var e=new Z1(t);e.destroyed=!1,e.start=t.start||0,e.endOffset=t.end,e.pos=e.endOffset||this.buffer.length;for(var i=this.buffer.slice(e.start,e.pos),r=0;;){var n=r+this.maxChunkSize;if(n>=i.length){r<i.length&&e.write(i.slice(r,i.length));break}e.write(i.slice(r,n)),r=n}return e.end(),e.destroy=function(){e.destroyed=!0},e};St.prototype.createWriteStream=function(t){var e=this;t=t||{};var i=new cf(t);return i.start=t.start||0,i.endOffset=t.end==null?this.buffer.length:+t.end,i.bytesWritten=0,i.pos=i.start,i.destroyed=!1,i._write=function(r,n,s){if(!i.destroyed){var o=i.pos+r.length;if(o>i.endOffset){var a=new Error("maximum file length exceeded");a.code="ETOOBIG",i.destroyed=!0,s(a);return}r.copy(e.buffer,i.pos,0,r.length),i.bytesWritten+=r.length,i.pos=o,i.emit("progress"),s()}},i.destroy=function(){i.destroyed=!0},i};St.prototype.ref=function(){this.refCount+=1};St.prototype.unref=function(){if(this.refCount-=1,this.refCount<0)throw new Error("invalid unref")};function V1(t,e){return new St(t,e)}function X1(t,e){return new bt(t,e)}});var Qx=m((rS,Jx)=>{var Yt=require("buffer").Buffer,hf=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117];typeof Int32Array<"u"&&(hf=new Int32Array(hf));function Xx(t){if(Yt.isBuffer(t))return t;var e=typeof Yt.alloc=="function"&&typeof Yt.from=="function";if(typeof t=="number")return e?Yt.alloc(t):new Yt(t);if(typeof t=="string")return e?Yt.from(t):new Yt(t);throw new Error("input must be buffer, number, or string, received "+typeof t)}function J1(t){var e=Xx(4);return e.writeInt32BE(t,0),e}function uf(t,e){t=Xx(t),Yt.isBuffer(e)&&(e=e.readUInt32BE(0));for(var i=~~e^-1,r=0;r<t.length;r++)i=hf[(i^t[r])&255]^i>>>8;return i^-1}function df(){return J1(uf.apply(null,arguments))}df.signed=function(){return uf.apply(null,arguments)};df.unsigned=function(){return uf.apply(null,arguments)>>>0};Jx.exports=df});var om=m(Xe=>{var xf=require("fs"),Q1=require("zlib"),em=Vx(),eE=Qx(),so=require("util"),oo=require("events").EventEmitter,tm=require("stream").Transform,mf=require("stream").PassThrough,tE=require("stream").Writable;Xe.open=iE;Xe.fromFd=im;Xe.fromBuffer=rE;Xe.fromRandomAccessReader=pf;Xe.dosDateTimeToDate=nm;Xe.validateFileName=sm;Xe.ZipFile=Gt;Xe.Entry=Kr;Xe.RandomAccessReader=$t;function iE(t,e,i){typeof e=="function"&&(i=e,e=null),e==null&&(e={}),e.autoClose==null&&(e.autoClose=!0),e.lazyEntries==null&&(e.lazyEntries=!1),e.decodeStrings==null&&(e.decodeStrings=!0),e.validateEntrySizes==null&&(e.validateEntrySizes=!0),e.strictFileNames==null&&(e.strictFileNames=!1),i==null&&(i=no),xf.open(t,"r",function(r,n){if(r)return i(r);im(n,e,function(s,o){s&&xf.close(n,no),i(s,o)})})}function im(t,e,i){typeof e=="function"&&(i=e,e=null),e==null&&(e={}),e.autoClose==null&&(e.autoClose=!1),e.lazyEntries==null&&(e.lazyEntries=!1),e.decodeStrings==null&&(e.decodeStrings=!0),e.validateEntrySizes==null&&(e.validateEntrySizes=!0),e.strictFileNames==null&&(e.strictFileNames=!1),i==null&&(i=no),xf.fstat(t,function(r,n){if(r)return i(r);var s=em.createFromFd(t,{autoClose:!0});pf(s,n.size,e,i)})}function rE(t,e,i){typeof e=="function"&&(i=e,e=null),e==null&&(e={}),e.autoClose=!1,e.lazyEntries==null&&(e.lazyEntries=!1),e.decodeStrings==null&&(e.decodeStrings=!0),e.validateEntrySizes==null&&(e.validateEntrySizes=!0),e.strictFileNames==null&&(e.strictFileNames=!1);var r=em.createFromBuffer(t,{maxChunkSize:65536});pf(r,t.length,e,i)}function pf(t,e,i,r){typeof i=="function"&&(r=i,i=null),i==null&&(i={}),i.autoClose==null&&(i.autoClose=!0),i.lazyEntries==null&&(i.lazyEntries=!1),i.decodeStrings==null&&(i.decodeStrings=!0);var n=!!i.decodeStrings;if(i.validateEntrySizes==null&&(i.validateEntrySizes=!0),i.strictFileNames==null&&(i.strictFileNames=!1),r==null&&(r=no),typeof e!="number")throw new Error("expected totalSize parameter to be a number");if(e>Number.MAX_SAFE_INTEGER)throw new Error("zip file too large. only file sizes up to 2^52 are supported due to JavaScript's Number type being an IEEE 754 double.");t.ref();var s=22,o=65535,a=Math.min(s+o,e),l=Ve(a),h=e-l.length;or(t,l,0,a,h,function(f){if(f)return r(f);for(var u=a-s;u>=0;u-=1)if(l.readUInt32LE(u)===101010256){var c=l.slice(u),d=c.readUInt16LE(4);if(d!==0)return r(new Error("multi-disk zip files are not supported: found disk number: "+d));var p=c.readUInt16LE(10),g=c.readUInt32LE(16),x=c.readUInt16LE(20),y=c.length-s;if(x!==y)return r(new Error("invalid comment length. expected: "+y+". found: "+x));var w=n?ro(c,22,c.length,!1):c.slice(22);if(!(p===65535||g===4294967295))return r(null,new Gt(t,g,e,p,w,i.autoClose,i.lazyEntries,n,i.validateEntrySizes,i.strictFileNames));var S=Ve(20),j=h+u-S.length;or(t,S,0,S.length,j,function(A){if(A)return r(A);if(S.readUInt32LE(0)!==117853008)return r(new Error("invalid zip64 end of central directory locator signature"));var pe=ar(S,8),U=Ve(56);or(t,U,0,U.length,pe,function(Y){return Y?r(Y):U.readUInt32LE(0)!==101075792?r(new Error("invalid zip64 end of central directory record signature")):(p=ar(U,32),g=ar(U,48),r(null,new Gt(t,g,e,p,w,i.autoClose,i.lazyEntries,n,i.validateEntrySizes,i.strictFileNames)))})});return}r(new Error("end of central directory record signature not found"))})}so.inherits(Gt,oo);function Gt(t,e,i,r,n,s,o,a,l,h){var f=this;oo.call(f),f.reader=t,f.reader.on("error",function(u){rm(f,u)}),f.reader.once("close",function(){f.emit("close")}),f.readEntryCursor=e,f.fileSize=i,f.entryCount=r,f.comment=n,f.entriesRead=0,f.autoClose=!!s,f.lazyEntries=!!o,f.decodeStrings=!!a,f.validateEntrySizes=!!l,f.strictFileNames=!!h,f.isOpen=!0,f.emittedError=!1,f.lazyEntries||f._readEntry()}Gt.prototype.close=function(){this.isOpen&&(this.isOpen=!1,this.reader.unref())};function Me(t,e){t.autoClose&&t.close(),rm(t,e)}function rm(t,e){t.emittedError||(t.emittedError=!0,t.emit("error",e))}Gt.prototype.readEntry=function(){if(!this.lazyEntries)throw new Error("readEntry() called without lazyEntries:true");this._readEntry()};Gt.prototype._readEntry=function(){var t=this;if(t.entryCount===t.entriesRead){setImmediate(function(){t.autoClose&&t.close(),!t.emittedError&&t.emit("end")});return}if(!t.emittedError){var e=Ve(46);or(t.reader,e,0,e.length,t.readEntryCursor,function(i){if(i)return Me(t,i);if(!t.emittedError){var r=new Kr,n=e.readUInt32LE(0);if(n!==33639248)return Me(t,new Error("invalid central directory file header signature: 0x"+n.toString(16)));if(r.versionMadeBy=e.readUInt16LE(4),r.versionNeededToExtract=e.readUInt16LE(6),r.generalPurposeBitFlag=e.readUInt16LE(8),r.compressionMethod=e.readUInt16LE(10),r.lastModFileTime=e.readUInt16LE(12),r.lastModFileDate=e.readUInt16LE(14),r.crc32=e.readUInt32LE(16),r.compressedSize=e.readUInt32LE(20),r.uncompressedSize=e.readUInt32LE(24),r.fileNameLength=e.readUInt16LE(28),r.extraFieldLength=e.readUInt16LE(30),r.fileCommentLength=e.readUInt16LE(32),r.internalFileAttributes=e.readUInt16LE(36),r.externalFileAttributes=e.readUInt32LE(38),r.relativeOffsetOfLocalHeader=e.readUInt32LE(42),r.generalPurposeBitFlag&64)return Me(t,new Error("strong encryption is not supported"));t.readEntryCursor+=46,e=Ve(r.fileNameLength+r.extraFieldLength+r.fileCommentLength),or(t.reader,e,0,e.length,t.readEntryCursor,function(s){if(s)return Me(t,s);if(!t.emittedError){var o=(r.generalPurposeBitFlag&2048)!==0;r.fileName=t.decodeStrings?ro(e,0,r.fileNameLength,o):e.slice(0,r.fileNameLength);var a=r.fileNameLength+r.extraFieldLength,l=e.slice(r.fileNameLength,a);r.extraFields=[];for(var h=0;h<l.length-3;){var f=l.readUInt16LE(h+0),u=l.readUInt16LE(h+2),c=h+4,d=c+u;if(d>l.length)return Me(t,new Error("extra field length exceeds extra field buffer size"));var p=Ve(u);l.copy(p,0,c,d),r.extraFields.push({id:f,data:p}),h=d}if(r.fileComment=t.decodeStrings?ro(e,a,a+r.fileCommentLength,o):e.slice(a,a+r.fileCommentLength),r.comment=r.fileComment,t.readEntryCursor+=e.length,t.entriesRead+=1,r.uncompressedSize===4294967295||r.compressedSize===4294967295||r.relativeOffsetOfLocalHeader===4294967295){for(var g=null,h=0;h<r.extraFields.length;h++){var x=r.extraFields[h];if(x.id===1){g=x.data;break}}if(g==null)return Me(t,new Error("expected zip64 extended information extra field"));var y=0;if(r.uncompressedSize===4294967295){if(y+8>g.length)return Me(t,new Error("zip64 extended information extra field does not include uncompressed size"));r.uncompressedSize=ar(g,y),y+=8}if(r.compressedSize===4294967295){if(y+8>g.length)return Me(t,new Error("zip64 extended information extra field does not include compressed size"));r.compressedSize=ar(g,y),y+=8}if(r.relativeOffsetOfLocalHeader===4294967295){if(y+8>g.length)return Me(t,new Error("zip64 extended information extra field does not include relative header offset"));r.relativeOffsetOfLocalHeader=ar(g,y),y+=8}}if(t.decodeStrings)for(var h=0;h<r.extraFields.length;h++){var x=r.extraFields[h];if(x.id===28789){if(x.data.length<6||x.data.readUInt8(0)!==1)continue;var w=x.data.readUInt32LE(1);if(eE.unsigned(e.slice(0,r.fileNameLength))!==w)continue;r.fileName=ro(x.data,5,x.data.length,!0);break}}if(t.validateEntrySizes&&r.compressionMethod===0){var S=r.uncompressedSize;if(r.isEncrypted()&&(S+=12),r.compressedSize!==S){var j="compressed/uncompressed size mismatch for stored file: "+r.compressedSize+" != "+r.uncompressedSize;return Me(t,new Error(j))}}if(t.decodeStrings){t.strictFileNames||(r.fileName=r.fileName.replace(/\\/g,"/"));var A=sm(r.fileName,t.validateFileNameOptions);if(A!=null)return Me(t,new Error(A))}t.emit("entry",r),t.lazyEntries||t._readEntry()}})}})}};Gt.prototype.openReadStream=function(t,e,i){var r=this,n=0,s=t.compressedSize;if(i==null)i=e,e={};else{if(e.decrypt!=null){if(!t.isEncrypted())throw new Error("options.decrypt can only be specified for encrypted entries");if(e.decrypt!==!1)throw new Error("invalid options.decrypt value: "+e.decrypt);if(t.isCompressed()&&e.decompress!==!1)throw new Error("entry is encrypted and compressed, and options.decompress !== false")}if(e.decompress!=null){if(!t.isCompressed())throw new Error("options.decompress can only be specified for compressed entries");if(!(e.decompress===!1||e.decompress===!0))throw new Error("invalid options.decompress value: "+e.decompress)}if(e.start!=null||e.end!=null){if(t.isCompressed()&&e.decompress!==!1)throw new Error("start/end range not allowed for compressed entry without options.decompress === false");if(t.isEncrypted()&&e.decrypt!==!1)throw new Error("start/end range not allowed for encrypted entry without options.decrypt === false")}if(e.start!=null){if(n=e.start,n<0)throw new Error("options.start < 0");if(n>t.compressedSize)throw new Error("options.start > entry.compressedSize")}if(e.end!=null){if(s=e.end,s<0)throw new Error("options.end < 0");if(s>t.compressedSize)throw new Error("options.end > entry.compressedSize");if(s<n)throw new Error("options.end < options.start")}}if(!r.isOpen)return i(new Error("closed"));if(t.isEncrypted()&&e.decrypt!==!1)return i(new Error("entry is encrypted, and options.decrypt !== false"));r.reader.ref();var o=Ve(30);or(r.reader,o,0,o.length,t.relativeOffsetOfLocalHeader,function(a){try{if(a)return i(a);var l=o.readUInt32LE(0);if(l!==67324752)return i(new Error("invalid local file header signature: 0x"+l.toString(16)));var h=o.readUInt16LE(26),f=o.readUInt16LE(28),u=t.relativeOffsetOfLocalHeader+o.length+h+f,c;if(t.compressionMethod===0)c=!1;else if(t.compressionMethod===8)c=e.decompress!=null?e.decompress:!0;else return i(new Error("unsupported compression method: "+t.compressionMethod));var d=u,p=d+t.compressedSize;if(t.compressedSize!==0&&p>r.fileSize)return i(new Error("file data overflows file bounds: "+d+" + "+t.compressedSize+" > "+r.fileSize));var g=r.reader.createReadStream({start:d+n,end:d+s}),x=g;if(c){var y=!1,w=Q1.createInflateRaw();g.on("error",function(S){setImmediate(function(){y||w.emit("error",S)})}),g.pipe(w),r.validateEntrySizes?(x=new Vr(t.uncompressedSize),w.on("error",function(S){setImmediate(function(){y||x.emit("error",S)})}),w.pipe(x)):x=w,x.destroy=function(){y=!0,w!==x&&w.unpipe(x),g.unpipe(w),g.destroy()}}i(null,x)}finally{r.reader.unref()}})};function Kr(){}Kr.prototype.getLastModDate=function(){return nm(this.lastModFileDate,this.lastModFileTime)};Kr.prototype.isEncrypted=function(){return(this.generalPurposeBitFlag&1)!==0};Kr.prototype.isCompressed=function(){return this.compressionMethod===8};function nm(t,e){var i=t&31,r=(t>>5&15)-1,n=(t>>9&127)+1980,s=0,o=(e&31)*2,a=e>>5&63,l=e>>11&31;return new Date(n,r,i,l,a,o,s)}function sm(t){return t.indexOf("\\")!==-1?"invalid characters in fileName: "+t:/^[a-zA-Z]:/.test(t)||/^\//.test(t)?"absolute path: "+t:t.split("/").indexOf("..")!==-1?"invalid relative path: "+t:null}function or(t,e,i,r,n,s){if(r===0)return setImmediate(function(){s(null,Ve(0))});t.read(e,i,r,n,function(o,a){if(o)return s(o);if(a<r)return s(new Error("unexpected EOF"));s()})}so.inherits(Vr,tm);function Vr(t){tm.call(this),this.actualByteCount=0,this.expectedByteCount=t}Vr.prototype._transform=function(t,e,i){if(this.actualByteCount+=t.length,this.actualByteCount>this.expectedByteCount){var r="too many bytes in the stream. expected "+this.expectedByteCount+". got at least "+this.actualByteCount;return i(new Error(r))}i(null,t)};Vr.prototype._flush=function(t){if(this.actualByteCount<this.expectedByteCount){var e="not enough bytes in the stream. expected "+this.expectedByteCount+". got only "+this.actualByteCount;return t(new Error(e))}t()};so.inherits($t,oo);function $t(){oo.call(this),this.refCount=0}$t.prototype.ref=function(){this.refCount+=1};$t.prototype.unref=function(){var t=this;if(t.refCount-=1,t.refCount>0)return;if(t.refCount<0)throw new Error("invalid unref");t.close(e);function e(i){if(i)return t.emit("error",i);t.emit("close")}};$t.prototype.createReadStream=function(t){var e=t.start,i=t.end;if(e===i){var r=new mf;return setImmediate(function(){r.end()}),r}var n=this._readStreamForRange(e,i),s=!1,o=new ao(this);n.on("error",function(l){setImmediate(function(){s||o.emit("error",l)})}),o.destroy=function(){n.unpipe(o),o.unref(),n.destroy()};var a=new Vr(i-e);return o.on("error",function(l){setImmediate(function(){s||a.emit("error",l)})}),a.destroy=function(){s=!0,o.unpipe(a),o.destroy()},n.pipe(o).pipe(a)};$t.prototype._readStreamForRange=function(t,e){throw new Error("not implemented")};$t.prototype.read=function(t,e,i,r,n){var s=this.createReadStream({start:r,end:r+i}),o=new tE,a=0;o._write=function(l,h,f){l.copy(t,e+a,0,l.length),a+=l.length,f()},o.on("finish",n),s.on("error",function(l){n(l)}),s.pipe(o)};$t.prototype.close=function(t){setImmediate(t)};so.inherits(ao,mf);function ao(t){mf.call(this),this.context=t,this.context.ref(),this.unreffedYet=!1}ao.prototype._flush=function(t){this.unref(),t()};ao.prototype.unref=function(t){this.unreffedYet||(this.unreffedYet=!0,this.context.unref())};var nE="\0\u263A\u263B\u2665\u2666\u2663\u2660\u2022\u25D8\u25CB\u25D9\u2642\u2640\u266A\u266B\u263C\u25BA\u25C4\u2195\u203C\xB6\xA7\u25AC\u21A8\u2191\u2193\u2192\u2190\u221F\u2194\u25B2\u25BC !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~\u2302\xC7\xFC\xE9\xE2\xE4\xE0\xE5\xE7\xEA\xEB\xE8\xEF\xEE\xEC\xC4\xC5\xC9\xE6\xC6\xF4\xF6\xF2\xFB\xF9\xFF\xD6\xDC\xA2\xA3\xA5\u20A7\u0192\xE1\xED\xF3\xFA\xF1\xD1\xAA\xBA\xBF\u2310\xAC\xBD\xBC\xA1\xAB\xBB\u2591\u2592\u2593\u2502\u2524\u2561\u2562\u2556\u2555\u2563\u2551\u2557\u255D\u255C\u255B\u2510\u2514\u2534\u252C\u251C\u2500\u253C\u255E\u255F\u255A\u2554\u2569\u2566\u2560\u2550\u256C\u2567\u2568\u2564\u2565\u2559\u2558\u2552\u2553\u256B\u256A\u2518\u250C\u2588\u2584\u258C\u2590\u2580\u03B1\xDF\u0393\u03C0\u03A3\u03C3\xB5\u03C4\u03A6\u0398\u03A9\u03B4\u221E\u03C6\u03B5\u2229\u2261\xB1\u2265\u2264\u2320\u2321\xF7\u2248\xB0\u2219\xB7\u221A\u207F\xB2\u25A0\xA0";function ro(t,e,i,r){if(r)return t.toString("utf8",e,i);for(var n="",s=e;s<i;s++)n+=nE[t[s]];return n}function ar(t,e){var i=t.readUInt32LE(e),r=t.readUInt32LE(e+4);return r*4294967296+i}var Ve;typeof Buffer.allocUnsafe=="function"?Ve=function(t){return Buffer.allocUnsafe(t)}:Ve=function(t){return new Buffer(t)};function no(t){if(t)throw t}});var cm=m((sS,fm)=>{"use strict";var am=Rx(),sE=Ux(),lm=lf(),oE=om(),aE=(t,e)=>{let s=t.versionMadeBy>>8;return(e&61440)===40960?"symlink":(e&61440)===16384||s===0&&t.externalFileAttributes===16?"directory":"file"},lE=(t,e)=>{let i={mode:t.externalFileAttributes>>16&65535,mtime:t.getLastModDate(),path:t.fileName};return i.type=aE(t,i.mode),i.mode===0&&i.type==="directory"&&(i.mode=493),i.mode===0&&(i.mode=420),lm(e.openReadStream.bind(e))(t).then(sE.buffer).then(r=>(i.data=r,i.type==="symlink"&&(i.linkname=r.toString()),i)).catch(r=>{throw e.close(),r})},fE=t=>new Promise((e,i)=>{let r=[];t.readEntry(),t.on("entry",n=>{lE(n,t).catch(i).then(s=>{r.push(s),t.readEntry()})}),t.on("error",i),t.on("end",()=>e(r))});fm.exports=()=>t=>Buffer.isBuffer(t)?!am(t)||am(t).ext!=="zip"?Promise.resolve([]):lm(oE.fromBuffer)(t,{lazyEntries:!0}).then(fE):Promise.reject(new TypeError(`Expected a Buffer, got ${typeof t}`))});var dm=m((oS,um)=>{"use strict";var hm=(t,e)=>function(){let i=e.promiseModule,r=new Array(arguments.length);for(let n=0;n<arguments.length;n++)r[n]=arguments[n];return new i((n,s)=>{e.errorFirst?r.push(function(o,a){if(e.multiArgs){let l=new Array(arguments.length-1);for(let h=1;h<arguments.length;h++)l[h-1]=arguments[h];o?(l.unshift(o),s(l)):n(l)}else o?s(o):n(a)}):r.push(function(o){if(e.multiArgs){let a=new Array(arguments.length-1);for(let l=0;l<arguments.length;l++)a[l]=arguments[l];n(a)}else n(o)}),t.apply(this,r)})};um.exports=(t,e)=>{e=Object.assign({exclude:[/.+(Sync|Stream)$/],errorFirst:!0,promiseModule:Promise},e);let i=n=>{let s=o=>typeof o=="string"?n===o:o.test(n);return e.include?e.include.some(s):!e.exclude.some(s)},r;typeof t=="function"?r=function(){return e.excludeMain?t.apply(this,arguments):hm(t,e).apply(this,arguments)}:r=Object.create(Object.getPrototypeOf(t));for(let n in t){let s=t[n];r[n]=typeof s=="function"&&i(n)?hm(s,e):s}return r}});var ym=m((aS,yf)=>{"use strict";var cE=require("fs"),xi=require("path"),xm=dm(),mm={mode:511&~process.umask(),fs:cE},pm=t=>{if(process.platform==="win32"&&/[<>:"|?*]/.test(t.replace(xi.parse(t).root,""))){let i=new Error(`Path contains invalid characters: ${t}`);throw i.code="EINVAL",i}};yf.exports=(t,e)=>Promise.resolve().then(()=>{pm(t),e=Object.assign({},mm,e);let i=xm(e.fs.mkdir),r=xm(e.fs.stat),n=s=>i(s,e.mode).then(()=>s).catch(o=>{if(o.code==="ENOENT"){if(o.message.includes("null bytes")||xi.dirname(s)===s)throw o;return n(xi.dirname(s)).then(()=>n(s))}return r(s).then(a=>a.isDirectory()?s:Promise.reject()).catch(()=>{throw o})});return n(xi.resolve(t))});yf.exports.sync=(t,e)=>{pm(t),e=Object.assign({},mm,e);let i=r=>{try{e.fs.mkdirSync(r,e.mode)}catch(n){if(n.code==="ENOENT"){if(n.message.includes("null bytes")||xi.dirname(r)===r)throw n;return i(xi.dirname(r)),i(r)}try{if(!e.fs.statSync(r).isDirectory())throw new Error("The path is not a directory")}catch{throw n}}return r};return i(xi.resolve(t))}});var wm=m((lS,gm)=>{"use strict";gm.exports=function(e,i){if(i){if(typeof i!="object")throw new TypeError(String(i)+" is not an object. Expected an object that has boolean `includeZero` property.");if("includeZero"in i){if(typeof i.includeZero!="boolean")throw new TypeError(String(i.includeZero)+" is neither true nor false. `includeZero` option must be a Boolean value.");if(i.includeZero&&e===0)return!0}}return Number.isSafeInteger(e)&&e>=1}});var Em=m((fS,vm)=>{"use strict";var Xr=require("path"),Jr=require("util"),hE=wm();vm.exports=function(e,i,r){if(typeof e!="string")throw new TypeError(Jr.inspect(e)+" is not a string. First argument to strip-dirs must be a path string.");if(Xr.posix.isAbsolute(e)||Xr.win32.isAbsolute(e))throw new Error(`${e} is an absolute path. strip-dirs requires a relative path.`);if(!hE(i,{includeZero:!0}))throw new Error("The Second argument of strip-dirs must be a natural number or 0, but received "+Jr.inspect(i)+".");if(r){if(typeof r!="object")throw new TypeError(Jr.inspect(r)+" is not an object. Expected an object with a boolean `disallowOverflow` property.");if(Array.isArray(r))throw new TypeError(Jr.inspect(r)+" is an array. Expected an object with a boolean `disallowOverflow` property.");if("disallowOverflow"in r&&typeof r.disallowOverflow!="boolean")throw new TypeError(Jr.inspect(r.disallowOverflow)+" is neither true nor false. `disallowOverflow` option must be a Boolean value.")}else r={disallowOverflow:!1};let n=Xr.normalize(e).split(Xr.sep);if(n.length>1&&n[0]==="."&&n.shift(),i>n.length-1){if(r.disallowOverflow)throw new RangeError("Cannot strip more directories than there are.");i=n.length-1}return Xr.join.apply(null,n.slice(i))}});var Sm=m((cS,bm)=>{"use strict";var lo=require("path"),uE=o0(),dE=Gs(),xE=vx(),mE=Sx(),pE=cm(),gf=ym(),yE=lf(),gE=Em(),Oe=yE(uE),wE=(t,e)=>e.plugins.length===0?Promise.resolve([]):Promise.all(e.plugins.map(i=>i(t,e))).then(i=>i.reduce((r,n)=>r.concat(n))),wf=(t,e)=>Oe.realpath(t).catch(i=>{let r=lo.dirname(t);return wf(r,e)}).then(i=>{if(i.indexOf(e)!==0)throw new Error("Refusing to create a directory outside the output path.");return gf(t).then(Oe.realpath)}),vE=(t,e)=>Oe.readlink(t).catch(i=>null).then(i=>{if(i)throw new Error("Refusing to write into a symlink");return e}),EE=(t,e,i)=>wE(t,i).then(r=>(i.strip>0&&(r=r.map(n=>(n.path=gE(n.path,i.strip),n)).filter(n=>n.path!==".")),typeof i.filter=="function"&&(r=r.filter(i.filter)),typeof i.map=="function"&&(r=r.map(i.map)),e?Promise.all(r.map(n=>{let s=lo.join(e,n.path),o=n.mode&~process.umask(),a=new Date;return n.type==="directory"?gf(e).then(l=>Oe.realpath(l)).then(l=>wf(s,l)).then(()=>Oe.utimes(s,a,n.mtime)).then(()=>n):gf(e).then(l=>Oe.realpath(l)).then(l=>wf(lo.dirname(s),l).then(()=>l)).then(l=>n.type==="file"?vE(s,l):l).then(l=>Oe.realpath(lo.dirname(s)).then(h=>{if(h.indexOf(l)!==0)throw new Error("Refusing to write outside output directory: "+h)})).then(()=>n.type==="link"||n.type==="symlink"&&process.platform==="win32"?Oe.link(n.linkname,s):n.type==="symlink"?Oe.symlink(n.linkname,s):Oe.writeFile(s,n.data,{mode:o})).then(()=>n.type==="file"&&Oe.utimes(s,a,n.mtime)).then(()=>n)})):r));bm.exports=(t,e,i)=>typeof t!="string"&&!Buffer.isBuffer(t)?Promise.reject(new TypeError("Input file required")):(typeof e=="object"&&(i=e,e=null),i=Object.assign({plugins:[dE(),xE(),mE(),pE()]},i),(typeof t=="string"?Oe.readFile(t):Promise.resolve(t)).then(n=>EE(n,e,i)))});var Rm=m((hS,_m)=>{var me=require("vscode"),bE=Ku(),SE=Sm(),mi=require("os"),Qr=require("fs"),Pe=require("path"),{get:_E}=require("https"),{dataObject:RE}=_t();async function OE(t,e,i){let r="",n="";i.forEach(s=>{s.platforms.forEach(o=>{o===t&&(r=e+s.endpoint,n=s.streamName)})}),me.window.showInformationMessage(`Downloading toolchain for ${t}
${r}`),_E(r,s=>{s.pipe(Qr.createWriteStream(Pe.join(mi.homedir(),"Documents",n))),s.on("end",async()=>{me.window.showInformationMessage("Toolchain downloaded");let o=null;if(await me.window.showInformationMessage(`Would you like to save the toolchain to a different folder?
Default is "~/Documents/AVR Utils"`,"Yes","No")==="Yes"&&(o=await me.window.showOpenDialog({canSelectFiles:!1,canSelectMany:!1,canSelectFolders:!0,title:"Select a folder to save the toolchain to.",defaultUri:me.Uri.file(Pe.join(mi.homedir(),"Documents"))})),o){try{await me.workspace.fs.stat(me.Uri.file(Pe.join(o[0].fsPath,"toolchain")))}catch{await me.workspace.fs.createDirectory(me.Uri.file(Pe.join(o[0].fsPath,"toolchain")))}console.log(o[0]),o=Pe.join(o[0].fsPath,"toolchain")}else{try{await me.workspace.fs.stat(me.Uri.file(Pe.join(mi.homedir(),"Documents","AVR Utils","toolchain")))}catch{await me.workspace.fs.createDirectory(me.Uri.file(Pe.join(mi.homedir(),"Documents","AVR Utils","toolchain")))}o=Pe.join(mi.homedir(),"Documents","AVR Utils","toolchain")}Qr.readFile(Pe.join(__dirname,"..","storage","data.json"),"utf8",(l,h)=>{if(l)throw l;let f=JSON.parse(h);f.toolchain_directory=o,RE(f)}),t.toString()==="win32"?DE(`${Pe.join(mi.homedir(),"Documents",n)}`,o):TE(`${Pe.join(mi.homedir(),"Documents",n)}`,o)})})}function TE(t,e){Qr.createReadStream(t).pipe(bE.x({C:e,strip:1})).on("finish",()=>{me.window.showInformationMessage(`Toolchain extracted to ${e}`),Qr.unlinkSync(t)})}function DE(t,e){SE(t,e,{strip:1}).then(()=>{me.window.showInformationMessage(`Toolchain extracted to ${e}`),Qr.unlinkSync(t)})}_m.exports=OE});var Tm=m((uS,Om)=>{var oe=require("vscode"),en=require("path"),vf=require("fs"),AE=require("os");async function CE(){let t=await oe.window.showOpenDialog({canSelectFolders:!0,canSelectFiles:!1,title:"Select a folder to create your project in.",canSelectMany:!1});if(!t)return;let e=await oe.window.showInputBox({placeHolder:"project_name",title:"Enter a name for your project",validateInput:s=>{if(s.length<3)return"Please enter a better name for your project."}});if(!e)return;e=e.replace(" ","_");let i=en.join(t[0].fsPath,e);try{if(vf.existsSync(i))if(await oe.window.showErrorMessage(`Folder ${i} already exists. Do you wish to overwrite it?`,"Yes","No")==="Yes")await oe.workspace.fs.delete(oe.Uri.file(i),{recursive:!0});else return}catch{}let r=en.join(i,"Debug"),n=en.join(i,".vscode");await oe.workspace.fs.createDirectory(oe.Uri.file(i)),await oe.workspace.fs.createDirectory(oe.Uri.file(r)),await oe.workspace.fs.createDirectory(oe.Uri.file(n)),vf.writeFileSync(en.join(n,"avr_project.json"),JSON.stringify({avrDevice:null}),"utf8"),vf.writeFile(en.join(i,"main.c"),`/**
 * main.c
 * 
 * Created: ${new Date().toISOString()}
 * Author: ${AE.userInfo().username}
 */

#include <avr/io.h>

int main(void) {
    /* Replace with your application code */
    while(1){
        
    }
}
`,s=>{if(s)throw s}),oe.workspace.workspaceFolders?oe.window.showInformationMessage("Open newly created Project?","Yes","No").then(s=>{s==="Yes"&&oe.commands.executeCommand("vscode.openFolder",oe.Uri.file(i))}):oe.commands.executeCommand("vscode.openFolder",oe.Uri.file(i))}Om.exports=CE});var Cm=m((dS,Am)=>{var Dm=require("path"),pi=require("vscode");async function FE(){pi.window.showInformationMessage("Select a project created with Microchip/Atmel Studio");let t=await pi.window.showOpenDialog({canSelectFolders:!0,canSelectFiles:!1,canSelectMany:!1,title:"Select a folder to open"});if(!t)return;let e=Dm.join(t[0].fsPath,Dm.basename(t[0].fsPath));try{await pi.workspace.fs.stat(pi.Uri.file(e))}catch{e=t[0].fsPath}pi.window.showInformationMessage(`Opening ${e}`),pi.commands.executeCommand("vscode.openFolder",pi.Uri.file(e))}Am.exports=FE});var Bm=m((xS,Fm)=>{var fo=require("vscode"),BE=Pf(),LE=Rm(),IE=Tm(),NE=Cm();Fm.exports=function(){fo.commands.registerCommand("avr-utils.compileProject",BE),fo.commands.registerCommand("avr-utils.getToolchain",LE),fo.commands.registerCommand("avr-utils.makeProject",IE),fo.commands.registerCommand("avr-utils.openMicrochipStudioProject",NE)}});var Nm=m((mS,Im)=>{var Zt=require("path"),Lm=require("fs"),yi=require("vscode"),{includeDir:gi,thisWorkspace:ME,previousDefinitions:Ef}=_t(),{EOL:PE}=require("os"),{selectedDevice:qE}=cn(),kE=["auto","break","case","char","const","continue","default","do","double","else","enum","extern","float","for","goto","if","int","long","register","return","short","signed","sizeof","static","struct","switch","typedef","union","unsigned","void","volatile","while"],zE=yi.languages.registerDefinitionProvider("avr-c",{provideDefinition:(t,e)=>{let i=t.getText(t.getWordRangeAtPosition(e));if(Array.from(Ef.keys()).includes(i))return Ef.get(i);let r=[],n=[],s=qE().match(/^([a-zA-Z]+)((\d*)(.*?(\d?)))$/);Lm.readdirSync(Zt.join(gi(),"avr")).forEach(d=>{(s[0].includes("rf401")&&d==="io86r401.h"||s[4].startsWith("pwm")&&d.includes("pwm")||s[4].startsWith("can")&&d.includes(s[4])||s[4].startsWith("usb")&&d.includes(s[4].replace("usb","u").substring(0,s[4].replace("usb","u").length-1))||d.includes(`${s[1].includes("atmega")?"m":""}${s[2]}.h`))&&r.push(Zt.join(gi(),"avr",d))});let a=/^#include\s<(.*)>/,l=/^#include\s"(.*)"/;for(let d=0;d<t.lineCount;d++){let p=t.lineAt(d).text,g=p.match(a),x=p.match(l);g?r.push(Zt.join(gi(),g[1])):x&&n.push(Zt.join(ME().uri.fsPath,x[1]))}let h=[],f=new RegExp(`^#\\s?define\\s+\\b${i}\\b`),u=new RegExp(`\\b(void|int|char|short|long|float|double|signed|unsigned|const|static|extern|auto|register|volatile|inline)\\b\\s*?${i}\\s*?`);function c(d){d.forEach(p=>{let x=Lm.readFileSync(p,"utf8").split(PE);for(let y=0;y<x.length;y++)if(f.test(x[y])){let w=x[y].match(f);h.push(new yi.Location(yi.Uri.file(p),new yi.Position(y,w.index)))}else if(u.test(x[y])){let w=x[y].match(u);h.push(new yi.Location(yi.Uri.file(p),new yi.Position(y,w.index+w[1].length+1)))}})}return(!a.test(t.lineAt(e.line).text)||!l.test(t.lineAt(e.line).text)||!/^define$/.test(i))&&(kE.includes(i)||(c(r),c(n),Ef.set(i,h))),h}});Im.exports={definitions:zE}});var Pm=m((pS,Mm)=>{var{defaultCompletions:UE}=wo(),{includeDirProvider:jE}=on(),{definitions:WE}=Nm();function HE(t){t.subscriptions.push(UE,jE,WE)}Mm.exports=HE});var yS=require("vscode"),{init:YE}=cn(),GE=Bm(),$E=Pm(),{dataObject:ZE}=_t();async function KE(t){ZE(),GE(),await YE(t),$E(t),console.log('"avr-utils" is now active!')}function VE(){}module.exports={activate:KE,deactivate:VE};
/*! Bundled license information:

object-assign/index.js:
  (*
  object-assign
  (c) Sindre Sorhus
  @license MIT
  *)

is-natural-number/index.js:
  (*!
   * is-natural-number.js | MIT (c) Shinnosuke Watanabe
   * https://github.com/shinnn/is-natural-number.js
  *)

strip-dirs/index.js:
  (*!
   * strip-dirs | MIT (c) Shinnosuke Watanabe
   * https://github.com/shinnn/node-strip-dirs
  *)
*/
